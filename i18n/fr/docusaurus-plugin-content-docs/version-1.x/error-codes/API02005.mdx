---
title: "API02005 : Autorisations Insuffisantes"
sidebar_label: API02005
---

# API02005 : Autorisations Insuffisantes

## Ce Que Cela Signifie

Votre compte utilisateur n'a pas les capacités WordPress spécifiques requises pour cette action. Bien que vous ayez un accès de base, l'opération particulière que vous tentez nécessite des autorisations supplémentaires.

## Causes Courantes

- **Rôle utilisateur limité** — Votre rôle n'inclut pas toutes les capacités nécessaires
- **Capacité non assignée** — Une capacité spécifique manque à votre rôle
- **Restrictions de plugin** — Un plugin de sécurité limite les capacités
- **Problèmes de rôle personnalisé** — Les rôles personnalisés peuvent manquer de capacités

## Mappage des Erreurs Serveur

Ce code d'erreur est déclenché lorsque le serveur renvoie :

| Code Serveur | Source |
|--------------|--------|
| `rest_forbidden` | API REST de WordPress |
| `rest_cannot_create` | API REST de WordPress |
| `rest_cannot_edit` | API REST de WordPress |
| `rest_cannot_delete` | API REST de WordPress |
| `woocommerce_rest_cannot_create` | API REST de WooCommerce |
| `woocommerce_rest_cannot_edit` | API REST de WooCommerce |
| `woocommerce_rest_cannot_delete` | API REST de WooCommerce |
| HTTP 403 | Toute réponse serveur (fallback) |

## Comment Corriger

### 1. Réviser les Capacités Requises

Capacités courantes nécessaires pour les opérations POS :
- `manage_woocommerce` — Gestion générale de WooCommerce
- `edit_shop_orders` — Créer et modifier des commandes
- `edit_products` — Modifier les informations sur les produits
- `edit_users` — Gérer les comptes clients

### 2. Mettre à Niveau le Rôle de l'Utilisateur

Demandez à un administrateur d'assigner un rôle plus capable :
- **Gérant de Boutique** — Accès complet à WooCommerce
- **Administrateur** — Accès complet au site

### 3. Ajouter des Capacités Spécifiques

Si vous avez besoin d'un rôle personnalisé, ajoutez les capacités requises :

```php
// Example: Add POS capabilities to a custom role
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. Vérifier les Conflits de Plugin

Certains plugins de sécurité ou de gestion des rôles peuvent restreindre les capacités :
- Réviser les paramètres du plugin
- Vérifier les filtres de capacité
- Désactiver temporairement pour tester

## Erreurs Associées

- [API02004](./API02004) — Utilisateur Non Autorisé
- [API02010](./API02010) — Auth Required