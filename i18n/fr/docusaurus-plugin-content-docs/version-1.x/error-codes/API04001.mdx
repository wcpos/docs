---
title: "API04001 : Format de Réponse Invalide"
sidebar_label: API04001
---

# API04001 : Format de Réponse Invalide

## Ce Que Cela Signifie

Le serveur a répondu, mais le format de réponse n'est pas celui attendu par le POS. Le serveur devrait renvoyer des données JSON, mais autre chose a été reçu.

## Causes Courantes

- **Erreur PHP affichée** — Une erreur PHP est affichée avant le JSON
- **Conflit de plugin** — Un autre plugin génère du contenu
- **Mode maintenance** — Le site affiche une page de maintenance
- **Type de contenu incorrect** — Le serveur envoie du HTML au lieu de JSON
- **Problème de cache** — Une page d'erreur mise en cache est servie

## Comment Résoudre

### 1. Vérifiez Votre Site

Visitez votre site WordPress dans un navigateur :
- S'affiche-t-il normalement ?
- Y a-t-il des erreurs visibles ?
- Est-il en mode maintenance ?

### 2. Vérifiez les Erreurs PHP

Dans `wp-config.php`, activez temporairement le débogage :

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

Consultez `wp-content/debug.log` pour les erreurs.

### 3. Testez Directement l'API REST

Visitez `https://yoursite.com/wp-json/` dans votre navigateur :
- Devrait renvoyer des données JSON
- Si vous voyez du HTML ou des erreurs, il y a un problème
- Vérifiez la sortie liée aux plugins

### 4. Désactivez Temporairement le Cache

Les plugins de cache peuvent servir des réponses périmées :
- Effacez tous les caches
- Désactivez temporairement les plugins de cache
- Excluez l'API REST du cache

### 5. Vérifiez les Conflits de Plugins

Si un plugin génère du contenu sur chaque page :
1. Désactivez tous les plugins non essentiels
2. Testez le POS
3. Réactivez les plugins un par un

## Erreurs Connexes

- [API04003](./API04003) — Réponse JSON Malformée
- [API05005](./API05005) — Plugin Non Trouvé