---
title: Commandes Ouvertes
sidebar_label: Commandes Ouvertes
sidebar_position: 3
---

WCPOS vous permet de travailler avec plusieurs commandes simultanément. C'est utile pour gérer les mises en attente des clients, passer d'une transaction à l'autre et récupérer après des interruptions.

## Carrousel des Commandes Ouvertes

Au bas du **Panneau du Panier**, un carrousel horizontal affiche toutes les commandes ouvertes :

{/* Screenshot: open-orders-carousel.png */}

- Chaque panier affiche son **montant total**
- La **commande actuelle** est mise en évidence
- Cliquez sur n'importe quel panier pour y basculer
- Faites défiler à gauche/droite pour voir plus de paniers

## Création d'une Nouvelle Commande

Un nouveau panier vide est toujours disponible. Il suffit de cliquer sur un panier vide dans le carrousel ou de commencer à ajouter des produits lorsque le panier actuel est vide.

## Changement de Commandes

Cliquez sur n'importe quelle commande dans le carrousel pour y basculer. Le **Panneau du Panier** se met à jour pour montrer le contenu de la commande sélectionnée.

**Cas d'utilisation :**

- Un client s'éloigne pour prendre un autre article
- Besoin d'aider un client rapide pendant qu'une grande commande est en cours
- Comparer les prix ou les articles entre les commandes

## Sauvegarde des Commandes sur le Serveur

Les commandes existent dans deux états :

### Local Seulement

Par défaut, les nouvelles commandes sont stockées uniquement dans la base de données locale du navigateur/de l'application. Elles persistent à travers les actualisations de page mais :

- Ne sont pas visibles dans l'admin WooCommerce
- Seront perdues si la base de données locale est effacée
- Ne sont pas accessibles depuis d'autres appareils

### Sauvegardé sur le Serveur

Cliquez sur **Sauvegarder vers le Serveur** pour créer une commande WooCommerce avec le statut `pos-open`. Cela :

- Crée une véritable commande dans WooCommerce
- Persiste même si la base de données locale est effacée
- Peut être accessible depuis d'autres appareils
- Apparait dans WP Admin > WooCommerce > Commandes

:::tip Quand Sauvegarder
Sauvegardez les commandes vers le serveur lorsque :
- Un client souhaite mettre une commande de côté pour un retrait ultérieur
- Vous terminez votre shift et un autre caissier va continuer
- Vous souhaitez une sauvegarde en cas de problème d'application/de navigateur
:::

## Récupération des Commandes Sauvegardées

Si vous avez sauvegardé des commandes sur le serveur, vous pouvez y accéder à nouveau en :

1. Ouvrant l'écran **Commandes** (fonctionnalité Pro)
2. Filtrant par statut `pos-open`
3. Rouvrant la commande

## Persistance des Commandes

### Stockage Local

WCPOS utilise IndexedDB pour stocker les commandes localement. Cela offre :

- Persistance à travers les sessions de navigateur
- Accès rapide sans requêtes réseau
- Capacité hors ligne

### Synchronisation avec le Serveur

Lorsque vous sauvegardez vers le serveur ou lorsque vous passez à la caisse :

- La commande est envoyée à WooCommerce
- Une confirmation est reçue
- Les données locales et serveur sont synchronisées

## Annulation des Commandes

Pour retirer une commande ouverte :

1. Basculez vers la commande que vous souhaitez retirer
2. Cliquez sur le bouton **Annuler**

**Ce qui se passe :**

- **Commandes non sauvegardées :** Supprimées définitivement de la base de données locale
- **Commandes sauvegardées :** Déplacées vers la Corbeille dans WooCommerce et supprimées localement

Pour récupérer une commande sauvegardée annulée :
1. Allez dans `WP Admin > WooCommerce > Commandes > Corbeille`
2. Restaurez la commande

## Conseils

### Gardez les Commandes Organisées

Avec plusieurs commandes ouvertes, il est utile de :

- Ajouter les noms des clients aux commandes pour une identification facile
- Ajouter des notes de commande décrivant la raison de la mise en attente
- Sauvegarder les commandes importantes vers le serveur

### Passation des Quarts

Lorsque vous terminez un quart avec des commandes ouvertes :

1. Sauvegardez toutes les commandes importantes vers le serveur
2. Ajoutez des notes de commande expliquant le statut
3. Le prochain caissier peut y accéder depuis l'écran des Commandes

### Considérations Hors Ligne

Si vous perdez la connectivité :

- Les commandes locales restent accessibles et vous pouvez continuer à ajouter des articles
- Vous ne pouvez pas finaliser/passer à la caisse des commandes tant que la connectivité n'est pas rétablie
- Vous ne pouvez pas sauvegarder des commandes vers le serveur tant que vous n'êtes pas reconnecté
- Vous ne pouvez pas créer de nouveaux clients tant que vous n'êtes pas reconnecté

---