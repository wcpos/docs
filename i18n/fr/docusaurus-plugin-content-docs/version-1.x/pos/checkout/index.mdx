---
title: "Validation de commande"
sidebar_label: Validation de commande
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Lorsque vous êtes prêt à finaliser une vente, cliquez sur le bouton **Validation de commande** pour ouvrir le modal de validation. C'est ici que vous traitez le paiement et complétez la commande.

{/* Capture d'écran: checkout-modal.png */}

## Aperçu du modal de validation

Le modal de validation affiche :

- **Numéro de commande** - L'ID de commande WooCommerce
- **Montant à payer** - Montant total dû
- **Bouton Paramètres de validation** - Résoudre les problèmes d'affichage
- **Caissier** - Qui traite la commande
- **Client** - Le client pour cette commande (lien cliquable)
- **Champ de code de coupon** - Appliquer des codes de réduction
- **Résumé de la commande** - Produits, quantités et totaux
- **Méthodes de paiement** - Options de paiement disponibles
- **Annuler / Traiter le paiement** boutons

## Méthodes de paiement

### Disponibles dans la version gratuite

La version gratuite de WCPOS inclut deux passerelles de paiement :

- **Espèces** - Avec montant remis et calculateur de monnaie
- **Carte** - Pour des terminaux de carte externes

### Passerelles supplémentaires (Pro)

:::info Fonction Pro
Des passerelles de paiement supplémentaires nécessitent [WCPOS Pro](/getting-started/pro-license).
:::

Avec Pro, vous pouvez activer :

- **Terminal Stripe** - Intégration directe avec les lecteurs de cartes Stripe
- **Terminal SumUp** - Intégration avec les lecteurs de cartes SumUp
- **Passerelles personnalisées** - Créez vos propres intégrations de paiement

Consultez [Paiement](/payment) pour des détails sur la configuration des passerelles.

### Sélection d'une méthode de paiement

Cliquez sur une méthode de paiement pour la sélectionner. Le formulaire se met à jour pour afficher les champs pertinents :

**Espèces :**

- **Montant remis** - Entrez le montant que le client vous donne
- **Monnaie** - Monnaie à rendre, calculée automatiquement

{/* Capture d'écran: checkout-cash-payment.png */}

**Carte :**

- Traitez le paiement sur votre terminal de carte externe
- Cliquez sur Traiter le paiement pour finaliser

## Codes de coupon

Pour appliquer une réduction :

1. Entrez le code de coupon dans le champ
2. Cliquez sur **Appliquer le coupon**
3. La réduction apparaît dans le résumé de la commande

Les coupons doivent être configurés dans WooCommerce (`WP Admin > Marketing > Coupons`).

## Traitement du paiement

1. Sélectionnez une méthode de paiement
2. Pour les espèces, entrez le montant remis
3. Cliquez sur **Traiter le paiement**
4. La commande est finalisée et le [reçu](/pos/checkout/receipts) est affiché

## Paramètres de validation (Dépannage)

Le modal de validation utilise un iframe/webview pour afficher la page de paiement de la commande WooCommerce. Cela tire parti de l'infrastructure de paiement existante de WooCommerce, signifiant que toute passerelle de paiement qui fonctionne avec WooCommerce devrait fonctionner dans le POS.

Cependant, les scripts de thème et de plugin peuvent parfois interférer. Cliquez sur **Paramètres de validation** pour dépanner :

<div class="image-container">
  <Image
    alt="Paramètres de Validation dans le Modal de Validation"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Paramètres de Validation dans le Modal de Validation</p>
</div>

<div class="image-container">
  <Image
    alt="Formulaire pour désactiver tous les styles et scripts"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formulaire pour désactiver tous les styles et scripts</p>
</div>

### Désactiver tous les styles et scripts

:::warning Option nucléaire
C'est l'option nucléaire et ne doit être utilisée que pour des tests ou dans de rares cas où le développeur sait ce qu'il fait. Désactiver tous les scripts wp_head supprimera même les scripts WooCommerce nécessaires pour développer/réduire les passerelles de paiement, ce qui pourrait entraîner une rupture des fonctionnalités de paiement.
:::

- **Désactiver wp_head** - Supprime tous les scripts/styles de l'en-tête WordPress
- **Désactiver wp_footer** - Supprime tous les scripts/styles du pied de page WordPress

### Désactiver des styles sélectionnés

Désactivez de manière sélective le CSS qui pourrait causer des problèmes d'affichage :

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- etc.

### Désactiver des scripts sélectionnés

Désactivez de manière sélective le JavaScript qui pourrait interférer avec les passerelles de paiement :

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- etc.

:::tip
Si une passerelle de paiement ne s'affiche pas correctement :

1. Essayez d'abord de désactiver les styles du thème
2. Ensuite, essayez de désactiver les scripts WooCommerce qui ne sont pas nécessaires
3. Faites attention à ne pas désactiver les scripts requis par votre passerelle de paiement
   :::

## Annuler

Cliquez sur **Annuler** pour fermer le modal de validation sans finaliser la commande. La commande reste en tant que panier ouvert.

## Documentation associée

- [Reçus](/pos/checkout/receipts) - Après la validation, imprimez ou envoyez par email des reçus
- [Méthodes de paiement](/payment) - Configurez les passerelles de paiement
- [Passerelles personnalisées](/payment/custom-gateways) - Créez des intégrations de paiement personnalisées