---
title: "Modèles de Reçus"
sidebar_label: "Modèles de Reçus"
sidebar_position: 1
description: "Personnalisez les modèles de reçus WCPOS en utilisant HTML, CSS et des variables de modèle pour les reçus imprimés et envoyés par email."
---

import Accordion from '@site/src/components/Accordion';
import AccordionItem from '@site/src/components/AccordionItem';

L'éditeur de modèles de reçus vous permet de personnaliser l'apparence et le contenu des reçus imprimés depuis votre système de point de vente. Vous pouvez accéder à l'éditeur de modèle en naviguant vers : `WP Admin > POS > Templates`

## Aperçu {#overview}

Le système de modèles fournit deux types de modèles :

- **Modèles par Défaut** : Détectés automatiquement à partir de vos fichiers de plugin et de thème. Ceux-ci ne peuvent pas être supprimés mais peuvent être copiés pour créer des versions personnalisées.
- **Modèles Personnalisés** : Modèles créés par l'utilisateur que vous pouvez entièrement personnaliser, éditer et gérer.

## Accéder à l'Éditeur de Modèle {#accessing-the-template-editor}

1. Accédez à votre tableau de bord WordPress Admin
2. Allez à **POS > Templates**
3. Vous verrez une liste de modèles disponibles organisés en deux sections :
   - **Modèles par Défaut** (à partir des fichiers de plugin/thème)
   - **Modèles Personnalisés** (vos créations personnalisées)

## Modèles par Défaut {#default-templates}

Le système détecte automatiquement les modèles de reçus à partir de trois sources :

### Sources de Modèles {#template-sources}

| Source         | Description                                           | Statut                               |
| -------------- | -----------------------------------------------------| ------------------------------------ |
| **Plugin**     | Modèle de reçu de base inclus avec WooCommerce POS   | Toujours disponible                  |
| **Plugin Pro** | Modèle amélioré de WooCommerce POS Pro               | Disponible avec licence active       |
| **Thème**      | Modèle personnalisé de votre thème actif             | Disponible si le thème inclut le modèle |

### Actions sur les Modèles {#template-actions}

Pour chaque modèle par défaut, vous pouvez :

- **Aperçu** : Voir à quoi ressemble le modèle avec des données d'exemple
- **Copier** : Créer une copie personnalisée que vous pouvez modifier
- **Activer** : Définir comme le modèle actif pour votre POS

## Création de Modèles Personnalisés {#creating-custom-templates}

### Méthode 1 : Copier à Partir d'un Modèle par Défaut {#method-1-copy-from-default-template}

1. Dans la section **Modèles par Défaut**, trouvez le modèle que vous souhaitez personnaliser
2. Cliquez sur le bouton **Copier**
3. Saisissez un nom pour votre modèle personnalisé
4. Cliquez sur **Copier le Modèle**
5. Éditez le modèle personnalisé nouvellement créé

### Méthode 2 : Créer à Partir de Zéro {#method-2-create-from-scratch}

1. Cliquez sur **Ajouter un Nouveau Modèle** en haut de la page
2. Saisissez un nom de modèle
3. Sélectionnez **Reçu** comme type de modèle
4. Commencez à coder votre modèle dans l'éditeur

## Fonctionnalités de l'Éditeur de Modèle {#template-editor-features}

L'éditeur de modèle fournit :

### Éditeur de Code {#code-editor}

- **Mise en Évidence de la Syntaxe** : Mise en évidence de la syntaxe PHP pour une meilleure lisibilité du code
- **Numéros de Ligne** : Navigation et débogage faciles
- **Édition en Plein Écran** : Environnement d'édition sans distraction

### Panneau des Paramètres du Modèle {#template-settings-panel}

- **Langue** : Réglez sur PHP pour une mise en évidence de la syntaxe appropriée
- **Type de Modèle** : Choisissez entre les modèles de Reçus ou de Rapports
- **Statut** : Gestion de l'état publié/brouillon
- **Visibilité** : Contrôle de la visibilité des modèles 

### Actions sur les Modèles {#template-actions}

- **Aperçu** : Voyez comment votre modèle se rend avec des données d'exemple
- **Définir comme Actif** : Faites de ce modèle le défaut pour votre POS
- **Mettre à Jour** : Sauvegardez vos modifications
- **Déplacer vers la Corbeille** : Supprimer les modèles personnalisés

## Structure du Modèle {#template-structure}

Les modèles de reçus sont des fichiers PHP qui génèrent une sortie HTML. Voici la structure de base :

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## Variables de Modèle Disponibles {#available-template-variables}

Lorsque vous créez des modèles personnalisés, vous avez accès à diverses fonctions et données de WordPress et WooCommerce :

### Informations sur le Magasin {#store-information}

- `get_bloginfo( 'name' )` - Nom du magasin
- `get_bloginfo( 'description' )` - Tagline du magasin
- `get_bloginfo( 'url' )` - URL du magasin

### Données de Commande {#order-data}

Les données de commande actuelles sont accessibles via les fonctions de commande WooCommerce standard lorsque le modèle est rendu.

### Fonctions WCPOS {#wcpos-functions}

Vous pouvez utiliser des fonctions spécifiques à WCPOS (préfixées par `wcpos_`) pour accéder aux données et fonctionnalités liées au POS.

## Meilleures Pratiques {#best-practices}

### Développement de Modèle {#template-development}

1. **Commencez par une Copie** : Commencez toujours par copier un modèle par défaut plutôt que de partir de zéro
2. **Testez Minutieusement** : Utilisez la fonction d'aperçu pour tester votre modèle avant de l'activer
3. **Gardez des Sauvegardes** : Exportez vos modèles personnalisés ou gardez des copies de votre code
4. **Adapté aux Mobiles** : Assurez-vous que vos modèles fonctionnent bien sur différentes tailles d'écran

### Qualité du Code {#code-quality}

1. **Validez le HTML** : Assurez-vous que votre HTML est bien formé
2. **Échappez la Sortie** : Utilisez les fonctions d'échappement de WordPress pour la sécurité
3. **Gestion des Erreurs** : Incluez des vérifications d'erreurs appropriées dans votre code PHP
4. **Commentaires** : Documentez vos personnalisations pour référence future

### Performance

1. **Optimisez le CSS** : Gardez les styles minimaux et efficaces
2. **Minimisez le PHP** : Évitez les logiques complexes dans les modèles
3. **Testez l'Impression** : Vérifiez que les modèles fonctionnent bien avec vos imprimantes de reçus

## Dépannage {#troubleshooting}

### Problèmes Courants {#common-issues}

<Accordion>
  <AccordionItem question="Le modèle ne montre pas les changements">

  - Assurez-vous d'avoir cliqué sur "Mettre à jour" pour sauvegarder vos modifications
  - Vérifiez que le modèle est défini comme "Actif"
  - Effacez tout plugin de mise en cache

  </AccordionItem>

  <AccordionItem question="Erreurs de syntaxe">

  - Utilisez la mise en évidence de la syntaxe pour identifier les problèmes
  - Vérifiez les points-virgules, accolades ou guillemets manquants
  - Validez votre syntaxe PHP

  </AccordionItem>

  <AccordionItem question="Problèmes de style">

  - Testez votre CSS en mode aperçu
  - Assurez-vous que les styles sont compatibles avec les imprimantes de reçus
  - Gardez à l'esprit les principes de conception adaptés à l'impression

  </AccordionItem>

  <AccordionItem question="Modèle non disponible">

  - Vérifiez que le type de modèle est défini sur "Reçu"
  - Vérifiez que le statut du modèle est "Publié"
  - Assurez-vous que vous avez les permissions appropriées

  </AccordionItem>
</Accordion>

### Obtenir de l'Aide {#getting-help}

Si vous rencontrez des problèmes avec la personnalisation du modèle :

1. Vérifiez l'aperçu du modèle pour les messages d'erreur
2. Consultez le journal de débogage de WordPress pour les erreurs PHP
3. Testez avec une copie du modèle par défaut d'abord
4. **Assistance AI** : Des outils AI modernes comme [Gemini](https://gemini.google.com), ChatGPT et Claude sont excellents pour aider avec des modèles WordPress simples comme ceux-ci. Vous pouvez coller votre code de modèle et décrire ce que vous souhaitez réaliser.
5. Consultez la documentation WooCommerce POS pour des personnalisations avancées

## Personnalisation Avancée {#advanced-customisation}

Pour les utilisateurs avancés qui ont besoin de plus de contrôle sur les modèles de reçus :

### Intégration Thématique {#theme-integration}

Vous pouvez remplacer le modèle par défaut en plaçant un fichier `receipt.php` personnalisé dans votre thème :

```
your-theme/woocommerce-pos/receipt.php
```

### Hooks et Filtres {#hooks-and-filters}

WooCommerce POS fournit divers hooks et filtres pour la personnalisation des modèles. Consultez la documentation des développeurs pour les options disponibles.

### Champs Personnalisés {#custom-fields}

Vous pouvez inclure des champs de commande personnalisés, des attributs de produit et d'autres métadonnées dans vos modèles de reçus en utilisant les fonctions appropriées de WordPress et WooCommerce.