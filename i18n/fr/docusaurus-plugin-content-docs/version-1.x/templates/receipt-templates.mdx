---
title: "Modèles de Reçu"
sidebar_label: "Modèles de Reçu"
sidebar_position: 1
---

L’éditeur de modèle de reçu vous permet de personnaliser l’apparence et le contenu des reçus imprimés depuis votre système de POS. Vous pouvez accéder à l’éditeur de modèle en naviguant vers : `WP Admin > POS > Modèles`

## Aperçu

Le système de modèles fournit deux types de modèles :

- **Modèles Par Défaut** : Détectés automatiquement à partir des fichiers de votre plugin et de votre thème. Ceux-ci ne peuvent pas être supprimés mais peuvent être copiés pour créer des versions personnalisées.
- **Modèles Personnalisés** : Modèles créés par l’utilisateur que vous pouvez entièrement personnaliser, éditer et gérer.

## Accéder à l'Éditeur de Modèle

1. Accédez à votre tableau de bord WordPress Admin
2. Allez à **POS > Modèles**
3. Vous verrez une liste de modèles disponibles organisée en deux sections :
   - **Modèles Par Défaut** (à partir des fichiers de plugin/thème)
   - **Modèles Personnalisés** (vos créations personnalisées)

## Modèles Par Défaut

Le système détecte automatiquement les modèles de reçus à partir de trois sources :

### Sources de Modèle

| Source         | Description                                          | Statut                               |
| -------------- | ---------------------------------------------------- | ------------------------------------ |
| **Plugin**     | Modèle de reçu de base inclus avec WooCommerce POS   | Toujours disponible                  |
| **Plugin Pro** | Modèle amélioré de WooCommerce POS Pro               | Disponible avec licence active       |
| **Thème**      | Modèle personnalisé de votre thème actif             | Disponible si le thème inclut le modèle |

### Actions de Modèle

Pour chaque modèle par défaut, vous pouvez :

- **Aperçu** : Voir à quoi ressemble le modèle avec des données d’exemple
- **Copier** : Créer une copie personnalisée que vous pouvez modifier
- **Activer** : Définir comme modèle actif pour votre POS

## Création de Modèles Personnalisés

### Méthode 1 : Copier un Modèle Par Défaut

1. Dans la section **Modèles Par Défaut**, trouvez le modèle que vous souhaitez personnaliser
2. Cliquez sur le bouton **Copier**
3. Entrez un nom pour votre modèle personnalisé
4. Cliquez sur **Copier le Modèle**
5. Modifiez le modèle personnalisé nouvellement créé

### Méthode 2 : Créer à Partir de Rien

1. Cliquez sur **Ajouter un Nouveau Modèle** en haut de la page
2. Entrez un nom de modèle
3. Sélectionnez **Reçu** comme type de modèle
4. Commencez à coder votre modèle dans l’éditeur

## Fonctionnalités de l'Éditeur de Modèle

L’éditeur de modèle fournit :

### Éditeur de Code

- **Surlignement de Syntaxe** : Surlignement de syntaxe PHP pour une meilleure lisibilité du code
- **Numéros de Ligne** : Navigation et débogage faciles
- **Édition en Plein Écran** : Environnement d’édition sans distractions

### Panneau de Paramètres de Modèle

- **Langue** : Définir sur PHP pour un surlignement de syntaxe approprié
- **Type de Modèle** : Choisir entre Modèles de Reçu ou de Rapport
- **Statut** : Gestion de l’état Publié/Brouillon
- **Visibilité** : Contrôler la visibilité du modèle

### Actions de Modèle

- **Aperçu** : Voir comment votre modèle se rend avec des données d’exemple
- **Définir comme Actif** : Faire de ce modèle le modèle par défaut pour votre POS
- **Mettre à Jour** : Enregistrer vos modifications
- **Déplacer vers la Corbeille** : Supprimer des modèles personnalisés

## Structure du Modèle

Les modèles de reçu sont des fichiers PHP qui génèrent une sortie HTML. Voici la structure de base :

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## Variables de Modèle Disponibles

Lorsque vous créez des modèles personnalisés, vous avez accès à diverses fonctions et données de WordPress et WooCommerce :

### Informations sur le Magasin

- `get_bloginfo( 'name' )` - Nom du magasin
- `get_bloginfo( 'description' )` - Slogan du magasin
- `get_bloginfo( 'url' )` - URL du magasin

### Données de Commande

Les données de commande actuelles sont disponibles via des fonctions de commande WooCommerce standard lorsque le modèle est rendu.

### Fonctions WCPOS

Vous pouvez utiliser des fonctions spécifiques à WCPOS (préfixées par `wcpos_`) pour accéder aux données et fonctionnalités liées au POS.

## Meilleures Pratiques

### Développement de Modèles

1. **Commencer par une Copie** : Commencez toujours par copier un modèle par défaut plutôt que de créer à partir de rien
2. **Tester Minutieusement** : Utilisez la fonction d’aperçu pour tester votre modèle avant de l’activer
3. **Garder des Sauvegardes** : Exportez vos modèles personnalisés ou gardez des copies de votre code
4. **Compatible Mobile** : Assurez-vous que vos modèles fonctionnent bien sur différentes tailles d’écran

### Qualité du Code

1. **Valider le HTML** : Assurez-vous que votre HTML est bien formé
2. **Échapper la Sortie** : Utilisez les fonctions d’échappement de WordPress pour la sécurité
3. **Gestion des Erreurs** : Inclure une vérification des erreurs appropriée dans votre code PHP
4. **Commentaires** : Documentez vos personnalisations pour référence future

### Performance

1. **Optimiser le CSS** : Gardez les styles minimaux et efficaces
2. **Minimiser le PHP** : Évitez la logique complexe dans les modèles
3. **Tester l'Impression** : Vérifiez que les modèles fonctionnent bien avec vos imprimantes de reçu

## Dépannage

### Problèmes Courants

**Le Modèle ne Montre Pas les Changements**

- Assurez-vous d'avoir cliqué sur "Mettre à Jour" pour enregistrer vos changements
- Vérifiez que le modèle est défini comme "Actif"
- Videz tout plugin de mise en cache

**Erreurs de Syntaxe**

- Utilisez le surlignement de syntaxe pour identifier les problèmes
- Vérifiez les points-virgules, crochets ou guillemets manquants
- Validez votre syntaxe PHP

**Problèmes de Style**

- Testez votre CSS en mode aperçu
- Assurez-vous que les styles sont compatibles avec les imprimantes de reçu
- Gardez les principes de conception adaptés à l'impression à l'esprit

**Modèle Non Disponible**

- Vérifiez que le type de modèle est défini sur "Reçu"
- Vérifiez que le statut du modèle est "Publié"
- Assurez-vous que vous avez les autorisations appropriées

### Obtenir de l'Aide

Si vous rencontrez des problèmes avec la personnalisation des modèles :

1. Vérifiez l'aperçu du modèle pour les messages d'erreur
2. Consultez le journal de débogage de WordPress pour les erreurs PHP
3. Testez d'abord avec une copie du modèle par défaut
4. **Assistance IA** : Les outils modernes d'IA comme [Gemini](https://gemini.google.com), ChatGPT et Claude sont excellents pour aider avec des modèles WordPress simples comme ceux-ci. Vous pouvez coller votre code de modèle et décrire ce que vous souhaitez réaliser.
5. Consultez la documentation WooCommerce POS pour une personnalisation avancée

## Personnalisation Avancée

Pour les utilisateurs avancés qui ont besoin de plus de contrôle sur les modèles de reçu :

### Intégration de Thème

Vous pouvez remplacer le modèle par défaut en plaçant un fichier `receipt.php` personnalisé dans votre thème :

```
your-theme/woocommerce-pos/receipt.php
```

### Hooks et Filtres

WooCommerce POS fournit divers hooks et filtres pour la personnalisation des modèles. Consultez la documentation du développeur pour les options disponibles.

### Champs Personnalisés

Vous pouvez inclure des champs de commande personnalisés, des attributs de produit et d'autres métadonnées dans vos modèles de reçus en utilisant les fonctions appropriées de WordPress et WooCommerce.