---
title: Modèles de reçus
sidebar_label: Modèles de reçus
sidebar_position: 1
---

L'éditeur de modèles de reçus vous permet de personnaliser l'apparence et le contenu des reçus imprimés depuis votre système de caisse. Vous pouvez accéder à l'éditeur de modèles en naviguant vers : `WP Admin > POS > Modèles`

## Aperçu

Le système de modèles propose deux types de modèles :

- **Modèles par défaut** : Détectés automatiquement à partir de vos fichiers de plugins et de thèmes. Ils ne peuvent pas être supprimés mais peuvent être copiés pour créer des versions personnalisées.
- **Modèles personnalisés** : Modèles créés par l'utilisateur que vous pouvez entièrement personnaliser, modifier et gérer.

## Accéder à l'éditeur de modèles

1. Accédez au tableau de bord d'administration WordPress
2. Allez dans **POS > Modèles**
3. Vous verrez une liste de modèles disponibles organisés en deux sections :
   - **Modèles par défaut** (à partir des fichiers de plugins/thèmes)
   - **Modèles personnalisés** (vos créations personnalisées)

## Modèles par défaut

Le système détecte automatiquement les modèles de reçus à partir de trois sources :

### Sources des modèles

| Source         | Description                                         | Statut                               |
| -------------- | --------------------------------------------------- | ------------------------------------ |
| **Plugin**     | Modèle de reçu de base inclus avec WooCommerce POS  | Toujours disponible                  |
| **Plugin Pro** | Modèle amélioré de WooCommerce POS Pro              | Disponible avec une licence active   |
| **Thème**      | Modèle personnalisé à partir de votre thème actif   | Disponible si le thème inclut un modèle |

### Actions sur les modèles

Pour chaque modèle par défaut, vous pouvez :

- **Prévisualiser** : Voir à quoi ressemble le modèle avec des exemples de données
- **Copier** : Créer une copie personnalisée que vous pouvez modifier
- **Activer** : Définir comme modèle actif pour votre caisse

## Créer des modèles personnalisés

### Méthode 1 : Copier à partir d'un modèle par défaut

1. Dans la section **Modèles par défaut**, trouvez le modèle à personnaliser
2. Cliquez sur le bouton **Copier**
3. Entrez un nom pour votre modèle personnalisé
4. Cliquez sur **Copier le modèle**
5. Modifiez le modèle personnalisé nouvellement créé

### Méthode 2 : Créer à partir de zéro

1. Cliquez sur **Ajouter un nouveau modèle** en haut de la page
2. Entrez un nom de modèle
3. Sélectionnez **Reçu** comme type de modèle
4. Commencez à coder votre modèle dans l'éditeur

## Fonctionnalités de l'éditeur de modèles

L'éditeur de modèles offre :

### Éditeur de code

- **Coloration syntaxique** : Mise en évidence de la syntaxe PHP pour une meilleure lisibilité du code
- **Numéros de ligne** : Navigation et débogage faciles
- **Édition plein écran** : Environnement d'édition sans distraction

### Panneau des paramètres du modèle

- **Langue** : Définie sur PHP pour une coloration syntaxique appropriée
- **Type de modèle** : Choisissez entre les modèles de reçu ou de rapport
- **Statut** : Gestion du statut de publication/brouillon
- **Visibilité** : Contrôle de la visibilité du modèle

### Actions du modèle

- **Prévisualiser** : Voir comment votre modèle s'affiche avec des exemples de données
- **Définir comme actif** : Faire de ce modèle le défaut pour votre caisse
- **Mettre à jour** : Enregistrer vos modifications
- **Corbeille** : Supprimer les modèles personnalisés

## Structure du modèle

Les modèles de reçus sont des fichiers PHP qui génèrent une sortie HTML. Voici la structure de base :

```php
<?php
/**
 * Modèle de reçu personnalisé
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Sortir si accédé directement
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Vos styles CSS personnalisés */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Ajoutez plus de styles si nécessaire */
    </style>
</head>
<body>
    <!-- Votre contenu de reçu -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Détails de la commande, articles, totaux, etc. -->

</body>
</html>
```

## Variables de modèle disponibles

Lors de la création de modèles personnalisés, vous avez accès à diverses fonctions et données de WordPress et WooCommerce :

### Informations du magasin

- `get_bloginfo( 'name' )` - Nom du magasin
- `get_bloginfo( 'description' )` - Slogan du magasin
- `get_bloginfo( 'url' )` - URL du magasin

### Données de commande

Les données de la commande actuelle sont disponibles via les fonctions standard de commande de WooCommerce lors du rendu du modèle.

### Fonctions WCPOS

Vous pouvez utiliser des fonctions spécifiques à WCPOS (préfixées par `wcpos_`) pour accéder aux données et fonctionnalités liées à la caisse.

## Bonnes pratiques

### Développement de modèles

1. **Commencez par une copie** : Commencez toujours par copier un modèle par défaut plutôt que de créer à partir de zéro
2. **Testez à fond** : Utilisez la fonction de prévisualisation pour tester votre modèle avant de l'activer
3. **Gardez des sauvegardes** : Exportez vos modèles personnalisés ou conservez des copies de votre code
4. **Compatible mobile** : Assurez-vous que vos modèles fonctionnent bien sur différentes tailles d'écran

### Qualité du code

1. **Validez HTML** : Assurez-vous que votre HTML est bien formé
2. **Échappez la sortie** : Utilisez les fonctions d'échappement de WordPress pour la sécurité
3. **Gestion des erreurs** : Incluez des vérifications d'erreurs appropriées dans votre code PHP
4. **Commentaires** : Documentez vos personnalisations pour référence future

### Performance

1. **Optimisez CSS** : Gardez les styles minimaux et efficaces
2. **Minimisez PHP** : Évitez une logique complexe dans les modèles
3. **Testez l'impression** : Vérifiez que les modèles fonctionnent bien avec vos imprimantes de reçus

## Dépannage

### Problèmes courants

**Le modèle n'affiche pas les modifications**

- Assurez-vous d'avoir cliqué sur "Mettre à jour" pour enregistrer les modifications
- Vérifiez que le modèle est défini comme "Actif"
- Effacez les plugins de cache

**Erreurs de syntaxe**

- Utilisez la coloration syntaxique pour identifier les problèmes
- Vérifiez les points-virgules, accolades ou guillemets manquants
- Validez votre syntaxe PHP

**Problèmes de style**

- Testez vos CSS en mode prévisualisation
- Assurez-vous que les styles sont compatibles avec les imprimantes de reçus
- Gardez à l'esprit les principes de conception d'impression

**Modèle non disponible**

- Vérifiez que le type de modèle est défini sur "Reçu"
- Assurez-vous que le statut du modèle est "Publié"
- Vérifiez que vous avez les autorisations appropriées

### Obtenir de l'aide

Si vous rencontrez des problèmes de personnalisation de modèles :

1. Vérifiez les messages d'erreur dans la prévisualisation du modèle
2. Examinez le journal de débogage WordPress pour les erreurs PHP
3. Testez d'abord avec une copie du modèle par défaut
4. **Assistance IA** : Les outils IA modernes comme [Gemini](https://gemini.google.com), ChatGPT et Claude sont excellents pour aider avec les modèles WordPress simples comme celui-ci. Vous pouvez coller votre code de modèle et décrire ce que vous voulez réaliser.
5. Consultez la documentation de WooCommerce POS pour une personnalisation avancée

## Personnalisation avancée

Pour les utilisateurs avancés qui ont besoin de plus de contrôle sur les modèles de reçus :

### Intégration de thème

Vous pouvez remplacer le modèle par défaut en plaçant un fichier personnalisé `receipt.php` dans votre thème :

```
your-theme/woocommerce-pos/receipt.php
```

### Hooks et filtres

WooCommerce POS fournit divers hooks et filtres pour la personnalisation de modèles. Consultez la documentation développeur pour connaître les options disponibles.

### Champs personnalisés

Vous pouvez inclure des champs de commande personnalisés, des attributs de produit et d'autres métadonnées dans vos modèles de reçus en utilisant les fonctions WordPress et WooCommerce appropriées.