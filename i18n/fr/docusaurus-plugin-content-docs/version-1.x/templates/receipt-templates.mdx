---
title: "Modèles de Reçus"
sidebar_label: "Modèles de Reçus"
sidebar_position: 1
---

L'éditeur de modèle de reçu vous permet de personnaliser l'apparence et le contenu des reçus imprimés depuis votre système de POS. Vous pouvez accéder à l'éditeur de modèle en naviguant vers : `WP Admin > POS > Templates`

## Aperçu

Le système de modèles fournit deux types de modèles :

- **Modèles Par Défaut** : Détectés automatiquement à partir de vos fichiers de plugin et de thème. Ceux-ci ne peuvent pas être supprimés mais peuvent être copiés pour créer des versions personnalisées.
- **Modèles Personnalisés** : Modèles créés par l'utilisateur que vous pouvez entièrement personnaliser, éditer et gérer.

## Accéder à l'Éditeur de Modèle

1. Accédez à votre tableau de bord d'administration WordPress
2. Allez à **POS > Templates**
3. Vous verrez une liste de modèles disponibles organisés en deux sections :
   - **Modèles Par Défaut** (à partir des fichiers de plugin/thème)
   - **Modèles Personnalisés** (vos créations personnalisées)

## Modèles Par Défaut

Le système détecte automatiquement les modèles de reçus à partir de trois sources :

### Sources de Modèles

| Source         | Description                                         | Statut                               |
| -------------- | --------------------------------------------------- | ------------------------------------ |
| **Plugin**     | Modèle de reçu de base inclus avec WooCommerce POS  | Toujours disponible                  |
| **Pro Plugin** | Modèle amélioré de WooCommerce POS Pro              | Disponible avec une licence active   |
| **Thème**      | Modèle personnalisé de votre thème actif            | Disponible si le thème inclut un modèle |

### Actions sur les Modèles

Pour chaque modèle par défaut, vous pouvez :

- **Aperçu** : Voir à quoi ressemble le modèle avec des données d'exemple
- **Copier** : Créer une copie personnalisée que vous pouvez éditer
- **Activer** : Définir comme modèle actif pour votre POS

## Créer des Modèles Personnalisés

### Méthode 1 : Copier à partir d'un Modèle Par Défaut

1. Dans la section **Modèles Par Défaut**, trouvez le modèle que vous souhaitez personnaliser
2. Cliquez sur le bouton **Copier**
3. Entrez un nom pour votre modèle personnalisé
4. Cliquez sur **Copier le Modèle**
5. Éditez le modèle personnalisé nouvellement créé

### Méthode 2 : Créer de Zéro

1. Cliquez sur **Ajouter un Nouveau Modèle** en haut de la page
2. Entrez un nom de modèle
3. Sélectionnez **Reçu** comme type de modèle
4. Commencez à coder votre modèle dans l'éditeur

## Fonctionnalités de l'Éditeur de Modèle

L'éditeur de modèle fournit :

### Éditeur de Code

- **Surlignement Syntaxique** : Surlignement syntaxique PHP pour une meilleure lisibilité du code
- **Numéros de Ligne** : Navigation et débogage faciles
- **Édition en Plein Écran** : Environnement d'édition sans distraction

### Panneau des Paramètres du Modèle

- **Langue** : Définir sur PHP pour un surlignement syntaxique approprié
- **Type de Modèle** : Choisir entre Modèles de Reçu ou de Rapport
- **Statut** : Gestion du statut Publié/En Brouillon
- **Visibilité** : Contrôler la visibilité du modèle

### Actions sur les Modèles

- **Aperçu** : Voir comment votre modèle se rend avec des données d'exemple
- **Définir comme Actif** : Faire de ce modèle le modèle par défaut pour votre POS
- **Mettre à Jour** : Enregistrer vos modifications
- **Déplacer vers la Corbeille** : Supprimer des modèles personnalisés

## Structure du Modèle

Les modèles de reçus sont des fichiers PHP qui génèrent une sortie HTML. Voici la structure de base :

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## Variables de Modèle Disponibles

Lors de la création de modèles personnalisés, vous avez accès à diverses fonctions et données WordPress et WooCommerce :

### Informations sur le Magasin

- `get_bloginfo( 'name' )` - Nom du magasin
- `get_bloginfo( 'description' )` - Tagline du magasin
- `get_bloginfo( 'url' )` - URL du magasin

### Données de Commande

Les données de la commande actuelle sont disponibles via les fonctions de commande WooCommerce standard lors du rendu du modèle.

### Fonctions WCPOS

Vous pouvez utiliser des fonctions spécifiques à WCPOS (préfixées par `wcpos_`) pour accéder aux données et fonctionnalités liées au POS.

## Meilleures Pratiques

### Développement de Modèles

1. **Commencez par une Copie** : Commencez toujours par copier un modèle par défaut plutôt que de créer de zéro
2. **Testez Minutieusement** : Utilisez la fonction d'aperçu pour tester votre modèle avant d'activer
3. **Gardez des Sauvegardes** : Exportez vos modèles personnalisés ou gardez des copies de votre code
4. **Compatible Mobile** : Assurez-vous que vos modèles fonctionnent bien sur différentes tailles d'écran

### Qualité du Code

1. **Validez le HTML** : Assurez-vous que votre HTML est bien formé
2. **Échappez la Sortie** : Utilisez les fonctions d'échappement de WordPress pour la sécurité
3. **Gestion des Erreurs** : Incluez des vérifications d'erreurs appropriées dans votre code PHP
4. **Commentaires** : Documentez vos personnalisations pour référence future

### Performance

1. **Optimisez le CSS** : Gardez les styles minimaux et efficaces
2. **Minimisez le PHP** : Évitez la logique complexe dans les modèles
3. **Testez l'Impression** : Vérifiez que les modèles fonctionnent bien avec vos imprimantes de reçus

## Dépannage

### Problèmes Courants

**Modèle ne Montrant Pas de Changements**

- Assurez-vous d'avoir cliqué sur "Mettre à Jour" pour enregistrer vos modifications
- Vérifiez que le modèle est défini comme "Actif"
- Effacez tout plugin de mise en cache

**Erreurs de Syntaxe**

- Utilisez le surlignement syntaxique pour identifier les problèmes
- Vérifiez les points-virgules, crochets ou guillemets manquants
- Validez votre syntaxe PHP

**Problèmes de Style**

- Testez votre CSS en mode aperçu
- Assurez-vous que les styles sont compatibles avec les imprimantes de reçus
- Gardez à l'esprit les principes de conception adaptés à l'impression

**Modèle Non Disponible**

- Vérifiez que le type de modèle est défini sur "Reçu"
- Vérifiez que le statut du modèle est "Publié"
- Assurez-vous d'avoir les autorisations appropriées

### Obtenir de l'Aide

Si vous rencontrez des problèmes avec la personnalisation du modèle :

1. Vérifiez l'aperçu du modèle pour des messages d'erreur
2. Consultez le journal de débogage de WordPress pour les erreurs PHP
3. Testez d'abord avec une copie du modèle par défaut
4. **Assistance AI** : Les outils IA modernes comme [Gemini](https://gemini.google.com), ChatGPT et Claude sont excellents pour aider avec des modèles WordPress simples comme ceux-ci. Vous pouvez coller votre code de modèle et décrire ce que vous souhaitez réaliser.
5. Consultez la documentation WooCommerce POS pour une personnalisation avancée

## Personnalisation Avancée

Pour les utilisateurs avancés qui ont besoin de plus de contrôle sur les modèles de reçus :

### Intégration de Thème

Vous pouvez remplacer le modèle par défaut en plaçant un fichier `receipt.php` personnalisé dans votre thème :

```
your-theme/woocommerce-pos/receipt.php
```

### Hooks et Filtres

WooCommerce POS fournit divers hooks et filtres pour la personnalisation des modèles. Consultez la documentation du développeur pour les options disponibles.

### Champs Personnalisés

Vous pouvez inclure des champs de commande personnalisés, des attributs de produit et d'autres métadonnées dans vos modèles de reçus en utilisant les fonctions appropriées de WordPress et WooCommerce.

---