---
title: 체크아웃 성능
sidebar_label: 체크아웃 성능
sidebar_position: 1
---

import Image from "@theme/IdealImage";

체크아웃 과정에서 느린 성능을 경험하고 있다면, 이 가이드는 가장 일반적인 원인을 식별하고 해결하는 데 도움이 될 것입니다.

## WCPOS 체크아웃 작동 방식

WCPOS 체크아웃은 WooCommerce 주문 결제 템플릿의 축소 버전을 로드하는 iframe/webview가 있는 모달을 엽니다. 이는 고객이 온라인 주문 결제 시 보는 [고객 결제 페이지](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link)와 본질적으로 동일한 페이지입니다.

:::info 개발자 노트
WCPOS 플러그인 리포지토리에서 체크아웃 템플릿을 확인할 수 있습니다: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## 내장 최적화

WCPOS는 체크아웃 성능을 향상시키기 위해 여러 가지 최적화를 포함하고 있습니다:

- **축소된 템플릿** - 불필요한 테마 요소와 혼란을 제거합니다.
- **선택적 스크립트/스타일 로딩** - 필수 스크립트와 스타일만 로드됩니다.
- **최소한의 DOM 구조** - 체크아웃 페이지의 복잡성을 줄입니다.

그러나 일부 스크립트와 스타일은 결제 게이트웨이가 정상적으로 작동하는 데 필요할 수 있어 완전히 비활성화할 수 없습니다.

## 일반적인 성능 문제

### 1. 불필요한 스크립트 및 스타일

**문제:** 테마와 플러그인이 체크아웃에 필요하지 않은 스크립트와 스타일을 추가해 페이지 로드 시간이 느려집니다.

**해결책:** 불필요한 리소스를 비활성화하기 위해 [체크아웃 설정](/pos/checkout#checkout-settings-troubleshooting)을 사용하세요:

1. 체크아웃 모달에서 **체크아웃 설정** 버튼을 클릭하세요.
2. 먼저 테마 스타일을 비활성화해 보세요:
   - wp-block-library
   - classic-theme-styles
   - 테마의 사용자 정의 스타일
3. 비필수 WooCommerce 스크립트를 비활성화하세요:
   - wc-add-to-cart
   - selectWoo (게이트웨이에 필요하지 않은 경우)
   - html5shiv

<div class="image-container">
  <Image
    alt="모든 스타일과 스크립트를 비활성화하는 양식"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">모든 스타일과 스크립트를 비활성화하는 양식</p>
</div>

:::warning 주의
결제 게이트웨이가 요구하는 스크립트를 비활성화하지 마세요. 스크립트를 비활성화한 후 결제 방법이 작동하지 않으면 다시 활성화하세요.
:::

### 2. 주문 생성 중 플러그인 간섭

**문제:** 주문 생성 과정에 훅을 거는 플러그인이 상당한 지연을 초래할 수 있습니다. 예를 들어, Xero와 같은 회계 플러그인은 주문 데이터를 외부 서버로 전송해 체크아웃 과정을 차단할 수 있습니다.

**문제 해결 단계:**

1. **스테이징에서 테스트** - 스테이징 서버가 있다면 WooCommerce와 WCPOS를 제외한 모든 플러그인을 비활성화하세요.
2. **체크아웃 속도 테스트** - 테스트 주문을 처리하고 성능을 기록하세요.
3. **플러그인 점진적으로 활성화** - 성능이 크게 개선되면, 문제를 일으키는 플러그인을 식별하기 위해 하나씩 다시 활성화하세요.
4. **플러그인 개발자에게 연락** - 특정 플러그인에서 문제가 발생하는 경우 최적화 조언을 받기 위해 개발자에게 연락하세요.

**문제가 발생하는 일반적인 플러그인 유형:**
- 회계/장부 통합 (Xero, QuickBooks)
- 주문 생성 시 트리거되는 이메일 마케팅 도구
- 재고 관리 시스템
- 복잡한 배송 계산기
- 타사 분석 도구

### 3. 서버 리소스 제한

**문제:** 서버가 과부하 상태이거나 충분한 리소스가 부족하면 체크아웃을 포함한 모든 작업이 느려집니다.

**모니터링 및 해결책:**

1. **서버 성능 모니터링:**
   - 체크아웃 중 CPU 사용량
   - 메모리 소모
   - 데이터베이스 쿼리 성능
   - 네트워크 대기 시간

2. **서버 리소스 최적화:**
   - PHP 메모리 제한 증가
   - 데이터베이스 쿼리 최적화
   - 캐싱 플러그인 사용 (단, 호환성 테스트)
   - 호스팅 플랜 업그레이드 고려

3. **데이터베이스 최적화:**
   - 오래된 주문 데이터 정리
   - 데이터베이스 테이블 최적화
   - 불필요한 플러그인과 테마 제거

## 워드프레스 개발자 모범 사례

:::tip 개발자를 위한 팁
워드프레스 개발자는 `wp_enqueue_scripts`를 사용하여 페이지에 스크립트와 스타일을 올바르게 추가해야 합니다. 그러나 일부 플러그인과 테마 개발자는 모범 사례를 따르지 않아 템플릿에 코드를 직접 삽입하고, 이러한 리소스를 쉽게 제거할 수 없게 만듭니다.
:::

체크아웃 설정을 통해 비활성화할 수 없는 스크립트나 스타일 문제를 겪고 있다면:

1. **개발자에게 연락** - 워드프레스 코딩 표준을 따르도록 요청하세요.
2. **자식 테마 사용** - 자식 테마에서 문제의 템플릿을 오버라이드하세요.
3. **사용자 정의 훅** - 체크아웃 페이지에서 문제의 코드를 제거하기 위해 워드프레스 훅을 사용하세요.

## 성능 테스트

체크아웃 성능 개선을 테스트하려면:

1. **기준 측정** - 변경하기 전 체크아웃이 소요되는 시간을 측정하세요.
2. **한 번에 한 가지 변경** - 이렇게 하면 어떤 변경이 가장 큰 영향을 미치는지 식별하는 데 도움이 됩니다.
3. **실제 결제 게이트웨이로 테스트** - 현금 결제만으로 테스트하지 마세요.
4. **다양한 장치에서 테스트** - 모바일 장치에서 다른 성능 특성이 나타날 수 있습니다.

## 간단한 해결책

다음은 가장 효과적인 성능 개선 사항입니다:

1. **테마 스타일 비활성화** - 종종 가장 큰 개선 효과를 제공합니다.
2. **불필요한 WooCommerce 스크립트 제거** - 자바스크립트 실행 시간을 줄입니다.
3. **주문 생성 훅 감사** - 느린 플러그인을 식별하고 최적화합니다.
4. **이미지 최적화** - 체크아웃에 있는 모든 이미지가 최적화되었는지 확인하세요.
5. **성능 모니터링 플러그인 사용** - 시간에 따른 개선 사항을 추적합니다.

## 언제 도움을 요청해야 할까요

다음 경우 WCPOS 지원에 연락하세요:

- 체크아웃이 지속적으로 10초 이상 소요됩니다.
- 이 가이드를 따랐지만 여전히 문제가 발생합니다.
- 특정 플러그인을 의심하지만 이를 식별할 수 없습니다.
- 서버 리소스 최적화에 도움이 필요합니다.

## 관련 문서

- [체크아웃 설정](/pos/checkout#checkout-settings-troubleshooting) - 문제 있는 스크립트와 스타일 비활성화
- [결제 방법](/payment) - 최적의 성능을 위해 결제 게이트웨이 구성
- [문제 해결](/category/troubleshooting) - 일반 문제 해결 안내