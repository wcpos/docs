---
title: "API02005: 권한 불충분"
sidebar_label: API02005
---

# API02005: 권한 불충분

## 의미

사용자 계정에 해당 작업에 필요한 특정 WordPress 권한이 부족합니다. 기본 접근 권한은 있지만, 시도하는 특정 작업에는 추가 권한이 필요합니다.

## 일반적인 원인

- **제한된 사용자 역할** — 필요한 모든 권한이 포함되지 않은 역할
- **권한 미할당** — 역할에 특정 권한이 누락됨
- **플러그인 제한** — 보안 플러그인이 권한을 제한
- **사용자 정의 역할 문제** — 사용자 정의 역할에 권한 부족

## 서버 오류 매핑

다음 서버 코드에서 이 오류 코드가 발생합니다:

| 서버 코드 | 출처 |
|-------------|--------|
| `rest_forbidden` | WordPress REST API |
| `rest_cannot_create` | WordPress REST API |
| `rest_cannot_edit` | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403 | 모든 서버 응답 (대체) |

## 해결 방법

### 1. 필요한 권한 검토

POS 작업에 필요한 일반적인 권한:
- `manage_woocommerce` — WooCommerce 전체 관리
- `edit_shop_orders` — 주문 생성 및 수정
- `edit_products` — 상품 정보 변경
- `edit_users` — 고객 계정 관리

### 2. 사용자 역할 업그레이드

관리자에게 더 높은 권한의 역할 할당 요청:
- **상점 관리자** — WooCommerce 전체 접근
- **관리자** — 사이트 전체 접근

### 3. 특정 권한 추가

사용자 정의 역할에 필요한 권한 추가:

```php
// 예시: 사용자 정의 역할에 POS 권한 추가
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. 플러그인 충돌 확인

일부 보안 또는 역할 관리 플러그인이 권한을 제한할 수 있습니다:
- 플러그인 설정 검토
- 권한 필터 확인
- 테스트를 위해 일시적으로 비활성화

## 관련 오류

- [API02004](./API02004) — 사용자 권한 없음
- [API02010](./API02010) — 인증 필요