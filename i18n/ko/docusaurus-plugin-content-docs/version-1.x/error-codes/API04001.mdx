---
title: "API04001: 잘못된 응답 형식"
sidebar_label: API04001
---

# API04001: 잘못된 응답 형식

## 의미

서버가 응답했지만, 응답 형식이 POS에서 예상한 형식과 다릅니다. 서버는 JSON 데이터를 반환해야 하는데 다른 형식의 데이터를 받았습니다.

## 일반적인 원인

- **PHP 오류 표시** — JSON 이전에 PHP 오류가 출력됨
- **플러그인 충돌** — 다른 플러그인이 콘텐츠를 출력함
- **유지보수 모드** — 사이트에 유지보수 페이지가 표시됨
- **잘못된 콘텐츠 유형** — 서버가 JSON 대신 HTML을 보냄
- **캐싱 문제** — 캐시된 오류 페이지가 제공됨

## 해결 방법

### 1. 사이트 확인

워드프레스 사이트를 브라우저에서 방문:
- 정상적으로 표시되나요?
- 표시된 오류가 있나요?
- 유지보수 모드인가요?

### 2. PHP 오류 확인

`wp-config.php`에서 디버깅 일시 활성화:

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

`wp-content/debug.log`에서 오류 확인.

### 3. REST API 직접 테스트

브라우저에서 `https://yoursite.com/wp-json/` 방문:
- JSON 데이터를 반환해야 함
- HTML 또는 오류가 표시되면 문제가 있음
- 플러그인 관련 출력 확인

### 4. 임시로 캐싱 비활성화

캐싱 플러그인이 오래된 응답을 제공할 수 있음:
- 모든 캐시 지우기
- 임시로 캐싱 플러그인 비활성화
- REST API에서 캐싱 제외

### 5. 플러그인 충돌 확인

모든 페이지에 콘텐츠를 출력하는 플러그인이 있는 경우:
1. 필수적이지 않은 모든 플러그인 비활성화
2. POS 테스트
3. 플러그인을 하나씩 다시 활성화

## 관련 오류

- [API04003](./API04003) — 형식에 맞지 않는 JSON 응답
- [API05005](./API05005) — 플러그인을 찾을 수 없음