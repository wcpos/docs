---
title: أداء الخادم
sidebar_label: أداء الخادم
sidebar_position: 2
description: تحسين أداء خادم ووردبريس لـ WCPOS بما في ذلك HPOS، التخزين المؤقت، تحسين قاعدة البيانات، وتوصيات الاستضافة.
---

import Image from "@theme/IdealImage";
import LinkCards from '@site/src/components/LinkCards';
import LinkCard from '@site/src/components/LinkCard';

يؤثر أداء الخادم بشكل مباشر على سرعة واستجابة تطبيق WCPOS الخاص بك. يساعدك هذا الدليل في مراقبة وتشخيص وتحسين أداء الخادم باستخدام المقاييس المضمنة وتقنيات استكشاف الأخطاء.

## فهم مقاييس الخادم {#understanding-server-metrics}

يجمع WCPOS تلقائيًا مقاييس أداء الخادم مع كل عملية سحب بيانات (المنتجات، الطلبات، العملاء، إلخ). يمكنك عرض هذه المقاييس في شاشة [السجلات](/support/logs).

### مقاييس الخادم النموذجية {#typical-server-metrics}

```json
{
  "total": "24692",
  "execution_time": "76.64 ms",
  "server_load": "[15.20605469,16.16357422,16.76806641]"
}
```

**التفصيل:**
- **`total`** - عدد السجلات المعالجة (24692 معرف منتج)
- **`execution_time`** - الوقت المستغرق لإكمال العملية (76.64 مللي ثانية)
- **`server_load`** - متوسط تحميل الخادم لمدة 1 و 5 و 15 دقيقة

## تفسير تحميل الخادم {#server-load-explained}

يمثل تحميل الخادم متوسط تحميل النظام على مدى فترات زمنية مختلفة:

- **القيمة الأولى** - المتوسط لمدة دقيقة واحدة (15.21)
- **القيمة الثانية** - المتوسط لمدة 5 دقائق (16.16)
- **القيمة الثالثة** - المتوسط لمدة 15 دقيقة (16.77)

### تفسير التحميل {#load-interpretation}

يمكن أن تكون قيم تحميل الخادم مضللة ويجب تفسيرها بعناية:

:::warning قد تكون قيم التحميل مضللة
متوسطات تحميل الخادم لا تتناسب دائمًا بشكل مباشر مع الأداء. يمكن لخادم ذو قيم تحميل عالية (15+) أن يكون سريع الاستجابة للغاية إذا كانت الموارد كافية ومهيأة بشكل جيد. **ركز على أوقات التنفيذ بدلاً من قيم التحميل وحدها.**
:::

**إرشادات عامة:**
- **التحميل بالنسبة لوحدات المعالج** - تحميل 8.0 على خادم مكون من 8 نوى يعني الاستخدام الكامل
- **التحميل المستمر مقابل الحمل المؤقت** - الارتفاعات القصيرة طبيعية، قد يشير التحميل العالي المستمر إلى وجود مشاكل
- **الأداء أكثر أهمية** - خادم سريع الاستجابة مع تحميل عالي أفضل من خادم بطيء مع تحميل منخفض

**ما يجب مراقبته:**
- **زيادة أوقات التنفيذ** مع مرور الوقت
- **زيادة التحميل باستمرار** دون تفسير
- **كل من التحميل العالي وأوقات التنفيذ البطيئة** معًا

## معايير الأداء {#performance-benchmarks}

### إرشادات أوقات التنفيذ {#execution-time-guidelines}

| العملية | جيدة | مقبولة | رديئة | حرجة |
|---------|-------|---------|------|-------|
| **سحب المنتج** | < 100ms | 100-500ms | 500ms-2s | > 2s |
| **إنشاء الطلب** | < 200ms | 200-800ms | 800ms-3s | > 3s |

### اعتبارات عدد السجلات {#record-count-considerations}

يجب أن تتناسب أوقات التنفيذ بشكل معقول مع عدد السجلات:

```json
// Good scaling examples
{"total": "100", "execution_time": "15.2 ms"}    // 0.15ms per record
{"total": "1000", "execution_time": "89.4 ms"}   // 0.09ms per record
{"total": "10000", "execution_time": "234.1 ms"} // 0.02ms per record

// Poor scaling examples
{"total": "100", "execution_time": "500.0 ms"}   // 5.0ms per record
{"total": "1000", "execution_time": "8000.0 ms"} // 8.0ms per record
```

## تشخيص مشاكل الأداء {#diagnosing-performance-issues}

### الخطوة 1: مراقبة السجلات {#step-1-monitor-the-logs}

1. افتح **السجلات** من درج التنقل
2. قم بإجراء العملية البطيئة (مزامنة المنتجات، إنشاء الطلب، إلخ.)
3. ابحث عن إدخال السجل المقابل
4. قم بتوسيع السياق لعرض المقاييس

### الخطوة 2: تحليل المقاييس {#step-2-analyse-the-metrics}

**أوقات التنفيذ العالية + تحميل الخادم العالي = مشكلة في موارد الخادم**
```json
{
  "total": "5000",
  "execution_time": "3500.0 ms",
  "server_load": "[12.45, 11.23, 10.87]"
}
```
*الحل: زيادة موارد الخادم أو تحسين تكوين الخادم*

**أوقات التنفيذ العالية + تحميل الخادم الطبيعي = مشكلة في الإضافات/قاعدة البيانات**
```json
{
  "total": "1000",
  "execution_time": "2800.0 ms",
  "server_load": "[1.23, 1.45, 1.67]"
}
```
*الحل: تحديد الإضافات البطيئة أو تحسين استعلامات قاعدة البيانات*

**أوقات التنفيذ الطبيعية + تحميل الخادم العالي = تحميل عام زائد على الخادم**
```json
{
  "total": "2000",
  "execution_time": "150.0 ms",
  "server_load": "[8.90, 9.12, 8.45]"
}
```
*الحل: تقليل تحميل الخادم من العمليات الأخرى أو ترقية الموارد*

## مشاكل الأداء الشائعة {#common-performance-problems}

### 1. موارد الخادم غير الكافية {#1-insufficient-server-resources}

**الأعراض:**
- تحميل خادم مرتفع باستمرار (> 4.0 على معظم الخوادم)
- أوقات تنفيذ طويلة عبر جميع العمليات
- انقطاعات متكررة

**الحلول:**
- **ترقية المعالج** - المزيد من الأنوية تعالج الطلبات المتزامنة بشكل أفضل
- **زيادة الذاكرة العشوائية** - تقلل من قراءة/كتابة القرص ويحسن التخزين المؤقت
- **استخدام تخزين SSD** - يحسن بشكل كبير من أداء قاعدة البيانات
- **تحسين إعدادات PHP** - زيادة memory_limit، max_execution_time

### 2. استعلامات قاعدة البيانات البطيئة {#2-slow-database-queries}

**الأعراض:**
- أوقات تنفيذ مرتفعة مع تحميل خادم طبيعي
- سحب المنتجات/الطلبات ببطء بشكل خاص
- أكواد أخطاء متعلقة بقاعدة البيانات في السجلات

**الحلول:**
- **تفعيل WooCommerce HPOS** - أكبر تحسين لأداء قاعدة البيانات
- **استخدام التخزين المؤقت للكائنات** - Redis أو Memcached إذا كانت متاحة من مضيفك
- **الحفاظ على تحديث ووردبريس** - غالبًا ما تتضمن تحديثات النواة تحسينات لقاعدة البيانات
- **تحديد مراجعات المنشورات** - إضافة `define('WP_POST_REVISIONS', 3);` إلى wp-config.php

### 3. تدخل الإضافات {#3-plugin-interference}

**الأعراض:**
- تدهور الأداء المفاجئ بعد تحديث الإضافات
- عمليات محددة أبطأ بكثير من الأخرى
- أوقات تنفيذ عالية مع تحميل خادم طبيعي

**استكشاف الأخطاء:**
1. **اختبار على الخادم التجريبي** - تعطيل جميع الإضافات باستثناء WooCommerce و WCPOS
2. **قياس الأساس** - تسجيل أوقات التنفيذ مع الحد الأدنى من الإضافات
3. **تفعيل تدريجي** - إضافة الإضافات واحدة تلو الأخرى لتحديد المسبب
4. **فحص أشرطة الإضافات** - البحث عن الإضافات التي تتعلق بإجراءات WooCommerce

**الإضافات الشائعة المشكلة:**
- إضافات SEO ثقيلة أثناء عمليات المنتج
- أنظمة إدارة المخزون المعقدة
- إضافات تحليلات/تتبع في الوقت الحقيقي
- إضافات مخصصة برمجة بشكل سيء

### 4. تكوين ووردبريس/ووكوميرس {#4-wordpresswoocommerce-configuration}

**الأعراض:**
- أداء غير متسق
- أخطاء متعلقة بالذاكرة في السجلات
- لوحة تحكم الإدارة بطيئة

**قائمة فحص التحسين:**
- **إصدار PHP** - استخدام PHP 8.0+ لأداء أفضل
- **HPOS للووكوميرس** - تفعيل تخزين الطلبات عالي الأداء (انظر أدناه)
- **تخزين ووردبريس المؤقت** - تفعيل التخزين المؤقت للكائنات إذا كانت متاحة
- **إعدادات ووكوميرس** - تحسين أحجام صور المنتجات

### تخزين الطلبات عالي الأداء لووكوميرس (HPOS) {#woocommerce-high-performance-order-storage-hpos}

:::tip أكبر فوز في الأداء
**إن HPOS هي واحدة من أكبر تحسينات الأداء التي يمكنك القيام بها لووكوميرس.** تخزن الطلبات في جداول قاعدة بيانات مخصصة بدلاً من جدول مشاركات ووردبريس، مما يحسن بشكل كبير من الأداء للمتاجر التي تحتوي على العديد من الطلبات.
:::

**الفوائد:**
- **استعلامات طلب أسرع** - تخزين الطلبات في هيكل قاعدة بيانات مُحسن
- **تحميل قاعدة بيانات أقل** - فصل الطلبات عن المشاركات/الصفحات
- **تحسين قابلية التوسع** - التعامل بكفاءة مع أعداد كبيرة من الطلبات
- **تحسين أداء الإدارة** - شاشات إدارة الطلبات الأسرع

**كيفية التفعيل:**
1. انتقل إلى `WooCommerce > الإعدادات > متقدم > الميزات`
2. تفعيل "تخزين الطلبات عالي الأداء"
3. اتبع عملية الهجرة

**لمعرفة المزيد:**
- [وثائق HPOS لووكوميرس](https://woocommerce.com/document/high-performance-order-storage/)
- [دليل الهجرة HPOS](https://woocommerce.com/document/high-performance-order-storage/#section-3)

## أفضل ممارسات مراقبة الخادم {#server-monitoring-best-practices}

### 1. عمليات فحص الأداء المنتظمة {#1-regular-performance-checks}

- **مراجعات أسبوعية** - التحقق من السجلات لتوجهات الأداء
- **قياسات الأساس** - تسجيل أوقات التنفيذ العادية
- **مراقبة أوقات الذروة** - مراقبة خلال الفترات ذات الحركة العالية

### 2. تعيين تنبيهات الأداء {#2-set-performance-alerts}

راقب هذه العلامات التحذيرية:
- أوقات التنفيذ > 1000ms باستمرار
- تحميل الخادم > 5.0 لفترات طويلة
- أخطاء التوقف المتكررة في السجلات

### 3. تخطيط السعة {#3-capacity-planning}

تتبع اتجاهات النمو:
- **نمو عدد السجلات** - المنتجات، الطلبات، العملاء
- **تدهور الأداء** - كيفية تزايد أوقات التنفيذ
- **استخدام الموارد** - وحدة المعالجة المركزية، الذاكرة، استخدام القرص

## استراتيجيات تحسين الخادم {#server-optimisation-strategies}

### 1. أفضل ممارسات ووردبريس/ووكوميرس {#1-wordpresswoocommerce-best-practices}

**تفعيل HPOS:**
- أكبر تحسين للأداء لووكوميرس
- راجع قسم HPOS أعلاه للحصول على التفاصيل

**إعداد PHP (استشر مضيفك):**
```ini
memory_limit = 512M
max_execution_time = 300
max_input_vars = 3000
```

**إعداد ووردبريس:**
```php
// In wp-config.php - limit post revisions
define('WP_POST_REVISIONS', 3);

// Enable WordPress debug logging if needed
define('WP_DEBUG_LOG', true);
```

### 2. تحسينات على مستوى الاستضافة {#2-hosting-level-optimizations}

**التخزين المؤقت للكائنات:**
- اسأل مضيفك عن توفر Redis أو Memcached
- يقدم العديد من مضيفي ووردبريس المدارة ذلك بشكل تلقائي

**إصدار PHP:**
- استخدام PHP 8.0+ لتحسينات أداء كبيرة
- يسمح معظم المضيفين بسهولة بتغيير إصدار PHP

**موارد الخادم:**
- تأكد من وجود ذاكرة كافية (حد أدنى 1 جيجابايت، يفضل 2 جيجابايت+)
- يوفر تخزين SSD أداء قاعدة بيانات أفضل بكثير من الأقراص التقليدية

## متى يجب طلب المساعدة {#when-to-seek-help}

اتصل بمزود الاستضافة الخاص بك أو مطور ووردبريس إذا:

- **كان تحميل الخادم باستمرار > 8.0** على الرغم من جهود تحسين الأداء
- **كانت أوقات التنفيذ > 5000ms** للعمليات البسيطة
- **وجود أخطاء في الذاكرة** تظهر بشكل متكرر في السجلات
- **استعلامات قاعدة البيانات تستغرق > 2 ثانية** باستمرار

قدم لهم:
- مقاييس الخادم من سجلاتك
- قائمة بالإضافات النشطة
- مواصفات الخادم (وحدة المعالجة المركزية، الذاكرة، نوع التخزين)
- إصدارات ووردبريس وووكوميرس

## الوثائق ذات الصلة {#related-documentation}

<LinkCards>
  <LinkCard to="/support/logs" title="السجلات" description="كيفية الوصول إلى مقاييس أداء الخادم وتفسيرها" />
  <LinkCard to="/support/performance/checkout" title="أداء السداد" description="تحسين معالجة الدفع" />
  <LinkCard to="/error-codes" title="أكواد الأخطاء" description="فهم أكواد الأخطاء المتعلقة بالأداء" />
  <LinkCard to="/category/troubleshooting" title="استكشاف الأخطاء" description="إرشادات عامة لاستكشاف الأخطاء" />
</LinkCards>

---