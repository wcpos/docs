---
title: "الدفع"
sidebar_label: "الدفع"
sidebar_position: 1
---

import Image from "@theme/IdealImage";

عندما تكون جاهزًا لإتمام عملية البيع، اضغط على زر **الدفع** لفتح نافذة الدفع. هنا تقوم بمعالجة الدفع وإتمام الطلب.

{/* Screenshot: checkout-modal.png */}

## نظرة عامة على نافذة الدفع

تظهر نافذة الدفع:

- **رقم الطلب** - معرف الطلب في WooCommerce
- **المبلغ المطلوب دفعه** - إجمالي المبلغ المستحق
- **زر إعدادات الدفع** - حل مشكلات العرض
- **الصراف** - من يقوم بمعالجة الطلب
- **العميل** - العميل لهذا الطلب (رابط قابل للنقر)
- **حقل رمز القسيمة** - تطبيق رموز الخصم
- **ملخص الطلب** - المنتجات، الكميات، والمجموعات
- **طرق الدفع** - خيارات الدفع المتاحة
- **إلغاء / معالجة الدفع** - الأزرار

## طرق الدفع

### متاحة في النسخة المجانية

تتضمن النسخة المجانية من WCPOS بوابتين للدفع:

- **نقدًا** - مع المبلغ المدفوع وآلة حاسبة للتغيير
- **بطاقة** - لمحطات البطاقات الخارجية

### بوابات إضافية (Pro)

:::info ميزة برو
تتطلب بوابات الدفع الإضافية [WCPOS Pro](/getting-started/pro-license).
:::

مع Pro، يمكنك تفعيل:

- **Stripe Terminal** - تكامل مباشر مع أجهزة قراءة بطاقات Stripe
- **SumUp Terminal** - تكامل مع أجهزة قراءة بطاقات SumUp
- **بوابات مخصصة** - إنشاء تكاملات الدفع الخاصة بك

راجع [الدفع](/payment) للحصول على تفاصيل حول تكوين البوابات.

### اختيار طريقة الدفع

اضغط على طريقة الدفع لاختيارها. يتحديث النموذج ليظهر الحقول ذات الصلة:

**نقدًا:**
- **المبلغ المدفوع** - أدخل المبلغ الذي يعطيه لك العميل
- **التغيير** - يتم حساب التغيير تلقائيًا

{/* Screenshot: checkout-cash-payment.png */}

**بطاقة:**
- معالجة الدفع على محطة بطاقة الدفع الخارجية الخاصة بك
- اضغط على معالجة الدفع لإكمال عملية الدفع

## رموز القسيمة

لتطبيق خصم:

1. أدخل رمز القسيمة في الحقل
2. اضغط على **تطبيق القسيمة**
3. يظهر الخصم في ملخص الطلب

يجب تكوين القسائم في WooCommerce (`WP Admin > Marketing > Coupons`).

## معالجة الدفع

1. اختر طريقة الدفع
2. بالنسبه للنقد، أدخل المبلغ المدفوع
3. اضغط على **معالجة الدفع**
4. يكتمل الطلب ويظهر [الإيصال](/pos/checkout/receipts)

## إعدادات الدفع (حل المشكلات)

تستخدم نافذة الدفع iframe/webview لعرض صفحة الدفع في WooCommerce. هذا يستفيد من بنية الدفع الموجودة في WooCommerce، مما يعني أن أي بوابة دفع تعمل مع WooCommerce ينبغي أن تعمل في نقطة البيع.

ومع ذلك، قد تتداخل بعض سكربتات القالب والإضافات أحيانًا. انقر على **إعدادات الدفع** لحل المشكلات:

{/* Screenshot: checkout-settings.png */}

### تعطيل جميع الأنماط والسكريبتات

- **تعطيل wp_head** - يزيل جميع السكربتات/الأنماط من رأس WordPress
- **تعطيل wp_footer** - يزيل جميع السكربتات/الأنماط من تذييل WordPress

### تعطيل الأنماط المحددة

قم بتعطيل CSS بشكل انتقائي الذي قد يسبب مشكلات في العرض:

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- إلخ.

### تعطيل السكريبتات المحددة

قم بتعطيل JavaScript بشكل انتقائي الذي قد يتداخل مع بوابات الدفع:

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- إلخ.

:::tip
إذا لم يتم عرض بوابة الدفع بشكل صحيح:
1. حاول تعطيل أنماط القالب أولاً
2. ثم حاول تعطيل سكربتات WooCommerce التي لا تحتاجها
3. كن حذرًا من عدم تعطيل السكربتات المطلوبة بواسطة بوابة الدفع الخاصة بك
:::

## إلغاء

اضغط على **إلغاء** لإغلاق نافذة الدفع دون إتمام الطلب. يبقى الطلب كعربة مفتوحة.

## الوثائق ذات الصلة

- [الإيصالات](/pos/checkout/receipts) - بعد الدفع، اطبع أو أرسل الإيصالات عبر البريد الإلكتروني
- [طرق الدفع](/payment) - تكوين بوابات الدفع
- [بوابات مخصصة](/payment/custom-gateways) - إنشاء تكاملات الدفع المخصصة