---
title: "إتمام الدفع"
sidebar_label: "إتمام الدفع"
sidebar_position: 1
description: "إتمام المبيعات في مكان الدفع WCPOS بما في ذلك معالجة الدفع، والمدفوعات المنقسمة، وإتمام الطلب."
---

import Image from "@theme/IdealImage";
import LinkCards from '@site/src/components/LinkCards';
import LinkCard from '@site/src/components/LinkCard';

عندما تكون جاهزًا لإكمال عملية بيع، انقر على زر **إتمام الدفع** لفتح نافذة إتمام الدفع. هنا حيث تقوم بمعالجة الدفع وإكمال الطلب.

{/* Screenshot: checkout-modal.png */}

## لمحة عامة عن نافذة إتمام الدفع {#checkout-modal-overview}

تعرض نافذة إتمام الدفع:

- **رقم الطلب** - معرف طلب WooCommerce
- **المبلغ المطلوب** - إجمالي المبلغ المستحق
- **زر إعدادات إتمام الدفع** - استكشاف مشكلات العرض
- **المحاسب** - من يقوم بمعالجة الطلب
- **العميل** - العميل لهذا الطلب (رابط قابل للضغط)
- **حقل رمز القسيمة** - تطبيق أكواد الخصم
- **ملخص الطلب** - المنتجات، الكميات، والإجماليات
- **طرق الدفع** - خيارات الدفع المتاحة
- **أزرار إلغاء / معالجة الدفع**

## طرق الدفع {#payment-methods}

### المتاحة في النسخة المجانية {#available-in-free-version}

تتضمن النسخة المجانية من WCPOS بوابتين دفع:

- **نقدًا** - مع فاحص المبلغ المدفوع وحاسبة الباقي
- **بطاقة** - لأجهزة بطاقات خارجية

### بوابات إضافية (Pro) {#additional-gateways-pro}

:::info ميزة Pro
تتطلب بوابات الدفع الإضافية [WCPOS Pro](/getting-started/pro-license).
:::

مع Pro، يمكنك تمكين:

- **Stripe Terminal** - تكامل مباشر مع قراء بطاقات Stripe
- **SumUp Terminal** - تكامل مع قراء بطاقات SumUp
- **بوابات مخصصة** - إنشاء تكاملات دفع خاصة بك

راجع [طرق الدفع](/payment) للحصول على تفاصيل حول تكوين البوابات.

### اختيار طريقة الدفع {#selecting-a-payment-method}

انقر على طريقة الدفع لاختيارها. يتم تحديث النموذج لعرض الحقول ذات الصلة:

**نقدًا:**

- **المبلغ المستلم** - أدخل المبلغ الذي يقدمه لك العميل
- **الباقي** - يتم حساب الباقي تلقائيًا

{/* Screenshot: checkout-cash-payment.png */}

**بطاقة:**

- قم بمعالجة الدفع على جهاز بطاقة خارجي
- انقر على "معالجة الدفع" لإكمال العملية

## رموز القسيمة {#coupon-codes}

لتطبيق خصم:

1. أدخل رمز القسيمة في الحقل
2. انقر على **تطبيق القسيمة**
3. يظهر الخصم في ملخص الطلب

يجب تكوين القسائم في WooCommerce (`WP Admin > Marketing > Coupons`).

## معالجة الدفع {#processing-payment}

1. اختر طريقة الدفع
2. بالنسبة للنقد، أدخل المبلغ المستلم
3. انقر على **معالجة الدفع**
4. يكتمل الطلب ويظهر [الإيصال](/pos/checkout/receipts)

## إعدادات إتمام الدفع (استكشاف الأخطاء) {#checkout-settings-troubleshooting}

تستخدم نافذة إتمام الدفع إطار iframe/webview لعرض صفحة الدفع الخاصة بـ WooCommerce. وهذا يستخدم البنية التحتية الحالية للدفع من WooCommerce، مما يعني أن أي بوابة دفع تعمل مع WooCommerce يجب أن تعمل في نقطة البيع.

ومع ذلك، يمكن أن تتداخل نصوص الثيمات والإضافات أحيانًا. انقر على **إعدادات إتمام الدفع** لاستكشاف الأخطاء:

<div class="image-container">
  <Image
    alt="إعدادات الدفع في نافذة إتمام الدفع"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">إعدادات الدفع في نافذة إتمام الدفع</p>
</div>

<div class="image-container">
  <Image
    alt="نموذج لتعطيل جميع الأنماط والنصوص"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">نموذج لتعطيل جميع الأنماط والنصوص</p>
</div>

### تعطيل جميع الأنماط والنصوص {#disable-all-styles-and-scripts}

:::warning الخيار النووي
هذا هو الخيار النووي ويجب استخدامه فقط للاختبار أو في الحالات النادرة التي يعرف فيها المطور ما يفعله. سيؤدي تعطيل جميع نصوص wp_head إلى إزالة حتى نصوص WooCommerce اللازمة لتوسيع/تقلص بوابات الدفع، مما قد يؤدي إلى كسر وظيفة الدفع.
:::

- **تعطيل wp_head** - يزيل جميع النصوص/الأنماط من ترويسة WordPress
- **تعطيل wp_footer** - يزيل جميع النصوص/الأنماط من تذييل WordPress

### تعطيل أنماط محددة {#disable-selected-styles}

قم بتعطيل CSS بشكل انتقائي التي قد تسبب مشكلات في العرض:

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- وغيرها.

### تعطيل نصوص محددة {#disable-selected-scripts}

قم بتعطيل JavaScript بشكل انتقائي الذي قد يتداخل مع بوابات الدفع:

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- وغيرها.

:::tip
إذا لم تظهر بوابة الدفع بشكل صحيح:

1. حاول تعطيل أنماط الثيم أولاً
2. ثم حاول تعطيل نصوص WooCommerce التي لا تحتاجها
3. كن حذرًا من عدم تعطيل نصوص تتطلبها بوابة الدفع الخاصة بك
   :::

## إلغاء {#cancel}

انقر على **إلغاء** لإغلاق نافذة إتمام الدفع دون إكمال الطلب. يظل الطلب كعربة مفتوحة.

## الوثائق ذات الصلة {#related-documentation}

<LinkCards>
  <LinkCard to="/pos/checkout/receipts" title="الإيصالات" description="بعد إتمام الدفع، اطبع أو أرسل الإيصالات عبر البريد الإلكتروني" />
  <LinkCard to="/payment" title="طرق الدفع" description="تهيئة بوابات الدفع" />
  <LinkCard to="/payment/custom-gateways" title="بوابات مخصصة" description="إنشاء تكاملات دفع مخصصة" />
</LinkCards>
