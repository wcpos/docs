---
title: "إتمام عملية الدفع"
sidebar_label: "إتمام عملية الدفع"
sidebar_position: 1
---

import Image from "@theme/IdealImage";

عندما تكون جاهزًا لإكمال عملية البيع، انقر على زر **إتمام عملية الدفع** لفتح نافذة الدفع. هنا تقوم بمعالجة الدفع وإكمال الطلب.

{/* لقطة شاشة: checkout-modal.png */}

## نظرة عامة على نافذة إتمام عملية الدفع

تعرض نافذة إتمام عملية الدفع:

- **رقم الطلب** - معرف الطلب في WooCommerce
- **المبلغ المطلوب دفعه** - المبلغ الإجمالي المستحق
- زر **إعدادات الدفع** - استكشاف مشاكل العرض
- **الصراف** - من يقوم بمعالجة الطلب
- **العميل** - العميل لهذا الطلب (رابط قابل للنقر)
- حقل **رمز القسيمة** - تطبيق رموز الخصم
- **ملخص الطلب** - المنتجات والكميات والمجموعات
- **طرق الدفع** - خيارات الدفع المتاحة
- أزرار **إلغاء / معالجة الدفع**

## طرق الدفع

### المتاحة في النسخة المجانية

تتضمن النسخة المجانية من WCPOS بوابتين للدفع:

- **نقدي** - مع المبلغ المدفوع وآلة حساب التغيير
- **بطاقة** - لأجهزة البطاقة الخارجية

### بوابات إضافية (برو)

:::info ميزة برو
تتطلب بوابات الدفع الإضافية [WCPOS Pro](/getting-started/pro-license).
:::

مع الإصدار برو، يمكنك تمكين:

- **Stripe Terminal** - التكامل المباشر مع أجهزة قراءة بطاقات Stripe
- **SumUp Terminal** - التكامل مع أجهزة قراءة بطاقات SumUp
- **بوابات مخصصة** - إنشاء تكاملات دفع خاصة بك

راجع [الدفع](/payment) لمزيد من التفاصيل حول تكوين البوابات.

### اختيار طريقة الدفع

انقر على طريقة الدفع لاختيارها. يتم تحديث النموذج لعرض الحقول ذات الصلة:

**نقدي:**
- **المبلغ المدفوع** - أدخل المبلغ الذي يقدمه العميل
- **التغيير** - التغيير المحسوب تلقائيًا للإرجاع

{/* لقطة شاشة: checkout-cash-payment.png */}

**بطاقة:**
- قم بمعالجة الدفع على جهاز البطاقة الخارجي الخاص بك
- انقر على معالجة الدفع للإكمال

## رموز القسيمة

لتطبيق خصم:

1. أدخل رمز القسيمة في الحقل
2. انقر على **تطبيق القسيمة**
3. يظهر الخصم في ملخص الطلب

يجب تكوين القسائم في WooCommerce (`WP Admin > Marketing > Coupons`).

## معالجة الدفع

1. اختر طريقة الدفع
2. بالنسبة للنقد، أدخل المبلغ المدفوع
3. انقر على **معالجة الدفع**
4. يتم إكمال الطلب ويظهر [الإيصال](/pos/checkout/receipts)

## إعدادات الدفع (استكشاف الأخطاء)

تستخدم نافذة إتمام عملية الدفع iframe/webview لعرض صفحة دفع طلب WooCommerce. هذا يستفيد من بنية الدفع الحالية في WooCommerce، مما يعني أن أي بوابة دفع تعمل مع WooCommerce يجب أن تعمل في نظام نقاط البيع.

ومع ذلك، يمكن أن تتداخل بعض برامج السمة والإضافات. انقر على **إعدادات الدفع** لاستكشاف المشاكل:

<div class="image-container">
  <Image
    alt="إعدادات الدفع في نافذة إتمام عملية الدفع"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">إعدادات الدفع في نافذة إتمام عملية الدفع</p>
</div>

<div class="image-container">
  <Image
    alt="نموذج لتعطيل جميع الأنماط والبرامج النصية"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">نموذج لتعطيل جميع الأنماط والبرامج النصية</p>
</div>

### تعطيل جميع الأنماط والبرامج النصية

- **تعطيل wp_head** - يزيل جميع البرامج النصية / الأنماط من رأس WordPress
- **تعطيل wp_footer** - يزيل جميع البرامج النصية / الأنماط من تذييل WordPress

### تعطيل الأنماط المحددة

قم بتعطيل CSS تحديدًا قد يسبب مشاكل في العرض:

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- إلخ.

### تعطيل البرامج النصية المحددة

قم بتعطيل JavaScript تحديدًا قد تتداخل مع بوابات الدفع:

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- إلخ.

:::tip
إذا لم تظهر بوابة دفع بشكل صحيح:
1. حاول تعطيل أنماط السمة أولاً
2. ثم حاول تعطيل برامج WooCommerce النصية غير الضرورية
3. كن حذرًا بعدم تعطيل البرامج النصية المطلوبة بواسطة بوابة الدفع الخاصة بك
:::

## إلغاء

انقر على **إلغاء** لإغلاق نافذة إتمام عملية الدفع دون إكمال الطلب. يبقى الطلب كسلّة مفتوحة.

## الوثائق ذات الصلة

- [الإيصالات](/pos/checkout/receipts) - بعد إتمام الدفع، طباعة أو إرسال الإيصالات عبر البريد الإلكتروني
- [طرق الدفع](/payment) - تكوين بوابات الدفع
- [بوابات مخصصة](/payment/custom-gateways) - إنشاء تكاملات دفع مخصصة