---
title: قوالب الإيصالات
sidebar_label: قوالب الإيصالات
sidebar_position: 1
---

يتيح لك محرر قالب الإيصال تخصيص مظهر ومحتوى الإيصالات المطبوعة من نظام نقاط البيع الخاص بك. يمكنك الوصول إلى محرر القالب عن طريق التنقل إلى: `WP Admin > POS > Templates`

## نظرة عامة

يوفر نظام القوالب نوعين من القوالب:

- **القوالب الافتراضية**: يتم اكتشافها تلقائيًا من ملفات المكونات الإضافية والسمات الخاصة بك. لا يمكن حذفها ولكن يمكن نسخها لإنشاء إصدارات مخصصة.
- **القوالب المخصصة**: قوالب تم إنشاؤها بواسطة المستخدم يمكنك تخصيصها بالكامل وتعديلها وإدارتها.

## الوصول إلى محرر القالب

1. انتقل إلى لوحة معلومات إدارة ووردبريس الخاصة بك
2. انتقل إلى **POS > Templates**
3. سترى قائمة بالقوالب المتاحة مقسمة إلى قسمين:
   - **القوالب الافتراضية** (من ملفات المكونات الإضافية/السمات)
   - **القوالب المخصصة** (إنشاءاتك المخصصة)

## القوالب الافتراضية

يكتشف النظام قوالب الإيصالات تلقائيًا من ثلاثة مصادر:

### مصادر القوالب

| المصدر          | الوصف                                            | الحالة                               |
| --------------- | ------------------------------------------------ | ------------------------------------ |
| **المكون الإضافي** | قالب الإيصال الأساسي المضمن مع WooCommerce POS  | متاح دائمًا                          |
| **المكون الإضافي المحترف** | قالب محسن من WooCommerce POS Pro          | متاح مع ترخيص نشط                   |
| **السمة**      | قالب مخصص من سماتك النشطة                       | متاح إذا كانت السمة تتضمن قالبًا |

### إجراءات القالب

بالنسبة لكل قالب افتراضي، يمكنك:

- **معاينة**: عرض كيف يبدو القالب مع بيانات عينة
- **نسخ**: إنشاء نسخة مخصصة يمكنك تحريرها
- **تفعيل**: تعيينه كقالب نشط لنقاط البيع الخاصة بك

## إنشاء قوالب مخصصة

### الطريقة 1: النسخ من القالب الافتراضي

1. في قسم **القوالب الافتراضية**، ابحث عن القالب الذي تريد تخصيصه
2. انقر على زر **نسخ**
3. أدخل اسمًا لقالبك المخصص
4. انقر على **نسخ القالب**
5. قم بتحرير القالب المخصص الذي تم إنشاؤه حديثًا

### الطريقة 2: إنشاء من الصفر

1. انقر على **إضافة قالب جديد** في أعلى الصفحة
2. أدخل اسم القالب
3. اختر **إيصال** كنوع القالب
4. ابدأ في كتابة التعليمات البرمجية لقالبك في المحرر

## ميزات محرر القالب

يوفر محرر القالب:

### محرر التعليمات البرمجية

- **تسليط الضوء على التركيب النحوي**: تسليط الضوء على تركيب PHP لتحسين قراءة التعليمات البرمجية
- **أرقام الأسطر**: سهولة التنقل وإصلاح الأخطاء
- **تحرير ملء الشاشة**: بيئة تحرير بدون تشتيت

### لوحة إعدادات القالب

- **اللغة**: تعيين إلى PHP لتحسين تسليط الضوء على التركيب النحوي
- **نوع القالب**: اختر بين قوالب الإيصال أو تقارير
- **الحالة**: إدارة حالة النشر/المسودة
- **الرؤية**: التحكم في رؤية القالب

### إجراءات القالب

- **معاينة**: رؤية كيفية عرض قالبك مع بيانات عينة
- **تعيين كقالب نشط**: جعل هذا القالب افتراضيًا لنقاط البيع الخاصة بك
- **تحديث**: حفظ التغييرات الخاصة بك
- **نقل إلى سلة المهملات**: حذف القوالب المخصصة

## هيكل القالب

قوالب الإيصالات هي ملفات PHP تقوم بإنشاء مخرجات HTML. فيما يلي الهيكل الأساسي:

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## متغيرات القالب المتاحة

عند إنشاء قوالب مخصصة، لديك إمكانية الوصول إلى وظائف ووردبريس و WooCommerce المختلفة وبياناتها:

### معلومات المتجر

- `get_bloginfo( 'name' )` - اسم المتجر
- `get_bloginfo( 'description' )` - شريط وصف المتجر
- `get_bloginfo( 'url' )` - عنوان URL للمتجر

### بيانات الطلب

تكون بيانات الطلب الحالية متاحة من خلال وظائف طلب WooCommerce القياسية عند عرض القالب.

### وظائف WCPOS

يمكنك استخدام وظائف محددة لـ WCPOS (المقدمة بـ `wcpos_`) للوصول إلى بيانات ووظائف ذات صلة بنقاط البيع.

## أفضل الممارسات

### تطوير القالب

1. **ابدأ بنسخة**: ابدأ دائمًا بنسخ قالب افتراضي بدلاً من الإنشاء من الصفر
2. **اختبر بشكل كامل**: استخدم وظيفة المعاينة لاختبار قالبك قبل التفعيل
3. **احتفظ بنسخ احتياطية**: قم بتصدير قوالبك المخصصة أو احتفظ بنسخ من تعليماتك البرمجية
4. **متجاوب مع الأجهزة المحمولة**: تأكد من أن قوالبك تعمل بشكل جيد على أحجام الشاشات المختلفة

### جودة التعليمات البرمجية

1. **تحقق من صحة HTML**: تأكد من أن HTML الخاص بك منظم بشكل جيد
2. **هروب المخرجات**: استخدم وظائف الهروب في ووردبريس للأمان
3. **معالجة الأخطاء**: تضمين التحقق المناسب من الأخطاء في تعليماتك البرمجية PHP
4. **تعليقات**: وثق تخصيصاتك للرجوع إليها في المستقبل

### الأداء

1. **تحسين CSS**: حافظ على أنماط بسيطة وفعالة
2. **تقليل PHP**: تجنب المنطق المعقد في القوالب
3. **اختبار الطباعة**: تحقق من أن القوالب تعمل بشكل جيد مع طابعات الإيصالات الخاصة بك

## استكشاف الأخطاء وإصلاحها

### المشكلات الشائعة

**القالب لا يظهر التغييرات**

- تأكد من أنك قد نقرت "تحديث" لحفظ تغييراتك
- تحقق من أن القالب مضبوط كـ "نشط"
- امسح أي مكونات إضافية لتخزين البيانات المؤقتة

**أخطاء التركيب النحوي**

- استخدم تسليط الضوء على التركيب النحوي لتحديد المشكلات
- تحقق من الفواصل المنقوطة أو الأقواس أو علامات الاقتباس المفقودة
- تحقق من صحة تركيب PHP الخاص بك

**مشكلات التنسيق**

- اختبر CSS الخاص بك في وضع المعاينة
- تأكد من أن الأنماط متوافقة مع طابعات الإيصالات
- احتفظ بمبادئ التصميم المتوافقة مع الطباعة في الاعتبار

**القالب غير متاح**

- تحقق من تعيين نوع القالب إلى "إيصال"
- تحقق من أن حالة القالب هي "منشور"
- تأكد من أن لديك الأذونات المناسبة

### الحصول على المساعدة

إذا واجهت مشاكل مع تخصيص القالب:

1. تحقق من معاينة القالب لرسائل الخطأ
2. راجع سجل تصحيح ووردبريس للأخطاء في PHP
3. اختبر باستخدام نسخة من القالب الافتراضي أولاً
4. **المساعدة من الذكاء الاصطناعي**: أدوات الذكاء الاصطناعي الحديثة مثل [Gemini](https://gemini.google.com)، ChatGPT، وClaude ممتازة في مساعدتك في قوالب ووردبريس البسيطة مثل هذه. يمكنك لصق كود القالب الخاص بك ووصف ما ترغب في تحقيقه.
5. استشر وثائق WooCommerce POS للحصول على تخصيصات متقدمة

## التخصيص المتقدم

للمستخدمين المتقدمين الذين يحتاجون إلى مزيد من التحكم في قوالب الإيصالات:

### تكامل السمة

يمكنك تجاوز القالب الافتراضي عن طريق وضع ملف `receipt.php` مخصص في السمة الخاصة بك:

```
your-theme/woocommerce-pos/receipt.php
```

### الخطافات والفلاتر

يوفر WooCommerce POS مجموعة متنوعة من الخطافات والفلاتر لتخصيص القالب. استشر وثائق المطورين للخيارات المتاحة.

### الحقول المخصصة

يمكنك تضمين حقول الطلب المخصصة وخصائص المنتج وبيانات التعريف الأخرى في قوالب الإيصالات الخاصة بك باستخدام وظائف ووردبريس و WooCommerce المناسبة.