---
title: "قوالب الإيصالات"
sidebar_label: "قوالب الإيصالات"
sidebar_position: 1
---

يتيح لك محرر قوالب الإيصالات تخصيص مظهر ومحتوى الإيصالات المطبوعة من نظام نقاط البيع الخاص بك. يمكنك الوصول إلى محرر القوالب عن طريق الانتقال إلى: `WP Admin > POS > Templates`

## نظرة عامة

يتوفر نظام القوالب على نوعين من القوالب:

- **القوالب الافتراضية**: يتم اكتشافها تلقائيًا من ملفات المكونات الإضافية والقوالب الخاصة بك. لا يمكن حذفها، ولكن يمكن نسخها لإنشاء إصدارات مخصصة.
- **القوالب المخصصة**: قوالب أنشأها المستخدم يمكنك تخصيصها بالكامل وتحريرها وإدارتها.

## الوصول إلى محرر القوالب

1. انتقل إلى لوحة تحكم WordPress Admin الخاصة بك
2. انتقل إلى **POS > Templates**
3. سترى قائمة بالقوالب المتاحة منظمة في قسمين:
   - **القوالب الافتراضية** (من ملفات المكونات الإضافية/القوالب)
   - **القوالب المخصصة** (إنشائك المخصص)

## القوالب الافتراضية

يكتشف النظام تلقائيًا قوالب الإيصالات من ثلاثة مصادر:

### مصادر القوالب

| المصدر          | الوصف                                              | الحالة                               |
| --------------- | -------------------------------------------------- | ------------------------------------ |
| **المكونات الإضافية** | قالب الإيصال الأساسي المضمن مع WooCommerce POS | متاح دائمًا                          |
| **المكون الإضافي المحترف** | قالب محسّن من WooCommerce POS Pro            | متاح مع ترخيص نشط                   |
| **القالب**     | قالب مخصص من القالب النشط لديك                     | متاح إذا كان القالب يتضمن قالب     |

### إجراءات القوالب

بالنسبة لكل قالب افتراضي، يمكنك:

- **معاينة**: عرض كيف يبدو القالب مع بيانات عينة
- **نسخ**: إنشاء نسخة مخصصة يمكنك تحريرها
- **تنشيط**: تعيينه كقالب نشط لنقاط البيع الخاصة بك

## إنشاء قوالب مخصصة

### الطريقة 1: النسخ من قالب افتراضي

1. في قسم **القوالب الافتراضية**، ابحث عن القالب الذي تريد تخصيصه
2. انقر على زر **نسخ**
3. أدخل اسمًا لقالبك المخصص
4. انقر على **نسخ القالب**
5. حرّر قالبك المخصص الذي تم إنشاؤه حديثًا

### الطريقة 2: الإنشاء من الصفر

1. انقر على **إضافة قالب جديد** في أعلى الصفحة
2. أدخل اسم القالب
3. اختر **إيصال** كنوع القالب
4. ابدأ في برمجة القالب الخاص بك في المحرر

## ميزات محرر القوالب

يوفر محرر القوالب:

### محرر الكود

- **تسليط الضوء على بناء الجملة**: تسليط الضوء على بناء جملة PHP لتحسين قراءة الكود
- **أرقام الأسطر**: سهولة التنقل وتصحيح الأخطاء
- **تحرير ملء الشاشة**: بيئة تحرير خالية من المشتتات

### لوحة إعدادات القالب

- **اللغة**: تعيينها إلى PHP لتمكين تسليط الضوء الصحيح على بناء الجملة
- **نوع القالب**: اختر بين قوالب الإيصالات أو التقارير
- **الحالة**: إدارة حالة النشر/المسودات
- **الرؤية**: التحكم في رؤية القالب

### إجراءات القالب

- **معاينة**: راجع كيف يتم عرض القالب الخاص بك مع بيانات عينة
- **تعيين كقالب نشط**: اجعل هذا القالب هو الافتراضي لنقاط البيع الخاصة بك
- **تحديث**: احفظ التغييرات الخاصة بك
- **نقل إلى سلة المهملات**: حذف القوالب المخصصة

## هيكل القالب

قوالب الإيصالات هي ملفات PHP التي تولد مخرجات HTML. إليك الهيكل الأساسي:

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## متغيرات القالب المتاحة

عند إنشاء القوالب المخصصة، لديك الوصول إلى وظائف وبيانات WordPress وWooCommerce المختلفة:

### معلومات المتجر

- `get_bloginfo( 'name' )` - اسم المتجر
- `get_bloginfo( 'description' )` - شعار المتجر
- `get_bloginfo( 'url' )` - عنوان URL للمتجر

### بيانات الطلب

تكون بيانات الطلب الحالية متاحة من خلال وظائف الطلب القياسية في WooCommerce عند عرض القالب.

### وظائف WCPOS

يمكنك استخدام وظائف WCPOS المحددة (المسبوقة بـ `wcpos_`) للوصول إلى بيانات ووظائف نقاط البيع ذات الصلة.

## أفضل الممارسات

### تطوير القوالب

1. **ابدأ بنسخة**: ابدأ دائمًا بنسخ قالب افتراضي بدلاً من الإنشاء من الصفر
2. **اختبر بدقة**: استخدم وظيفة المعاينة لاختبار القالب الخاص بك قبل التنشيط
3. **احتفظ بنسخ احتياطية**: قم بتصدير قوالبك المخصصة أو احتفظ بنسخ من الكود الخاص بك
4. **ملائمة للهواتف المحمولة**: تأكد من أن قوالبك تعمل بشكل جيد على أحجام الشاشات المختلفة

### جودة الكود

1. **تحقق من صحة HTML**: تأكد من أن HTML الخاص بك جيد التكوين
2. **هروب المخرجات**: استخدم وظائف الهروب في WordPress من أجل الأمان
3. **معالجة الأخطاء**: قم بتضمين التحقق المناسب من الأخطاء في كود PHP الخاص بك
4. **التعليقات**: وثق تخصيصاتك للرجوع إليها في المستقبل

### الأداء

1. **تحسين CSS**: احتفظ بالأنماط بسيطة وفعالة
2. **تقليل PHP**: تجنب المنطق المعقد في القوالب
3. **اختبار الطباعة**: تحقق من أن القوالب تعمل بشكل جيد مع طابعات الإيصالات الخاصة بك

## استكشاف الأخطاء وإصلاحها

### المشكلات الشائعة

**القالب لا يظهر التغييرات**

- تأكد من أنك اضغطت على "تحديث" لحفظ التغييرات الخاصة بك
- تحقق من أن القالب محدد كـ "نشط"
- امسح أي مكونات إضافية للذاكرة المؤقتة

**أخطاء بناء الجملة**

- استخدم تسليط الضوء على بناء الجملة لتحديد المشكلات
- تحقق من الفواصل المنقوطة أو الأقواس أو علامات الاقتباس المفقودة
- تحقق من بناء جملة PHP الخاص بك

**مشكلات التنسيق**

- اختبر CSS الخاص بك في وضع المعاينة
- تأكد من توافق الأنماط مع طابعات الإيصالات
- احتفظ بمبادئ التصميم المناسبة للطباعة في الاعتبار

**القالب غير متاح**

- تحقق من تعيين نوع القالب إلى "إيصال"
- تحقق من أن حالة القالب هي "منشور"
- تأكد من أن لديك الأذونات المناسبة

### الحصول على المساعدة

إذا واجهت مشكلات مع تخصيص القالب:

1. تحقق من المعاينة للقالب بحثًا عن رسائل الخطأ
2. راجع سجل تصحيح أخطاء WordPress بحثًا عن أخطاء PHP
3. اختبر باستخدام نسخة من القالب الافتراضي أولًا
4. **المساعدة من الذكاء الاصطناعي**: أدوات الذكاء الاصطناعي الحديثة مثل [Gemini](https://gemini.google.com)، وChatGPT، وClaude ممتازة في مساعدتك بقوالب WordPress البسيطة مثل هذه. يمكنك لصق كود القالب الخاص بك ووصف ما تريد تحقيقه.
5. استشر وثائق WooCommerce POS للتخصيص المتقدم

## التخصيص المتقدم

للمستخدمين المتقدمين الذين يحتاجون إلى مزيد من السيطرة على قوالب الإيصالات:

### تكامل القالب

يمكنك تجاوز القالب الافتراضي عن طريق وضع ملف `receipt.php` مخصص في قالبك:

```
your-theme/woocommerce-pos/receipt.php
```

### الخطافات والفلاتر

يوفر WooCommerce POS مجموعة متنوعة من الخطافات والفلاتر لتخصيص القوالب. استشر وثائق المطور للحصول على الخيارات المتاحة.

### الحقول المخصصة

يمكنك تضمين حقول طلب مخصصة، سمات المنتجات، وبيانات أخرى في قوالب إيصالاتك باستخدام وظائف WordPress وWooCommerce المناسبة.