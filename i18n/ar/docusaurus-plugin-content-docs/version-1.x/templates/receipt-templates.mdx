---
title: قوالب الإيصالات
sidebar_label: قوالب الإيصالات
sidebar_position: 1
---

يتيح لك محرر قالب الإيصالات تخصيص الشكل والمحتوى للإيصالات المطبوعة من نظام نقاط البيع الخاص بك. يمكنك الوصول إلى محرر القالب عن طريق التنقل إلى: `WP Admin > POS > Templates`.

## نظرة عامة

يوفر نظام القوالب نوعين من القوالب:

- **القوالب الافتراضية**: تُكتَشف تلقائيًا من ملفات المكون الإضافي وملفات السمات الخاصة بك. هذه القوالب لا يمكن حذفها ولكن يمكن نسخها لإنشاء نسخ مخصصة.
- **القوالب المخصصة**: قوالب يتم إنشاؤها بواسطة المستخدم يمكنك تخصيصها بشكل كامل وتحريرها وإدارتها.

## الوصول إلى محرر القالب

1. انتقل إلى لوحة تحكم إدارة WordPress الخاصة بك
2. اذهب إلى **POS > Templates**
3. سترى قائمة بالقوالب المتاحة مرتبة في قسمين:
   - **القوالب الافتراضية** (من ملفات المكون الإضافي/السمات)
   - **القوالب المخصصة** (إبداعاتك المخصصة)

## القوالب الافتراضية

يكتشف النظام تلقائيًا قوالب الإيصالات من ثلاثة مصادر:

### مصادر القالب

| المصدر | الوصف | الحالة |
| -------------- | --------------------------------------------------- | ------------------------------------ |
| **المكون الإضافي** | قالب الإيصال الأساسي المضمن مع WooCommerce POS | متاح دائمًا |
| **المكون الإضافي المحترف** | قالب محسن من WooCommerce POS Pro | متاح مع ترخيص نشط |
| **السمة** | قالب مخصص من السمة النشطة الخاصة بك | متاح إذا كانت السمة تتضمن قالبًا |

### إجراءات القالب

لكل قالب افتراضي، يمكنك:

- **معاينة**: عرض كيفية ظهور القالب مع بيانات نموذجية
- **نسخ**: إنشاء نسخة مخصصة يمكنك تحريرها
- **تفعيل**: جعل القالب القالب النشط لنقاط البيع الخاصة بك

## إنشاء قوالب مخصصة

### الطريقة 1: النسخ من القالب الافتراضي

1. في قسم **القوالب الافتراضية**، ابحث عن القالب الذي تريد تخصيصه
2. انقر على زر **نسخ**
3. أدخل اسم لقالبك المخصص
4. انقر على **نسخ القالب**
5. قم بتحرير القالب المخصص الذي تم إنشاؤه حديثًا

### الطريقة 2: إنشائه من البداية

1. انقر على **إضافة قالب جديد** في أعلى الصفحة
2. أدخل اسم القالب
3. اختر **إيصال** كنوع القالب
4. ابدأ في كتابة الكود الخاص بقالبك في المحرر

## ميزات محرر القالب

يوفر محرر القالب:

### محرر الكود

- **تمييز الصياغة**: تمييز صياغة PHP لتحسين قابلية قراءة الكود
- **أرقام الأسطر**: سهولة التنقل وإصلاح الأخطاء
- **تحرير بملء الشاشة**: بيئة تحرير خالية من التشتيت

### لوحة إعدادات القالب

- **اللغة**: تعيين إلى PHP لتحسين تمييز الصياغة
- **نوع القالب**: اختر بين قوالب الإيصال أو التقارير
- **الحالة**: إدارة حالة النشر/المسودة
- **الرؤية**: التحكم في رؤية القالب

### إجراءات القالب

- **معاينة**: رؤية كيفية عرض قالبك مع بيانات نموذجية
- **تعيين كقالب نشط**: جعل هذا القالب القالب الافتراضي لنقاط البيع الخاصة بك
- **تحديث**: حفظ تغييراتك
- **نقل إلى سلة المهملات**: حذف قوالب مخصصة

## هيكل القالب

قوالب الإيصالات هي ملفات PHP تقوم بإنشاء مخرجات HTML. إليك الهيكل الأساسي:

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* أنماط CSS المخصصة الخاصة بك */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* أضف المزيد من الأنماط حسب الحاجة */
    </style>
</head>
<body>
    <!-- محتوى الإيصال الخاص بك -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- تفاصيل الطلب، العناصر، الإجماليات، إلخ -->

</body>
</html>
```

## متغيرات القالب المتاحة

عند إنشاء قوالب مخصصة، لديك إمكانية الوصول إلى وظائف وبيانات WordPress وWooCommerce المختلفة:

### معلومات المتجر

- `get_bloginfo( 'name' )` - اسم المتجر
- `get_bloginfo( 'description' )` - شعار المتجر
- `get_bloginfo( 'url' )` - عنوان URL للمتجر

### بيانات الطلب

تكون بيانات الطلب الحالي متاحة من خلال وظائف طلب WooCommerce القياسية عند عرض القالب.

### وظائف WCPOS

يمكنك استخدام وظائف محددة لـ WCPOS (المقدمة بـ `wcpos_`) للوصول إلى بيانات وعمليات متعلقة بنقاط البيع.

## أفضل الممارسات

### تطوير القالب

1. **ابدأ بنسخة**: ابدأ دائمًا بنسخ قالب افتراضي بدلاً من الإنشاء من البداية
2. **اختبر بشكل كامل**: استخدم وظيفة المعاينة لاختبار قالبك قبل التفعيل
3. **احتفظ بنسخ احتياطية**: قم بتصدير قوالبك المخصصة أو احتفظ بنسخ من تعليماتك البرمجية
4. **متجاوب مع الأجهزة المحمولة**: تأكد من أن قوالبك تعمل بشكل جيد على أحجام الشاشات المختلفة

### جودة الكود

1. **تحقق من صحة HTML**: تأكد من أن HTML الخاص بك منظَّم بشكل جيد
2. **هروب الإخراج**: استخدم وظائف الهروب في WordPress للأمان
3. **معالجة الأخطاء**: تضمين التحقق المناسب من الأخطاء في تعليماتك البرمجية PHP
4. **تعليقات**: وثق تخصيصاتك للرجوع إليها في المستقبل

### الأداء

1. **تحسين CSS**: حافظ على الأساليب بسيطة وفعالة
2. **تقليل PHP**: تجنب المنطق المعقد في القوالب
3. **اختبار الطباعة**: تحقق من أن القوالب تعمل بشكل جيد مع طابعات الإيصال

## استكشاف الأخطاء وإصلاحها

### المشكلات الشائعة

**القالب لا يظهر التغييرات**

- تأكد من أنك قد نقرت "تحديث" لحفظ تغييراتك
- تحقق من ضبط القالب كـ "نشط"
- امسح أي المكونات الإضافية لتخزين البيانات المؤقتة

**أخطاء الصياغة**

- استخدم تمييز الصياغة لتحديد المشكلات
- تحقق من الفواصل المنقوطة أو الأقواس أو علامات الاقتباس المفقودة
- تحقق من صحة صياغة PHP الخاص بك

**مشاكل التنسيق**

- اختبر CSS الخاص بك في وضع المعاينة
- تأكد من أن الأنماط متوافقة مع طابعات الإيصالات
- احتفظ بمبادئ التصميم المتوافقة مع الطباعة في الاعتبار

**القالب غير متاح**

- تحقق من تعيين نوع القالب إلى "إيصال"
- تحقق من أن حالة القالب هي "منشور"
- تأكد من أن لديك الأذونات المناسبة

### الحصول على المساعدة

إذا واجهت مشاكل مع تخصيص القالب:

1. تحقق من معاينة القالب لرسائل الخطأ
2. راجع سجل تصحيح WordPress للأخطاء في PHP
3. اختبر باستخدام نسخة من القالب الافتراضي أولاً
4. **المساعدة من الذكاء الاصطناعي**: أدوات الذكاء الاصطناعي الحديثة مثل [Gemini](https://gemini.google.com)، ChatGPT، وClaude ممتازة في مساعدتك في القوالب البسيطة لـ WordPress مثل هذه. يمكنك لصق كود القالب الخاص بك ووصف ما ترغب في تحقيقه.
5. استشر وثائق WooCommerce POS للحصول على تخصيصات متقدمة

## التخصيص المتقدم

للمستخدمين المتقدمين الذين يحتاجون إلى مزيد من التحكم في قوالب الإيصالات:

### دمج السمة

يمكنك تجاوز القالب الافتراضي بوضع ملف `receipt.php` مخصص في السمة الخاصة بك:

```
your-theme/woocommerce-pos/receipt.php
```

### الخطافات والفلاتر

يوفر WooCommerce POS مجموعة متنوعة من الخطافات والفلاتر لتخصيص القالب. استشر وثائق المطورين للخيارات المتاحة.

### الحقول المخصصة

يمكنك تضمين حقول الطلب المخصصة وخصائص المنتج وبيانات التعريف الأخرى في قوالب الإيصالات الخاصة بك باستخدام وظائف WordPress و WooCommerce المناسبة.
