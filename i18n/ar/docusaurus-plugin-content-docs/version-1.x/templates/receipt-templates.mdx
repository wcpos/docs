---
title: قوالب الإيصالات
sidebar_label: قوالب الإيصالات
sidebar_position: 1
description: تخصيص قوالب إيصال WCPOS باستخدام HTML و CSS ومتغيرات القالب للإيصالات المطبوعة والبريد الإلكتروني.
---

import Accordion from '@site/src/components/Accordion';
import AccordionItem from '@site/src/components/AccordionItem';

يمكنك من خلال محرر قوالب الإيصالات تخصيص مظهر ومحتوى الإيصالات المطبوعة من نظام نقاط البيع الخاص بك. يمكنك الوصول إلى محرر القالب عن طريق التنقل إلى: `WP Admin > POS > Templates`

## نظرة عامة {#overview}

يوفر نظام القوالب نوعين من القوالب:

- **القوالب الافتراضية**: يتم اكتشافها تلقائيًا من ملفات الإضافات والسمات الخاصة بك. لا يمكن حذفها ولكن يمكن نسخها لإنشاء نسخ مخصصة.
- **القوالب المخصصة**: قوالب أنشأها المستخدم يمكنك تخصيصها وتعديلها وإدارتها بالكامل.

## الوصول إلى محرر القالب {#accessing-the-template-editor}

1. انتقل إلى لوحة التحكم لـ WordPress
2. انتقل إلى **نقاط البيع > القوالب**
3. سترى قائمة بالقوالب المتاحة مرتبة في قسمين:
   - **القوالب الافتراضية** (من ملفات الإضافات/السمات)
   - **القوالب المخصصة** (الإنشاءات المخصصة الخاصة بك)

## القوالب الافتراضية {#default-templates}

يكتشف النظام تلقائيًا قوالب الإيصالات من ثلاثة مصادر:

### مصادر القوالب {#template-sources}

| المصدر         | الوصف                                          | الحالة                                  |
| -------------- | ---------------------------------------------- | --------------------------------------- |
| **الملحق**     | قالب الإيصال الأساسي المضمن مع WooCommerce POS | متاح دائمًا                             |
| **الملحق الاحترافي** | قالب محسن من WooCommerce POS Pro           | متاح مع الترخيص النشط                  |
| **السمة**      | قالب مخصص من السمة النشطة لديك                | متاح إذا كانت السمة تتضمن قالب         |

### إجراءات القالب {#template-actions}

بالنسبة لكل قالب افتراضي، يمكنك:

- **معاينة**: عرض كيفية ظهور القالب مع بيانات عينية
- **نسخ**: إنشاء نسخة مخصصة يمكنك تعديلها
- **تفعيل**: تعيينه كالقالب النشط لنقاط البيع الخاصة بك

## إنشاء قوالب مخصصة {#creating-custom-templates}

### الطريقة 1: النسخ من قالب افتراضي {#method-1-copy-from-default-template}

1. في قسم **القوالب الافتراضية**، ابحث عن القالب الذي تريد تخصيصه
2. اضغط على زر **نسخ**
3. أدخل اسمًا لقالبك المخصص
4. اضغط على **نسخ القالب**
5. عدل القالب المخصص الذي تم إنشاؤه حديثًا

### الطريقة 2: الإنشاء من الصفر {#method-2-create-from-scratch}

1. اضغط على **إضافة قالب جديد** في أعلى الصفحة
2. أدخل اسم القالب
3. اختر **إيصال** كنوع القالب
4. ابدأ في كتابة الكود الخاص بالقالب في المحرر

## ميزات محرر القالب {#template-editor-features}

يوفر محرر القالب:

### محرر الكود {#code-editor}

- **تمييز التركيب**: تمييز تركيب PHP لقراءة الكود بشكل أفضل
- **أرقام الخطوط**: سهولة التنقل وتصحيح الأخطاء
- **تحرير ملء الشاشة**: بيئة تحرير خالية من المشتتات

### لوحة إعدادات القالب {#template-settings-panel}

- **اللغة**: اضبط على PHP من أجل تمييز التركيب بشكل صحيح
- **نوع القالب**: اختر بين قوالب الإيصال أو التقرير
- **الحالة**: إدارة حالة النشر/المسودة
- **الرؤية**: التحكم في رؤية القالب

### إجراءات القالب {#template-actions}

- **معاينة**: انظر كيف يظهر القالب مع بيانات عينية
- **تعيين كقالب نشط**: اجعل هذا القالب الافتراضي لنقاط البيع لديك
- **تحديث**: احفظ تغييراتك
- **نقل إلى سلة المهملات**: حذف القوالب المخصصة

## هيكل القالب {#template-structure}

قوالب الإيصالات هي ملفات PHP التي تولد مخرجات HTML. إليك الهيكل الأساسي:

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## متغيرات القالب المتاحة {#available-template-variables}

عند إنشاء قوالب مخصصة، لديك إمكانية الوصول إلى مختلف دوال وبيانات WordPress وWooCommerce:

### معلومات المتجر {#store-information}

- `get_bloginfo( 'name' )` - اسم المتجر
- `get_bloginfo( 'description' )` - الشعار الخاص بالمتجر
- `get_bloginfo( 'url' )` - عنوان URL الخاص بالمتجر

### بيانات الطلب {#order-data}

تكون بيانات الطلب الحالية متاحة من خلال دوال الطلب القياسية في WooCommerce عند عرض القالب.

### دوال WCPOS {#wcpos-functions}

يمكنك استخدام الدوال المحددة لـ WCPOS (مسبوقة بـ `wcpos_`) للوصول إلى بيانات ووظائف نقاط البيع.

## أفضل الممارسات {#best-practices}

### تطوير القالب {#template-development}

1. **ابدأ بنسخة**: ابدأ دائمًا بنسخ قالب افتراضي بدلاً من إنشائه من الصفر
2. **اختبار شامل**: استخدم وظيفة المعاينة لاختبار القالب الخاص بك قبل التفعيل
3. **احتفظ بنسخ احتياطية**: قم بتصدير قوالبك المخصصة أو احتفظ بنسخ من كودك
4. **ملائم للجوال**: تأكد من أن قوالبك تعمل بشكل جيد على الشاشات المختلفة

### جودة الكود {#code-quality}

1. **تحقق من HTML**: تأكد من أن HTML لديك متشكل بشكل جيد
2. **الهروب من المخرجات**: استخدم دوال الهروب الخاصة بـ WordPress لأمان أفضل
3. **التعامل مع الأخطاء**: أدرج تحققات صحيحة للأخطاء في كود PHP الخاص بك
4. **التعليقات**: توثيق تخصيصاتك للإشارة إليها في المستقبل

### الأداء {#performance}

1. **تحسين CSS**: احتفظ بالأنماط بسيطة وفعالة
2. **تقليل PHP**: تجنب المنطق المعقد في القوالب
3. **اختبار الطباعة**: تحقق من أن القوالب تعمل بشكل جيد مع الطابعات الخاصة بالإيصالات

## استكشاف الأخطاء {#troubleshooting}

### المشاكل الشائعة {#common-issues}

<Accordion>
  <AccordionItem question="القالب لا يُظهر التغييرات">

  - تأكد من أنك قد ضغطت على "تحديث" لحفظ تغييراتك
  - تحقق من أن القالب مضبوط كـ "نشط"
  - امسح أي ملحقات للتخزين المؤقت

  </AccordionItem>

  <AccordionItem question="أخطاء التركيب">

  - استخدم تمييز التركيب لتحديد المشكلات
  - تحقق من وجود فواصل منقطة مفقودة أو أقواس أو اقتباسات
  - تحقق من تركيب PHP الخاص بك

  </AccordionItem>

  <AccordionItem question="مشاكل التهيئة">

  - اختبر CSS الخاص بك في وضع المعاينة
  - تأكد من أن الأنماط متوافقة مع طابعات الإيصالات
  - احتفظ بمبادئ التصميم الصديقة للطباعة في الاعتبار

  </AccordionItem>

  <AccordionItem question="القالب غير متوفر">

  - تحقق من أن نوع القالب مضبوط على "إيصال"
  - تحقق من أن حالة القالب هي "منشور"
  - تأكد من أنك تمتلك الأذونات الصحيحة

  </AccordionItem>
</Accordion>

### الحصول على المساعدة {#getting-help}

إذا واجهت مشاكل في تخصيص القالب:

1. تحقق من معاينة القالب للحصول على رسائل خطأ
2. راجع سجل تصحيح أخطاء WordPress لأخطاء PHP
3. اختبر مع نسخة من القالب الافتراضي أولاً
4. **مساعدة الذكاء الاصطناعي**: تعتبر الأدوات الحديثة مثل [Gemini](https://gemini.google.com) وChatGPT وClaude ممتازة في مساعدتك في قوالب WordPress البسيطة مثل هذه. يمكنك لصق كود القالب الخاص بك ووصف ما تريد تحقيقه.
5. استشر وثائق WooCommerce POS للتخصيص المتقدم

## التخصيص المتقدم {#advanced-customisation}

بالنسبة للمستخدمين المتقدمين الذين يحتاجون إلى مزيد من التحكم في قوالب الإيصالات:

### دمج السمات {#theme-integration}

يمكنك تجاوز القالب الافتراضي بوضع ملف `receipt.php` مخصص في سمة التصميم الخاصة بك:

```
your-theme/woocommerce-pos/receipt.php
```

### الخطافات والفلاتر {#hooks-and-filters}

يوفر WooCommerce POS مجموعة متنوعة من الخطافات والفلاتر لتخصيص القوالب. استشر الوثائق الخاصة بالمطورين للاطلاع على الخيارات المتاحة.

### الحقول المخصصة {#custom-fields}

يمكنك تضمين حقول الطلب المخصصة، وسمات المنتج، وبيانات التعريف الأخرى في قوالب الإيصالات الخاصة بك باستخدام دوال WordPress وWooCommerce المناسبة.

---