---
title: 'API02005: أذونات غير كافية'
sidebar_label: API02005
---

# API02005: أذونات غير كافية {#api02005-insufficient-permissions}

## ماذا يعني هذا {#what-this-means}

حساب المستخدم الخاص بك يفتقر إلى القدرات المحددة في WordPress المطلوبة لهذا الإجراء. بينما لديك وصول أساسي، فإن العملية المحددة التي تحاول تنفيذها تحتاج إلى أذونات إضافية.

## الأسباب الشائعة {#common-causes}

- **دور المستخدم المحدود** — دورك لا يتضمن جميع القدرات اللازمة
- **عدم تعيين القدرة** — قدرة محددة مفقودة من دورك
- **قيود الإضافات** — إضافة أمان تحد من القدرات
- **مشاكل الأدوار المخصصة** — قد تفتقر الأدوار المخصصة إلى بعض القدرات

## خريطة أخطاء الخادم {#server-error-mapping}

يتم تفعيل رمز الخطأ هذا عندما يعيد الخادم:

| رمز الخادم | المصدر |
|------------|--------|
| `rest_forbidden` | واجهة WordPress REST API |
| `rest_cannot_create` | واجهة WordPress REST API |
| `rest_cannot_edit` | واجهة WordPress REST API |
| `rest_cannot_delete` | واجهة WordPress REST API |
| `woocommerce_rest_cannot_create` | واجهة WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | واجهة WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | واجهة WooCommerce REST API |
| HTTP 403 | أي استجابة خادم (احتياطي) |

## كيفية الإصلاح {#how-to-fix}

### 1. مراجعة القدرات المطلوبة {#1-review-required-capabilities}

القدرات العامة المطلوبة لعمليات POS:
- `manage_woocommerce` — الإدارة العامة لووكومرس
- `edit_shop_orders` — إنشاء وتحرير الطلبات
- `edit_products` — تعديل معلومات المنتجات
- `edit_users` — إدارة حسابات العملاء

### 2. ترقية دور المستخدم {#2-upgrade-user-role}

اطلب من المسؤول تعيين دور أكثر قدرة:
- **مدير المتجر** — وصول كامل لووكومرس
- **المسؤول** — وصول كامل للموقع

### 3. إضافة قدرات محددة {#3-add-specific-capabilities}

إذا كنت بحاجة إلى دور مخصص، أضف القدرات المطلوبة:

```php
// Example: Add POS capabilities to a custom role
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. تحقق من تعارضات الإضافات {#4-check-plugin-conflicts}

بعض إضافات الأمان أو إدارة الأدوار قد تحد من القدرات:
- مراجعة إعدادات الإضافة
- تحقق من فلاتر القدرات
- تعطيلها مؤقتًا للاختبار

## أخطاء ذات صلة {#related-errors}

- [API02004](./API02004) — المستخدم غير مصرح له
- [API02010](./API02010) — يتطلب تفويض

---