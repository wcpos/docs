---
title: "API02005: صلاحيات غير كافية"
sidebar_label: API02005
---

# API02005: صلاحيات غير كافية

## ما يعنيه هذا

حساب المستخدم الخاص بك يفتقر إلى قدرات WordPress المحددة المطلوبة لهذا الإجراء. على الرغم من وجود وصول أساسي، فإن العملية التي تحاول القيام بها تحتاج إلى صلاحيات إضافية.

## الأسباب الشائعة

- **دور مستخدم محدود** — دورك لا يتضمن جميع القدرات المطلوبة
- **قدرة غير مخصصة** — قدرة محددة مفقودة من دورك
- **قيود الإضافات** — إضافة أمان تحد من القدرات
- **مشاكل الأدوار المخصصة** — الأدوار المخصصة قد تفتقر إلى قدرات معينة

## تعيين خطأ الخادم

يتم تشغيل رمز الخطأ هذا عند إرجاع الخادم:

| رمز الخادم | المصدر |
|-------------|--------|
| `rest_forbidden` | WordPress REST API |
| `rest_cannot_create` | WordPress REST API |
| `rest_cannot_edit` | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403 | أي استجابة خادم (احتياطي) |

## كيفية الإصلاح

### 1. مراجعة القدرات المطلوبة

القدرات الشائعة المطلوبة لعمليات نقطة البيع:
- `manage_woocommerce` — إدارة WooCommerce العامة
- `edit_shop_orders` — إنشاء وتحرير الطلبات
- `edit_products` — تعديل معلومات المنتج
- `edit_users` — إدارة حسابات العملاء

### 2. ترقية دور المستخدم

اطلب من المسؤول تعيين دور أكثر قدرة:
- **مدير المتجر** — وصول كامل إلى WooCommerce
- **المسؤول** — وصول كامل للموقع

### 3. إضافة قدرات محددة

إذا كنت بحاجة إلى دور مخصص، أضف القدرات المطلوبة:

```php
// مثال: إضافة قدرات نقطة البيع إلى دور مخصص
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. التحقق من تعارضات الإضافات

بعض إضافات الأمان أو إدارة الأدوار قد تقيد القدرات:
- مراجعة إعدادات الإضافات
- التحقق من مرشحات القدرات
- تعطيل مؤقت للاختبار

## أخطاء ذات صلة

- [API02004](./API02004) — المستخدم غير مصرح
- [API02010](./API02010) — المصادقة مطلوبة