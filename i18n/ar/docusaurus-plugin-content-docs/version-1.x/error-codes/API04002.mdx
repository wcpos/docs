```mdx
---
title: "API04002: رمز استجابة غير متوقع"
sidebar_label: API04002
---

# API04002: رمز استجابة غير متوقع

## ما يعنيه هذا

أرسل الخادم رمز حالة HTTP لم يكن متوقعًا لهذا الطلب. تتضمن الرموز الشائعة 500 (خطأ في الخادم)، 403 (ممنوع)، 404 (غير موجود)، إلخ.

## الأسباب الشائعة

- **500 خطأ داخلي في الخادم** — تعطل PHP أو واجه خطأ
- **403 ممنوع** — تم رفض الوصول بواسطة إعدادات الأمان
- **404 غير موجود** — نقطة النهاية غير موجودة
- **502/503/504** — مشاكل بوابة الخادم أو توافره

## كيفية الإصلاح

### للأخطاء 500 (خطأ الخادم)

1. تحقق من سجلات أخطاء PHP
2. زيادة حد ذاكرة PHP
3. ابحث عن تعارضات الإضافات
4. تحقق من `wp-content/debug.log`

### للأخطاء 403 (ممنوع)

1. تحقق من إعدادات إضافات الأمان (Wordfence، Sucuri، إلخ)
2. أضف POS أو عنوان IP الخاص بك إلى القائمة البيضاء
3. تحقق من `.htaccess` من حيث قواعد الحظر
4. تأكد من عدم حظر ModSecurity للطلبات

### للأخطاء 404 (غير موجود)

1. تأكد من تنشيط إضافة WCPOS
2. مسح روابط WordPress (الإعدادات → الروابط الدائمة → حفظ)
3. تحقق من تمكين REST API
4. التحقق من تكوين عنوان URL

### للأخطاء 502/503/504 (مشاكل البوابة)

1. تواصل مع مزود الاستضافة
2. انتظر تعافي الخادم
3. تحقق مما إذا كان الموقع تحت حمل ثقيل
4. تأكد من تشغيل الخادم

### استكشاف الأخطاء وإصلاحها العام

1. حاول الوصول إلى موقعك مباشرة
2. تحقق من لوحة التحكم في الاستضافة من حيث المشاكل
3. راجع سجلات وصول الخادم
4. تواصل مع دعم الاستضافة إذا لزم الأمر

## الأخطاء ذات الصلة

- [API04001](./API04001) — تنسيق الاستجابة غير صالح
- [API01008](./API01008) — الموقع غير متاح
```