---
title: "API04001: تنسيق استجابة غير صالح"
sidebar_label: API04001
---

# API04001: تنسيق استجابة غير صالح

## ما الذي يعنيه هذا

استجاب الخادم، لكن تنسيق الاستجابة ليس ما توقعه الـ POS. يجب على الخادم إعادة بيانات JSON، ولكن تم تلقي شيء آخر.

## الأسباب الشائعة

- **خطأ PHP معروض** — يتم إخراج خطأ PHP قبل JSON
- **تعارض المكونات الإضافية** — مكون إضافي آخر يقوم بإخراج محتوى
- **وضع الصيانة** — الموقع يظهر صفحة صيانة
- **نوع محتوى خاطئ** — الخادم يرسل HTML بدلاً من JSON
- **مشكلة التخزين المؤقت** — يتم تقديم صفحة خطأ مخزنة

## كيفية الإصلاح

### 1. تحقق من موقعك

قم بزيارة موقع WordPress الخاص بك في المتصفح:
- هل يتم عرضه بشكل طبيعي؟
- هل هناك أي أخطاء مرئية؟
- هل هو في وضع الصيانة؟

### 2. تحقق من أخطاء PHP

في `wp-config.php`، قم بتفعيل تصحيح الأخطاء مؤقتًا:

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

تحقق من `wp-content/debug.log` بحثًا عن الأخطاء.

### 3. اختبر واجهة برمجة تطبيقات REST مباشرة

قم بزيارة `https://yoursite.com/wp-json/` في متصفحك:
- يجب أن تعيد بيانات JSON
- إذا رأيت HTML أو أخطاء، فهناك مشكلة
- تحقق من الإخراج المرتبط بالمكون الإضافي

### 4. قم بتعطيل التخزين المؤقت مؤقتًا

يمكن أن تقدم مكونات التخزين المؤقت استجابات قديمة:
- قم بمسح جميع ذاكرات التخزين المؤقت
- قم بتعطيل مكونات التخزين المؤقت مؤقتًا
- استثني واجهة برمجة تطبيقات REST من التخزين المؤقت

### 5. تحقق من تعارضات المكونات الإضافية

إذا كان مكون إضافي يقوم بإخراج محتوى في كل صفحة:
1. قم بتعطيل جميع المكونات الإضافية غير الأساسية
2. اختبر الـ POS
3. أعد تفعيل المكونات الإضافية واحدة تلو الأخرى

## أخطاء ذات صلة

- [API04003](./API04003) — استجابة JSON مشوهة
- [API05005](./API05005) — المكون الإضافي غير موجود

---