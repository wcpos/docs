---
title: "API04003: विकृत JSON प्रतिक्रिया"
sidebar_label: API04003
---

# API04003: विकृत JSON प्रतिक्रिया

## इसका अर्थ क्या है

सर्वर ने ऐसा डेटा वापस किया जो JSON जैसा दिखता है लेकिन भ्रष्ट या अमान्य है। POS इस प्रतिक्रिया को नहीं समझ पाया क्योंकि JSON सिंटैक्स टूटा हुआ है।

## सामान्य कारण

- **PHP नोटिस/चेतावनियां** — JSON से पहले PHP आउटपुट
- **BOM (बाइट ऑर्डर मार्क)** — फ़ाइल की शुरुआत में अदृश्य अक्षर
- **एन्कोडिंग समस्याएं** — वर्ण एन्कोडिंग समस्याएं
- **अधूरी प्रतिक्रिया** — संचरण के बीच में कटी हुई प्रतिक्रिया
- **प्लगइन आउटपुट** — किसी प्लगइन ने गैर-JSON सामग्री जोड़ी

## समाधान कैसे करें

### 1. PHP नोटिस की जांच करें

JSON से पहले PHP नोटिस/चेतावनियां parsing को तोड़ देती हैं:

`wp-config.php` में:
```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

`wp-content/debug.log` की समीक्षा करें और किसी भी समस्या को ठीक करें।

### 2. BOM अक्षरों की जांच करें

कुछ टेक्स्ट संपादक अदृश्य BOM अक्षर जोड़ देते हैं:
- PHP फ़ाइलों को BOM के बिना फिर से सहेजें
- UTF-8 का उपयोग करें (BOM के बिना)
- हाल ही में संपादित की गई फ़ाइलों की जांच करें

### 3. पूर्ण प्रतिक्रिया की पुष्टि करें

यदि प्रतिक्रियाएं कट रही हैं:
- PHP आउटपुट बफरिंग सेटिंग्स की जांच करें
- php.ini में `output_buffering` बढ़ाएं
- टाइमआउट समस्याओं की जांच करें

### 4. API को सीधे टेस्ट करें

अपने ब्राउज़र में या curl का उपयोग करके:
```bash
curl -v https://yoursite.com/wp-json/wcpos/v1/
```

JSON से पहले किसी भी अप्रत्याशित सामग्री को देखें।

### 5. वर्ण एन्कोडिंग की जांच करें

सुनिश्चित करें कि डेटाबेस और PHP UTF-8 का उपयोग करते हैं:
- `wp-config.php` में चार्सेट सेटिंग्स की जांच करें
- डेटाबेस टेबल UTF-8 हैं या नहीं, यह सत्यापित करें
- समस्या पैदा करने वाले विशेष अक्षरों को देखें

## संबंधित त्रुटियां

- [API04001](./API04001) — अमान्य प्रतिक्रिया प्रारूप
- [API04005](./API04005) — JSON पुनर्प्राप्ति का प्रयास