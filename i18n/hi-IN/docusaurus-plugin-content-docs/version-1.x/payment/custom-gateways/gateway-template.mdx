---
title: गेटवे टेम्पलेट
description: अपना खुद का कस्टम WooCommerce POS भुगतान गेटवे बनाएं
---

import FeatureCard from '@site/src/components/FeatureCard';
import FeatureGrid from '@site/src/components/FeatureGrid';

# गेटवे टेम्पलेट {#gateway-template}

WooCommerce गेटवे टेम्पलेट WooCommerce POS के लिए अपने खुद के कस्टम भुगतान गेटवे बनाने के लिए एक प्रारंभिक बिंदु प्रदान करता है। इस टेम्पलेट में एक पूरी तरह से कार्यात्मक भुगतान गेटवे बनाने के लिए आवश्यक सभी आधारभूत कोड और संरचना शामिल है।

## विशेषताएँ {#features}

<FeatureGrid>
  <FeatureCard icon="code" title="पूर्ण टेम्पलेट">
    सभी आवश्यक विधियों के साथ तैयार-से-उपयोग गेटवे संरचना
  </FeatureCard>
  <FeatureCard icon="store" title="POS एकीकरण">
    WooCommerce POS संगतता के लिए पूर्व-कॉन्फ़िगर किया गया
  </FeatureCard>
  <FeatureCard icon="terminal" title="स्वचालित कस्टमाईजेशन">
    स्क्रिप्ट-आधारित टेम्पलेट कस्टमाईजेशन
  </FeatureCard>
  <FeatureCard icon="puzzle-piece" title="विस्तारित करने योग्य">
    विशिष्ट भुगतान प्रदाताओं के लिए संशोधित और विस्तारित करना आसान
  </FeatureCard>
</FeatureGrid>

## शुरू करना {#getting-started}

### विकल्प 1: स्वचालित टेम्पलेट जनरेशन {#option-1-automated-template-generation}

यह टेम्पलेट एक स्क्रिप्ट शामिल करता है जो आपके विशेष गेटवे के लिए टेम्पलेट को स्वचालित रूप से अनुकूलित करता है:

1. **रिपॉजिटरी को क्लोन करें**:
   ```bash
   git clone https://github.com/wcpos/woocommerce-gateway-template.git
   cd woocommerce-gateway-template
   ```

2. **सेटअप स्क्रिप्ट चलाएँ**:
   ```bash
   ./create-gateway.sh
   ```

3. **प्रांप्ट का पालन करें**:
   - अपना गेटवे नाम दर्ज करें (जैसे, "मेरे भुगतान गेटवे")
   - एक गेटवे स्लग दर्ज करें (जैसे, "my-payment")
   - एक विवरण प्रदान करें
   - स्क्रिप्ट एक अनुकूलित प्लगइन उत्पन्न करेगी

### विकल्प 2: मैनुअल टेम्पलेट उपयोग {#option-2-manual-template-usage}

यदि आप मैनुअल कस्टमाईजेशन पसंद करते हैं:

1. **टेम्पलेट डाउनलोड करें**:
   - [गेटवे टेम्पलेट रिपॉजिटरी](https://github.com/wcpos/woocommerce-gateway-template) पर जाएँ
   - नवीनतम रिलीज़ डाउनलोड करें या रिपॉजिटरी को क्लोन करें

2. **टेम्पलेट को कस्टमाईज करें**:
   - `{{GATEWAY_NAME}}` को अपने गेटवे के डिस्प्ले नाम से बदलें
   - `{{GATEWAY_SLUG}}` को अपने गेटवे के अद्वितीय पहचानकर्ता से बदलें
   - `{{GATEWAY_DESCRIPTION}}` को अपने गेटवे के विवरण से बदलें

3. **फाइलों का नाम बदलें**:
   - `wcpos-{{GATEWAY_SLUG}}.php` को अपने गेटवे स्लग के अनुसार नाम बदलें
   - फ़ाइल हेडर और प्लगइन जानकारी को अपडेट करें

## टेम्पलेट संरचना {#template-structure}

### मुख्य प्लगइन फ़ाइल {#main-plugin-file}

मुख्य प्लगइन फ़ाइल (`wcpos-{{GATEWAY_SLUG}}.php`) में शामिल हैं:

- **प्लगइन हेडर**: वर्डप्रेस प्लगइन जानकारी
- **गेटवे क्लास**: मुख्य भुगतान गेटवे क्लास
- **प्रारंभिककरण**: प्लगइन सेटअप और हुक
- **एकीकरण**: WooCommerce POS संगतता

### कुंजी घटक {#key-components}

**गेटवे क्लास संरचना**:
```php
class WCPOS_Gateway_{{GATEWAY_CLASS}} extends WC_Payment_Gateway {
    // गेटवे कॉन्फ़िगरेशन
    public function __construct() { }
    
    // प्रशासन सेटिंग फ़ॉर्म
    public function init_form_fields() { }
    
    // भुगतान प्रक्रिया (मुख्य लॉजिक यहाँ जाता है)
    public function process_payment( $order_id ) { }
    
    // POS-विशिष्ट विधियाँ
    public function payment_fields() { }
}
```

## कस्टमाईजेशन गाइड {#customisation-guide}

### बुनियादी कॉन्फ़िगरेशन {#basic-configuration}

1. **गेटवे जानकारी**:
   ```php
   $this->id = 'your_gateway_id';
   $this->title = 'Your Gateway Name';
   $this->description = 'Gateway description for customers';
   $this->method_title = 'Admin title';
   $this->method_description = 'Admin description';
   ```

2. **समर्थित विशेषताएँ**:
   ```php
   $this->supports = array(
       'products',
       'refunds',
       'subscriptions', // यदि लागू हो
   );
   ```

### भुगतान प्रसंस्करण {#payment-processing}

मुख्य भुगतान लॉजिक `process_payment()` विधि में जाता है:

```php
public function process_payment( $order_id ) {
    $order = wc_get_order( $order_id );
    
    // यहाँ आपका भुगतान प्रसंस्करण लॉजिक
    // उदाहरण: API कॉल्स, सत्यापन, आदि
    
    if ( $payment_successful ) {
        $order->payment_complete();
        return array(
            'result' => 'success',
            'redirect' => $this->get_return_url( $order )
        );
    } else {
        wc_add_notice( 'Payment failed', 'error' );
        return array(
            'result' => 'failure'
        );
    }
}
```

### प्रशासन सेटिंग्स {#admin-settings}

`init_form_fields()` में प्रशासन सेटिंग्स कॉन्फ़िगर करें:

```php
public function init_form_fields() {
    $this->form_fields = array(
        'enabled' => array(
            'title' => 'Enable/Disable',
            'type' => 'checkbox',
            'label' => 'Enable Your Gateway',
            'default' => 'yes'
        ),
        'api_key' => array(
            'title' => 'API Key',
            'type' => 'text',
            'description' => 'अपनी API कुंजी दर्ज करें',
            'default' => '',
            'desc_tip' => true,
        ),
        // आवश्यकता अनुसार अधिक सेटिंग्स जोड़ें
    );
}
```

### POS एकीकरण {#pos-integration}

POS-विशिष्ट कार्यक्षमता के लिए, कार्यान्वयन करें:

```php
public function payment_fields() {
    // POS के लिए कस्टम भुगतान फ़ॉर्म
    if ( is_admin() && isset( $_GET['page'] ) && $_GET['page'] === 'wc-pos' ) {
        // POS-विशिष्ट भुगतान फ़ील्ड्स
        echo '<div class="pos-payment-fields">';
        // आपकी कस्टम POS इंटरफ़ेस
        echo '</div>';
    } else {
        // सामान्य वेब चेकआउट फ़ील्ड्स
        parent::payment_fields();
    }
}
```

## विकास सर्वोत्तम प्रथाएँ {#development-best-practices}

### कोड मानक {#code-standards}

- **वर्डप्रेस कोडिंग मानक**: वर्डप्रेस PHP कोडिंग मानकों का पालन करें
- **WooCommerce दिशानिर्देश**: WooCommerce विकास प्रथाओं का पालन करें
- **सुरक्षा**: इनपुट को साफ करें, डेटा को सत्यापित करें, नॉनसेस का उपयोग करें
- **अंतर्राष्ट्रीयकरण**: स्ट्रिंग्स को `__()` और `_e()` का उपयोग करके अनुवाद योग्य बनाएं

### त्रुटि प्रबंधन {#error-handling}

```php
// उचित त्रुटि प्रबंधन
try {
    $result = $this->process_api_call( $data );
    if ( is_wp_error( $result ) ) {
        throw new Exception( $result->get_error_message() );
    }
} catch ( Exception $e ) {
    $order->add_order_note( 'Payment failed: ' . $e->getMessage() );
    wc_add_notice( 'Payment processing error', 'error' );
    return array( 'result' => 'failure' );
}
```

### लॉगिंग {#logging}

```php
// डीबगिंग के लिए लॉगिंग जोड़ें
if ( $this->debug ) {
    $this->log( 'Payment processing started for order ' . $order_id );
}

private function log( $message ) {
    if ( empty( $this->logger ) ) {
        $this->logger = wc_get_logger();
    }
    $this->logger->info( $message, array( 'source' => $this->id ) );
}
```

## अपने गेटवे का परीक्षण {#testing-your-gateway}

### विकास वातावरण {#development-environment}

1. **परीक्षण मोड**: हमेशा एक परीक्षण/सैंडबॉक्स मोड लागू करें
2. **डिबग लॉगिंग**: समस्या निवारण के लिए विस्तृत लॉगिंग शामिल करें
3. **त्रुटि परिदृश्य**: विभिन्न विफलता स्थितियों का परीक्षण करें
4. **POS परीक्षण**: खासकर POS वातावरण में परीक्षण करें

### परीक्षण मामले {#test-cases}

- **सफल भुगतान**: सुनिश्चित करें कि आदेश सही ढंग से पूर्ण हों
- **विफल भुगतान**: सुनिश्चित करें कि उचित त्रुटि प्रबंधन हो
- **रिफंड**: यदि समर्थित हो तो रिफंड कार्यक्षमता का परीक्षण करें
- **एज केस**: विभिन्न आदेश राशियों और कॉन्फ़िगरेशन के साथ परीक्षण करें

## वितरण {#deployment}

### प्लगइन पैकेजिंग {#plugin-packaging}

1. **विकास फ़ाइलें हटा दें**: परीक्षण फ़ाइलों और विकास उपकरणों को साफ करें
2. **संस्करण नियंत्रण**: प्लगइन हेडर में संस्करण नंबर अपडेट करें
3. **प्रलेखन**: इंस्टॉलेशन निर्देशों के साथ README शामिल करें
4. **ज़िप पैकेज**: इंस्टॉले करने योग्य ज़िप फ़ाइल बनाएं

### वितरण {#distribution}

- **GitHub रिलीज़**: संस्करण प्रबंधन के लिए GitHub रिलीज़ का उपयोग करें
- **WordPress प्लगइन निर्देशिका**: WordPress.org पर सबमिट करने पर विचार करें
- **निजी वितरण**: यदि आवश्यक हो तो अपने सर्वर पर होस्ट करें

## उन्नत सुविधाएँ {#advanced-features}

### वेबहुक {#webhooks}

वास्तविक समय में भुगतान अपडेट के लिए:

```php
public function handle_webhook() {
    $payload = file_get_contents( 'php://input' );
    $data = json_decode( $payload, true );
    
    // Verify webhook signature
    if ( $this->verify_webhook_signature( $payload ) ) {
        $this->process_webhook_data( $data );
    }
}
```

### सदस्यता समर्थन {#subscriptions-support}

दोहराने वाले भुगतानों के लिए:

```php
// सदस्यता समर्थन जोड़ें
$this->supports[] = 'subscriptions';
$this->supports[] = 'subscription_cancellation';
$this->supports[] = 'subscription_suspension';
```

### बहु-मुद्रा {#multi-currency}

अंतर्राष्ट्रीय भुगतानों के लिए:

```php
public function get_supported_currencies() {
    return array( 'USD', 'EUR', 'GBP', 'CAD' );
}
```

## संसाधन {#resources}

### प्रलेखन {#documentation}

- [WooCommerce भुगतान गेटवे API](https://woocommerce.github.io/code-reference/classes/WC-Payment-Gateway.html)
- [WordPress प्लगइन विकास](https://developer.wordpress.org/plugins/)
- [WooCommerce POS प्रलेखन](https://docs.wcpos.com/)

### टेम्पलेट रिपॉजिटरी {#template-repository}

- **GitHub**: [woocommerce-gateway-template](https://github.com/wcpos/woocommerce-gateway-template)
- **समस्याएँ**: टेम्पलेट समस्याओं की रिपोर्ट करें या सुविधाओं का अनुरोध करें
- **योगदान**: पुल अनुरोध के माध्यम से सुधार सबमिट करें

### सहायता प्राप्त करना {#getting-help}

विकास समर्थन के लिए:
- टेम्पलेट-विशेष मामलों के लिए [GitHub रिपॉजिटरी](https://github.com/wcpos/woocommerce-gateway-template) पर जाएँ
- API प्रश्नों के लिए WooCommerce डेवलपर प्रलेखन की जांच करें
- सामान्य मार्गदर्शन के लिए WooCommerce डेवलपर समुदाय में शामिल हों

## उदाहरण गेटवे {#example-gateways}

कार्यात्मक उदाहरणों के लिए इन मौजूदा कस्टम गेटवे का अध्ययन करें:

- **[Stripe टर्मिनल](./stripe-terminal)**: हार्डवेयर एकीकरण का उदाहरण
- **[SumUp टर्मिनल](./sumup-terminal)**: API-आधारित टर्मिनल एकीकरण
- **[ईमेल चालान](./email-invoice)**: साधारण ईमेल-आधारित गेटवे
- **[वेब चेकआउट](./web-checkout)**: वेब एकीकरण गेटवे

---