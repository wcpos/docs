---
title: 一般設定
sidebar_label: 一般
description: WCPOSの一般設定をWordPress管理画面で設定します。これには、POS専用の製品、小数点数量、バーコードフィールドが含まれます。
---

import Image from "@theme/IdealImage";

一般設定ページでは、WCPOSのコア機能を設定できます。これらの設定は、製品の表示方法、数量の扱い方、バーコードスキャンの動作に影響します。

<div class="image-container">
  <Image
    alt="WP管理画面での一般設定"
    img="/img/wp-admin-general-settings.png"
    style={{maxHeight: 500}}
  />
  <p class="image-caption">WP管理画面での一般設定</p>
</div>

## POS専用製品を有効にする {#enable-pos-only-products}

この設定により、製品の可視性オプションが追加され、オンラインストア、POS、またはその両方に製品が表示されるかどうかを制御できます。

:::warning パフォーマンスへの影響
オンラインストアまたはPOSから製品を非表示にする必要がある場合のみ、この設定を有効にしてください。有効にすると、すべての製品リクエストに対して追加のデータベース検索が行われます。
:::

この機能の詳細情報については、個々の製品の可視性設定や一括編集方法を含めて、[POS専用製品](/products/pos-only-products)をご覧ください。

## 小数点数量を有効にする {#enable-decimal-quantities}

この設定により、顧客やスタッフが製品をカートに追加する際に小数点数量を入力できるようになります。

**小数点数量の例:**
- 0.25（四分の一単位）
- 1.5（1.5単位）
- 2.75（2.75単位）

**役に立つ用途:**
- 重量で販売される製品（例：コーヒー豆0.5kg）
- 分割サービス（例：1.5時間の相談）
- 一部数量で販売できるバルク製品

## 顧客メールから自動的にユーザー名を生成 {#automatically-generate-username-from-customer-email}

有効にすると、WCPOSはチェックアウト時に新しい顧客のメールアドレスに基づいて自動的にユーザー名を作成します。これにより、顧客作成プロセスが簡素化され、一貫したユーザー名フォーマットが確保されます。

## デフォルトPOS顧客 {#default-pos-customer}

新しいPOS注文に割り当てるデフォルトの顧客を選択します。一般的なオプションには以下が含まれます。

- **ゲスト**: 注文はユーザーアカウントに関連付けられません
- **レジ係**: 注文はログインしているレジ係のアカウントに関連付けられます
- **来店顧客**: 注文は特定の顧客アカウントに関連付けられます（このアカウントを事前に作成する必要があります）

## レジ係アカウントを使用 {#use-cashier-account}

有効にすると、選択されたデフォルトPOS顧客の代わりにレジ係のユーザーアカウントがPOS注文のデフォルト顧客として使用されます。

## バーコードフィールド {#barcode-field}

この設定により、WCPOSがバーコードをスキャンする際やバーコード検索機能を使用する際に検索する製品フィールドが決まります。

:::warning 重要: クリアとリフレッシュが必要
バーコードフィールド設定を変更した後は、変更を反映させるために、必ずPOSで製品データをクリアしリフレッシュする必要があります。

**クリアとリフレッシュの方法:**
1. POSの製品画面に移動します
2. 画面下の同期アイコン（↻）を**長押し**します
3. コンテキストメニューから**「クリアとリフレッシュ」**を選択します
4. 新しいバーコードフィールドデータで製品が再読み込みされるまで待ちます

これは、POSが製品データをローカルにキャッシュするため、バーコードフィールド設定を変更してもキャッシュデータが自動的に更新されないためです。
:::

### デフォルトオプション {#default-option}

**`_global_unique_id`** - これはWooCommerceのグローバルユニークIDフィールドで、WooCommerce 8.2（2024年7月）で導入されました。GTIN、UPC、EAN、またはISBNコードを保存するために設計されており、新しいインストールに推奨されるオプションです。

### その他の一般的なオプション {#other-common-options}

**`_sku`** - 製品SKU（ストックキーピングユニット）フィールド。グローバルユニークIDフィールドを使用しない場合の良いフォールバックオプションです。

### サードパーティプラグインメタキー {#third-party-plugin-meta-keys}

バーコード管理プラグインを使用している場合は、特定のメタキーを使用する必要があるかもしれません。

| プラグインタイプ | 一般的なメタキー | 説明 |
|-----------------|------------------|------|
| EANプラグイン    | `_ean`, `_ean13`, `_ean8` | ヨーロッパ記事番号コード |
| UPCプラグイン    | `_upc`, `_upc_code` | ユニバーサル商品コード |
| GTINプラグイン   | `_gtin`, `_gtin13`, `_gtin14` | グローバルトレードアイテム番号 |
| ジェネリックバーコード | `_barcode`, `_product_barcode` | 一般的なバーコードフィールド |
| WooCommerce製品バーコード | `_barcode_text` | 人気のあるバーコードプラグイン |
| ATUM在庫        | `_atum_barcode` | ATUM在庫管理 |

### プラグインのメタキーを見つける方法 {#finding-your-plugins-meta-key}

バーコードプラグインの正しいメタキーを見つけるには：

1. WP管理で製品を編集します
2. プラグインを使用してバーコードを追加します
3. メタキー名についてプラグインのドキュメントを確認します
4. または、データベース `wp_postmeta` テーブルを調べて、作成されたメタキーを確認します

### カスタムメタキー {#custom-meta-keys}

バーコードデータを保存する任意のカスタムメタキーも使用できます。このフィールドにメタキー名（該当する場合はアンダースコアの接頭辞を含む）を入力してください。

:::tip
この設定を変更した後、選択したフィールドで正しく動作していることを確認するために、バーコードスキャンをテストしてください。変更を反映させるために、POSでの製品データをクリアおよびリフレッシュすることを忘れないでください。
:::