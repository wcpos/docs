---
title: 一般設定
sidebar_label: 一般
---

import Image from "@theme/IdealImage";

一般設定ページでは、WCPOSのコア機能を構成できます。これらの設定は、製品の表示方法、数量の扱い方、およびバーコードスキャンの動作に影響します。

<div class="image-container">
  <Image
    alt="WP管理画面の一般設定"
    img="/img/wp-admin-general-settings.png"
    style={{maxHeight: 500}}
  />
  <p class="image-caption">WP管理画面の一般設定</p>
</div>

## POS専用製品を有効にする

この設定により、製品管理ページにオンラインおよびPOSの視認性オプションが追加され、製品がオンラインストア、POSシステム、またはその両方に表示されるかどうかを制御できます。

:::warning パフォーマンスへの影響
オンラインストアまたはPOSから製品を隠す必要がある場合にのみ、この設定を有効にしてください。有効にすると、製品リクエストごとに追加のデータベース検索が行われ、パフォーマンスに影響を与える可能性があります。
:::

**有効にするタイミング:**
- 店舗内（POS専用）でのみ販売されるべき製品がある
- オンラインでのみ販売されるべき製品がある
- オンライン販売と店舗販売で異なる製品カタログが必要

**有効化すると、製品の視認性を以下に設定できます:**
- **POS & Online**（デフォルト）：製品がオンラインストアとPOSの両方で表示される
- **POS Only**：製品はオンラインストアから隠され、POSでのみ表示される
- **Online Only**：製品はPOSから隠され、オンラインストアでのみ表示される

**製品の視認性を設定する方法:**
1. WP管理画面で製品を編集する
2. 製品データパネル内で「POS可視性」設定を探す
3. 希望する視認性オプションを選択する
4. 製品を更新する

製品リストページから複数の製品の視認性を一度に変更するために、バルクアクションを使用することもできます。

## 小数の数量を有効にする

この設定により、顧客やスタッフは製品をカートに追加する際に小数の数量を入力できるようになります。

**小数の数量の例:**
- 0.25（四分の一単位）
- 1.5（一と半単位）
- 2.75（二と四分の三単位）

**役立つシーン:**
- 重量で販売される製品（例：コーヒー豆0.5kg）
- 分率サービス（例：1.5時間の相談）
- 部分数量で販売可能なバルク製品

## 顧客メールからユーザー名を自動生成する

有効にすると、WCPOSはチェックアウト時に顧客のメールアドレスに基づいて新しい顧客のユーザー名を自動的に作成します。これにより、顧客作成プロセスが合理化され、一貫したユーザー名形式が保証されます。

## デフォルトのPOS顧客

新しいPOS注文に割り当てられるデフォルトの顧客を選択します。一般的なオプションには以下が含まれます:

- **ゲスト**：注文はユーザーアカウントと関連付けられません
- **キャッシャー**：注文はログインしているキャッシャーのアカウントに関連付けられます
- **ウォークイン顧客**：注文は特定の顧客アカウントに関連付けられます（このアカウントを事前に作成する必要があります）

## キャッシャーアカウントを使用する

有効にすると、選択されたデフォルトPOS顧客の代わりにキャッシャーのユーザーアカウントがPOS注文のデフォルト顧客として使用されます。

## バーコードフィールド

この設定は、バーコードをスキャンする際にWCPOSが検索する製品フィールドを決定します。

:::warning 重要:クリアとリフレッシュが必要
バーコードフィールド設定を変更した後は、変更が適用されるためにPOSの製品データを**必ず**クリアしてリフレッシュしてください。

**クリアとリフレッシュの方法:**
1. POSの製品画面に移動する
2. 画面の下部にある同期アイコン（↻）を**長押し**する
3. コンテキストメニューから**「クリアとリフレッシュ」**を選択する
4. 新しいバーコードフィールドデータで製品が再ロードされるのを待つ

これは、POSが製品データをローカルにキャッシュしているため、バーコードフィールド設定を変更してもキャッシュデータが自動的に更新されないためです。
:::

### デフォルトオプション

**`_global_unique_id`** - これはWooCommerceのグローバルユニークIDフィールドで、WooCommerce 8.2（2024年7月）で導入されました。GTIN、UPC、EAN、またはISBNコードを保存するために設計されており、新しいインストールに推奨されるオプションです。

### 他の一般的なオプション

**`_sku`** - 製品SKU（在庫管理単位）フィールド。グローバルユニークIDフィールドを使用していない場合の良いフォールバックオプションです。

### サードパーティプラグインのメタキー

バーコード管理プラグインを使用している場合、特定のメタキーを使用する必要があるかもしれません。

| プラグインタイプ | 一般的なメタキー | 説明 |
|----------------|------------------|------|
| EANプラグイン | `_ean`, `_ean13`, `_ean8` | ヨーロッパ商品番号コード |
| UPCプラグイン | `_upc`, `_upc_code` | ユニバーサル商品コード |
| GTINプラグイン | `_gtin`, `_gtin13`, `_gtin14` | グローバルトレードアイテム番号 |
| 一般バーコード | `_barcode`, `_product_barcode` | 一般的なバーコードフィールド |
| WooCommerce製品バーコード | `_barcode_text` | 人気のあるバーコードプラグイン |
| ATUM在庫管理 | `_atum_barcode` | ATUM在庫管理 |

### プラグインのメタキーを見つける

バーコードプラグインの正しいメタキーを見つけるには：

1. WP管理画面で製品を編集する
2. プラグインを使用してバーコードを追加する
3. プラグインのドキュメントでメタキー名を確認する
4. またはデータベースの`wp_postmeta`テーブルを調査して、作成されたメタキーを確認する

### カスタムメタキー

バーコードデータを保存する任意のカスタムメタキーも使用できます。このフィールドにメタキー名（該当する場合はアンダースコアプレフィックスを含む）を入力してください。

:::tip
この設定を変更した後にバーコードスキャンをテストして、選択したフィールドで正常に動作していることを確認してください。変更が適用されるために、POSの製品データをクリアしてリフレッシュすることを忘れないでください。
:::

