---
title: 一般設定
sidebar_label: 一般
---

import Image from "@theme/IdealImage";

一般設定ページでは、WCPOSの基本機能を設定することができます。これらの設定により、商品がどのように表示されるか、数量がどのように扱われるか、バーコードスキャンがどのように機能するかが影響を受けます。

<div class="image-container">
  <Image
    alt="WP管理画面の一般設定"
    img="/img/wp-admin-general-settings.png"
    style={{maxHeight: 500}}
  />
  <p class="image-caption">WP管理画面の一般設定</p>
</div>

## POS専用商品を有効にする

この設定により、商品管理ページにオンラインとPOSの表示オプションが追加され、商品がオンラインストア、POSシステム、またはその両方に表示されるかどうかを制御できます。

:::warning パフォーマンスへの影響
オンラインストアまたはPOSのいずれかから商品を隠す必要がある場合のみ、この設定を有効にしてください。有効にすると、すべての商品リクエストごとに追加のデータベース参照が発生するため、パフォーマンスに影響を与える可能性があります。
:::

**有効にする場合:**
- 店頭（POS専用）でのみ販売する商品がある場合
- オンラインでのみ販売する商品がある場合（オンライン専用）
- オンライン販売と店頭販売で異なる商品カタログが必要な場合

**有効にすると、商品表示設定を以下に設定できます:**
- **POS & オンライン（デフォルト）**: 商品がオンラインストアとPOSの両方に表示されます
- **POSのみ**: 商品がオンラインストアから非表示になり、POSにのみ表示されます
- **オンラインのみ**: 商品がPOSから非表示になり、オンラインストアのみに表示されます

**商品表示の設定方法:**
1. WP管理画面で商品を編集します
2. 商品データパネルの「POS表示」設定を探します
3. 希望する表示オプションを選択します
4. 商品を更新します

製品一覧ページから複数の商品に対して一括アクションを使用して、表示を変更することもできます。

## 小数点数量を有効にする

この設定を有効にすると、顧客やスタッフが商品のカート追加時に小数点数量を入力できるようになります。

**小数点数量の例:**
- 0.25（4分の1ユニット）
- 1.5（1.5ユニット）
- 2.75（2.75ユニット）

**役立つ用途:**
- 重量で販売される商品（例：0.5kgのコーヒー豆）
- 分割サービス（例：1.5時間のコンサルティング）
- 部分的に販売できるバルク商品

## 顧客メールからユーザー名を自動生成する

この設定を有効にすると、WCPOSはチェックアウト時に顧客のメールアドレスに基づいて新規顧客のユーザー名を自動的に作成します。これにより、顧客作成プロセスが合理化され、ユーザー名の形式が一貫性を持つことが保証されます。

## デフォルトのPOS顧客

新しいPOS注文に割り当てるデフォルトの顧客を選択します。一般的なオプションは以下の通りです：

- **ゲスト**: 注文はユーザーアカウントに関連付けられません
- **レジ担当者**: 注文はログインしているレジ担当者のアカウントに関連付けられます
- **常連客**: 注文は特定の顧客アカウントに関連付けられます（このアカウントを先に作成する必要があります）

## レジアカウントを使用する

この設定を有効にすると、選択したデフォルトのPOS顧客の代わりに、レジ担当者のユーザーアカウントがPOS注文のデフォルト顧客として使用されます。

## バーコードフィールド

この設定により、バーコードのスキャンやバーコード検索機能を使用する際に、WCPOSが検索する商品フィールドを決定します。

:::warning 重要: クリアとリフレッシュが必要
バーコードフィールドの設定を変更した後、変更を有効にするには商品のデータをクリアし、POSでリフレッシュする必要があります。

**クリアとリフレッシュの方法:**
1. POSの商品の画面に移動します
2. 画面下部の同期アイコン（↻）を**長押し**します
3. コンテキストメニューから**「クリアとリフレッシュ」**を選択します
4. 新しいバーコードフィールドデータと共に商品が再読み込みされるのを待ちます

これは、POSが商品データをローカルにキャッシュしており、バーコードフィールド設定を変更しても自動的にキャッシュデータが更新されないためです。
:::

### デフォルトオプション

**`_global_unique_id`** - これはWooCommerceのグローバルユニークIDフィールドで、WooCommerce 8.2（2024年7月）に導入されました。GTIN、UPC、EAN、ISBNコードを保存するように設計されており、新規インストールには推奨されるオプションです。

### その他一般的なオプション

**`_sku`** - 商品のSKU（在庫管理単位）フィールドです。グローバルユニークIDフィールドを使用していない場合の良い代替オプションです。

### サードパーティプラグインのメタキー

バーコード管理プラグインを使用している場合、その特定のメタキーを使用する必要があります：

| プラグインタイプ | 一般的なメタキー | 説明 |
|-----------------|-----------------|------|
| EANプラグイン | `_ean`, `_ean13`, `_ean8` | 欧州商品番号コード |
| UPCプラグイン | `_upc`, `_upc_code` | ユニバーサル商品コード |
| GTINプラグイン | `_gtin`, `_gtin13`, `_gtin14` | グローバル貿易品目番号 |
| 一般的なバーコード | `_barcode`, `_product_barcode` | 一般的なバーコードフィールド |
| WooCommerce Product Barcodes | `_barcode_text` | 人気のバーコードプラグイン |
| ATUM Inventory | `_atum_barcode` | ATUM在庫管理 |

### プラグインのメタキーを見つける方法

バーコードプラグインの正しいメタキーを見つけるには：

1. WP管理画面で商品を編集します
2. プラグインを使用してバーコードを追加します
3. プラグインのドキュメントでメタキー名を確認します
4. または、データベースの `wp_postmeta` テーブルを確認して作成されたメタキーを確認します

### カスタムメタキー

バーコードデータを保存するカスタムメタキーを使用することもできます。このフィールドにメタキー名（必要に応じてアンダースコアプレフィックスを含む）を入力してください。

:::tip
この設定を変更した後、バーコードスキャンが選択したフィールドで正しく機能しているかどうかを確認してください。変更を有効にするには、POSで商品データをクリアし、リフレッシュする必要があります。
:::