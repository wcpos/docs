---
title: メール請求書ゲートウェイ
description: WooCommerce POSで顧客にメールで支払い請求書を送信
---

# メール請求書ゲートウェイ

メール請求書ゲートウェイを使用すると、WooCommerce POSから直接顧客に支払い請求書をメールで送信できます。後払いを希望する顧客や、ウェブストアの支払い方法でオンライン決済を完了する必要がある顧客に最適です。

## 機能

- **メール連携**: POSインターフェースから直接請求書を送信
- **顧客管理**: 既存の顧客データからメールを自動入力または新しいメールアドレスを追加
- **ゲスト注文**: ゲスト顧客のサポートと、オプションの請求先住所の更新
- **オンライン決済**: 顧客は「この注文の支払い」リンクでオンライン決済を完了
- **柔軟なワークフロー**: 店舗内で注文を完了または遠隔決済を許可

## インストール

### ステップ1: ダウンロードとインストール

1. [メール請求書ゲートウェイのリリースページ](https://github.com/wcpos/email-invoice-gateway/releases)にアクセス
2. 最新の **woocommerce-pos-email-invoice-gateway.zip** ファイルをダウンロード
3. WordPress管理画面で `プラグイン > 新規追加 > プラグインをアップロード` に移動
4. zipファイルをアップロードし、プラグインを有効化

### ステップ2: WooCommerce POSで有効化

1. `WP管理画面 > WooCommerce POS > 設定 > チェックアウト` に移動
2. **WooCommerce POS請求書支払いゲートウェイ**をリストから探す
3. POSで使用するゲートウェイを有効化
4. 設定を保存

:::note
このゲートウェイは追加のAPIキーや外部サービスの設定は必要ありません。既存のWordPressメールシステムとWooCommerceの支払い方法を使用します。
:::

## 使用方法

### 請求書の送信

1. **アイテムの追加**: POSで商品をカートに追加
2. **ゲートウェイの選択**: 支払い方法として「メール請求書」を選択
3. **メールアドレス**: 
   - 既存の顧客: 顧客データから自動的にメールを入力
   - ゲスト注文: 顧客のメールアドレスを手動で入力
4. **オプション**: 「請求先住所に保存」にチェックを入れて、顧客の請求情報を更新
5. **請求書送信**: プロセスを完了して請求書メールを送信

### 顧客の体験

請求書を送信すると、顧客は次の内容を含むメールを受け取ります：

- **注文詳細**: 商品、数量、価格の完全な内訳
- **注文合計**: 税金や手数料を含む最終支払額
- **支払いリンク**: オンライン決済への直接リンク
- **注文情報**: 注文番号と参照詳細

### 決済完了

顧客は2つの方法で決済を完了できます：

1. **オンライン決済**: メール内の「この注文の支払い」リンクをクリック
2. **店舗内返却**: 他のPOS支払い方法を使用して戻って決済

「この注文の支払い」リンクは、顧客をウェブサイト上の専用支払いページに誘導し、有効なウェブ決済ゲートウェイ（Stripe、PayPalなど）を使用できます。

## メール管理

### 既存の顧客

- メールアドレスは顧客プロフィールから自動的に取得
- 顧客の請求情報が保持されます
- 注文履歴は顧客アカウントに保持されます

### ゲスト顧客

- 一回限りの顧客のメールアドレスを手動入力
- 将来の参照のためにメールを請求先住所に保存するオプション
- ゲスト注文はWooCommerceで適切に追跡されます

### メールテンプレート

ゲートウェイはWooCommerceの標準メールテンプレートを使用：

- **カスタマイズ可能**: WooCommerceのメール設定でメールの外観を変更
- **ブランディング**: ストアのロゴとブランディングを含める
- **プロフェッショナル**: きれいでプロフェッショナルな請求書形式
- **モバイルフレンドリー**: すべてのデバイスに対応するレスポンシブデザイン

## ユースケース

### 最適な状況

- **B2B販売**: 会計システムで支払いを処理する必要のあるビジネス顧客
- **大口注文**: 承認や処理時間が必要な高額取引
- **遠隔顧客**: 店舗を離れた後に決済を完了する必要がある顧客
- **アカウント顧客**: 確立された支払い条件を持つ定期顧客
- **見積もりから注文へ**: 見積もりや概算を支払い可能な請求書に変換

### ワークフローの例

**小売店**
1. 顧客が商品を選択するが、購入の承認が必要
2. すべての詳細を含む請求書メールを送信
3. 顧客が準備できたらオンラインで決済を完了
4. 注文が自動的にシステムで更新されます

**サービス業**
1. サービス作業を完了し、POSにアイテムを追加
2. 顧客の会計部門に請求書を送信
3. 顧客が希望の支払い方法でオンライン決済
4. 決済確認を受け取り、注文を完了

## 要件

- **WooCommerce POS**: フリーまたはProバージョンがインストールされ、有効化
- **メールシステム**: 動作するWordPressメール設定
- **ウェブ決済ゲートウェイ**: WooCommerceで少なくとも1つのオンライン決済方法が有効
- **SSLサーティフィケート**: セキュアな決済処理にHTTPSが必要

## トラブルシューティング

### 一般的な問題

**メールが送信されない**
- WordPress メール設定を確認
- カスタムメールサービスを使用している場合はSMTP設定を確認
- WordPressメールテストプラグインでテスト
- テストメールの迷惑メールフォルダを確認

**支払いリンクが機能しない**
- WooCommerceが適切に設定されていることを確認
- ウェブチェックアウト用に少なくとも1つの決済ゲートウェイが有効
- SSLサーティフィケートが適切にインストールされていることを確認
- 注文ステータスが支払いを許可していることを確認

**顧客が決済を完了できない**
- ウェブ決済ゲートウェイがアクティブで設定されていることを確認
- 注文が期限切れまたはキャンセルされていないことを確認
- 顧客の支払い方法の限度額が十分であることを確認
- 支払いプロセスを自分でテスト

### メール配信

信頼性の高いメール配信のために、以下を検討：

- **SMTPサービス**: SendGrid、Mailgun、Amazon SESなどのサービスを使用
- **メールプラグイン**: より良い配信のためのWordPress SMTPプラグインをインストール
- **ドメイン認証**: SPF、DKIM、DMARCレコードを設定
- **モニタリング**: メール配信と開封率を追跡

### サポートを受ける

技術的サポートについて：
- 問題を報告するために[GitHubリポジトリ](https://github.com/wcpos/email-invoice-gateway)を訪問
- テンプレートのカスタマイズについてWooCommerceのメールドキュメントを確認
- WordPressメールテストツールでメール機能をテスト

## スクリーンショット

今後のアップデートで以下のスクリーンショットを追加予定：
- POS内のメールアドレス入力インターフェース
- 注文詳細を含むプロフェッショナルな請求書メールテンプレート
- ウェブストアでの顧客決済完了画面