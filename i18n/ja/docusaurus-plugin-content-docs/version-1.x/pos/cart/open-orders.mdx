---
title: オープンオーダー
sidebar_label: オープンオーダー
sidebar_position: 3
---

WCPOSでは、複数の注文を同時に操作できます。これは、顧客の保留、取引間の切り替え、中断からの復旧に便利です。

## オープンオーダーカルーセル

カートパネルの下部に、すべてのオープンオーダーを表示する水平カルーセルがあります：

{/* Screenshot: open-orders-carousel.png */}

- 各カートには**合計金額**が表示されます
- **現在の注文**が強調表示されます
- カートをクリックして切り替えます
- スクロールして他のカートを表示します

## 新しい注文の作成

常に新しい空のカートが利用可能です。カルーセルの空のカートをクリックするか、現在のカートが空の場合に商品の追加を開始するだけです。

## 注文間の切り替え

カルーセルの任意の注文をクリックして切り替えます。カートパネルが更新され、選択した注文の内容が表示されます。

**ユースケース：**

- 顧客が別の商品を探しに離れた
- 大きな注文が進行中でも迅速な顧客を対応する
- 注文間で価格や商品を比較する

## サーバーへの注文の保存

注文は2つの状態で存在します：

### ローカルのみ

デフォルトでは、新しい注文はローカルのブラウザ/アプリデータベースにのみ保存されます。ページ更新間は維持されますが：

- WooCommerce管理画面には表示されません
- ローカルデータベースがクリアされると失われます
- 他のデバイスからアクセスできません

### サーバーに保存

**サーバーに保存**をクリックして、ステータス`pos-open`のWooCommerceの注文を作成します。これにより：

- WooCommerceに実際の注文が作成されます
- ローカルデータベースがクリアされても保持されます
- 他のデバイスからアクセスできます
- WP Admin > WooCommerce > 注文に表示されます

:::tip 保存するタイミング
次の場合にサーバーに注文を保存します：
- 顧客が後で受け取るために注文を保留したい
- シフトを終了し、次のレジ担当者が続けるとき
- アプリ/ブラウザの問題に備えてバックアップを取りたいとき
:::

## 保存された注文の復元

サーバーに保存された注文は、以下の手順で再度アクセスできます：

1. **注文**画面を開く（Proの機能）
2. ステータス`pos-open`でフィルタリング
3. 注文を再度開く

## 注文の永続性

### ローカルストレージ

WCPOSはIndexedDBを使用して注文をローカルに保存します。これにより：

- ブラウザセッション間の永続性
- ネットワークリクエストなしの高速アクセス
- オフライン機能

### サーバーとの同期

サーバーに保存またはチェックアウトすると：

- 注文がWooCommerceに送信されます
- 確認が受信されます
- ローカルとサーバーのデータが同期されます

## 注文の無効化

オープンオーダーを削除するには：

1. 削除する注文に切り替えます
2. **無効化**ボタンをクリックします

**何が起こるか：**

- **未保存の注文：** ローカルデータベースから完全に削除されます
- **保存された注文：** WooCommerceのゴミ箱に移動し、ローカルから削除されます

無効化された保存済み注文を復元するには：
1. `WP Admin > WooCommerce > 注文 > ゴミ箱`に移動
2. 注文を復元

## ヒント

### 注文を整理する

複数のオープンオーダーがある場合、以下が役立ちます：

- 識別しやすいように注文に顧客名を追加
- 保留理由を説明する注文メモを追加
- 重要な注文をサーバーに保存

### シフト引き継ぎ

シフト終了時のオープンオーダー：

1. 重要な注文をすべてサーバーに保存
2. 状況を説明する注文メモを追加
3. 次のレジ担当者が注文画面からアクセス可能

### オフライン時の考慮事項

接続を失った場合：

- ローカルの注文は引き続きアクセス可能で、商品の追加を続けられます
- 接続が復旧するまで、注文の完了/チェックアウトはできません
- 接続が復旧するまで、サーバーに注文を保存できません
- 接続が復旧するまで、新しい顧客を作成できません