---
title: 検索とフィルタリング
sidebar_label: 検索とフィルタリング
sidebar_position: 2
description: WCPOSで名前、SKU、カテゴリ、タグ、その他の属性によって商品を検索およびフィルタリングします。
---

import Image from "@theme/IdealImage";
import Accordion from '@site/src/components/Accordion';
import AccordionItem from '@site/src/components/AccordionItem';

適切な商品を迅速に見つけることは、効率的なポイントオブセール操作にとって重要です。WCPOSは、膨大な在庫を抱えていても、瞬時に商品を見つけるための強力な検索およびフィルタリング機能を提供します。

<div class="image-container">
  <Image
    alt="商品の検索とフィルタリングインターフェース"
    img="/img/product-search-and-filtering.png"
    style={{ maxHeight: 400 }}
  />
  <p class="image-caption">WCPOSにおける商品の検索とフィルタリングインターフェース</p>
</div>

## 商品検索 {#product-search}

### 統一検索フィールド {#unified-search-field}

WCPOSは、複数の商品属性を同時に検索する単一の検索フィールドを提供します：

- **商品名** - 商品タイトルと説明を検索
- **SKU** - 商品のpostmeta `_sku`フィールドに一致
- **バーコード** - 設定されたバーコードフィールドを検索します。バーコードの古い設定は`_sku`ですが、今後は`_global_unique_id`に変更される予定です。

「商品を検索」フィールドに検索語を入力するだけで、POSがこれらのすべてのフィールドにわたって結果を瞬時にフィルタリングします。

### トークン化検索技術 {#tokenized-search-technology}

検索機能は、先進的なトークン化機能を持つ[FlexSearchライブラリ](https://github.com/nextapps-de/flexsearch)を使用しています：

- **前方トークン化** - 単語の先頭から部分的な単語に一致（例：「blue」を検索すると「blueberry」を見つけます）
- **パフォーマンス最適化** - 高速な検索結果のためのパフォーマンスプリセットを使用
- **言語対応** - あなたの店舗の設定された言語に適応
- **遅延初期化** - 必要に応じてのみ検索インデックスをロードしてメモリ使用量を最適化

### 検索の仕組み {#how-search-works}

検索フィールドに入力すると、POSは：

1. **トークン化** - あなたの入力を検索可能な用語に分割します
2. **ローカル検索** - 最初にローカルに保存された商品データを検索して即時の結果を得る
3. **サーバー照会** - ローカルの一致が見つからない場合はサーバーに照会し、新しい商品をダウンロードして今後の検索のために保存
4. **結果の更新** - 入力中にリアルタイムで結果を更新

このアプローチにより、高速な検索性能が確保され、完全なローカル商品データベースが徐々に構築されます。

## 商品フィルタリング {#product-filtering}

### フィルターバー {#filter-bar}

検索フィールドの下には、特定の基準によって商品を絞り込むことができるインタラクティブなフィルタートグルとドロップダウンメニューがあります。

### 利用可能なフィルター {#available-filters}

#### 在庫状況 {#stock-status}
在庫の状況に基づいて商品をフィルタリングします：
- **在庫あり** - 利用可能な在庫がある商品
- **在庫なし** - 在庫がゼロの商品
- **取り寄せ品** - 取り寄せが可能な商品

#### 特集商品 {#featured-products}
トグルを使用して、WooCommerceストアで「特集」としてマークされた商品のみを表示します。

#### セール中の商品 {#on-sale-products}
現在セール中または割引が適用されている商品のみを表示するようにフィルタリングします。

#### カテゴリ {#category}
カテゴリのドロップダウンを使用して、割り当てられた商品カテゴリによって商品をフィルタリングします。これにより、特定の部門や商品ライン内の製品を迅速に見つけることができます。

#### タグ {#tag}
WooCommerceストアで定義した特定の属性や特性を持つアイテムを見つけるために商品タグでフィルタリングします。

### フィルターの利用方法 {#using-filters}

- **フィルターの切り替え** - 任意のフィルターボタンをクリックしてアクティブにします（アクティブなフィルターはハイライト表示されます）
- **複数のフィルター** - 複数のフィルターを組み合わせて検索をさらに絞り込むことができます
- **フィルターのクリア** - アクティブなフィルターを再度クリックして非アクティブにします
- **検索 + フィルター** - フィルターを検索フィールドと組み合わせて正確な商品位置を見つけます

## バーコード設定 {#barcode-configuration}

### 検索フィールド {#search-fields}

検索機能は、あなたが設定したバーコードフィールドを自動的に含みます。検索に使用されるバーコードフィールドは、POS設定構成に依存します。

## よくある質問（F.A.Q.） {#faq}

<Accordion>
  <AccordionItem question="_global_unique_id フィールドはバーコードに何のためですか？">

`_global_unique_id`フィールドは、WooCommerceが店舗間でのバーコード標準化を改善するために最近追加した新しいバーコードフィールドです。

**重要なポイント：**

- **現代の標準**：このフィールドは、グローバルバーコード識別のために特に設計されました
- **POS設定**：POSで `_global_unique_id`をバーコードフィールドとして使用するように構成できます
- **古い設定と新しい設定**：古いバーコード設定では`_sku`フィールドを使用していますが、今後のバージョンでは`_global_unique_id`に変更される予定です
- **柔軟性**：サードパーティのバーコードプラグインを使用している場合、任意の商品メタフィールドをバーコードフィールドとして構成できます
- **将来のデフォルト**：将来のPOS更新で`_global_unique_id`がデフォルトのバーコードフィールドになります

POSがバーコードにどのフィールドを使用するかを構成するには、WordPressの管理エリアのPOS設定にアクセスしてください。

  </AccordionItem>

  <AccordionItem question="検索時にすべての商品が見えないのはなぜですか？">

WCPOSはパフォーマンスを維持するためにプログレッシブ商品ダウンロードを使用しています。商品が見つからない場合は：

1. **検索してみてください** - これにより、POSがサーバーで探すトリガーになります
2. **ダウンロードを待機** - POSは商品を小さなバッチでダウンロードします
3. **再度検索** - ダウンロード後、商品は今後の検索に表示されます

このプロセスにより、数千の商品があってもPOSは迅速で応答性を保つことができます。この点についての詳細は、[商品同期](/products/sync)ガイドをご覧ください。

  </AccordionItem>

  <AccordionItem question="部分的な商品名やSKUで検索できますか？">

はい！トークン化された検索は前方一致を使用しているため：

- 「blue」を検索すると「blueberry」、「blue shirt」などの商品が見つかります
- 「ABC」を検索すると「ABC123」、「ABC-XYZ」などのSKUが見つかります
- 完全な単語やコードを入力する必要はありません

この検索は、最小限の入力で迅速に商品を見つけるように設計されています。

  </AccordionItem>
</Accordion>