---
title: バーコードスキャン
sidebar_label: バーコードスキャン
sidebar_position: 3
---

import Image from "@theme/IdealImage";

ほとんどのバーコードスキャナーは、デバイスに接続されたキーボードのように動作します。
バーコードをスキャンすると、WCPOSは通常の入力よりも速く文字が入力されたことを検出します。
これらの「高速キー入力」を使用して、入力をバーコードスキャンとして識別します。

## バーコードスキャンの設定

バーコードスキャンは非常に高速で行われるため、POSはバーコードと手動入力を区別できます。
POS設定では、バーコード検出のしかたを微調整するオプションがあります。

<div class="image-container">
  <Image
    alt="POS設定のバーコードスキャン設定"
    img="/img/barcode-scanning-settings.png"
    style={{ maxHeight: 500 }}
  />
  <p class="image-caption">POS設定のバーコードスキャン設定</p>
</div>

- **平均入力時間:** バーコードとみなす入力速度。
- **最小長:** バーコードとして扱う連続した文字列の最小長。
- **プレフィックス/サフィックスの削除:** スキャナーが追加の文字（プレフィックスやサフィックス）を付ける場合、自動的に削除し、メインのバーコードのみを残すことができます。

## バーコードが検出された場合の動作

POSがバーコードを検出すると、ローカルデータベースで一致する商品または商品バリエーションを探します。
以下の3つの結果が考えられます：

1. **完全一致（1つの商品が見つかった場合）:**
   バーコードがPOSのローカルデータベース内の単一の商品または商品バリエーションと正確に一致する場合、その商品が自動的にカートに追加されます。

2. **複数一致（複数の商品が見つかった場合）:**
   同じバーコードを持つ商品が複数ある場合、POSはどの商品を追加すべきか判断できません。
   この場合、スキャンしたバーコードを検索バーに配置し、同じコードを共有する商品を確認できるようにします。
   複数の一致が見られる場合、商品データの更新が必要な場合が多く、各商品は固有のバーコードを持つべきです。

3. **ローカルに一致するものがない（0の商品が見つかった場合）:**
   バーコードがデバイスに保存されている商品と一致しない場合、スキャンしたコードが検索バーに表示されます。
   この時点で、POSはWooCommerceストアのデータベースでオンライン検索を試みます。

## 商品同期の理解

### プログレッシブ商品ダウンロード

WCPOSは一度にすべての商品を読み込みません。
代わりに、小さなバッチでダウンロードします。
このアプローチにより、遅延を防ぎ、ストアがスムーズに動作することを確保します。
時間とともに、POSを使用し、検索を行うにつれて、より多くの商品がデバイスにローカル保存されます。

詳細は[商品同期](/products/sync)を参照してください。

### バーコードスキャンにとっての重要性

ローカルに保存されていないバーコードをスキャンすると、POSはWooCommerceストアでオンライン検索を行います。
このプロセスの一部として、その商品（および小さなバッチの他の商品）をダウンロードし、保存します。
つまり、時間が経つにつれて、より多くの商品がローカルに保存されるため、POSはより速く効率的になります。

### プロセスを速める方法

POSで商品を検索するだけで、在庫のダウンロードに役立ちます。
検索や、スキャンを行えば行うほど、ローカルデータベースはより完全なものになります。

## よくある質問

<details>

<summary>
  バーコードをスキャンしたときに「ローカルに0の商品が見つかりません」と表示されるのはなぜですか？
</summary>

すべての商品が最初からローカルで利用可能なわけではありません。
POSはオンラインストアから徐々に商品をダウンロードし、デバイスに保存します。
スキャンした商品がまだ保存されていない場合、検索によりPOSがオンラインで検索し、将来利用できるようにダウンロードします。

</details>

<details>

<summary>POSはバーコードを生成・印刷できますか？</summary>

現時点ではできません。私たちのPOSは既存のバーコードをスキャンし、読み取るように設計されていますが、作成や印刷の機能は含まれていません。
商品のバーコードを生成する必要がある場合は、バーコード作成と印刷に特化したサードパーティのWooCommerceプラグインを使用できます。いくつかの例：

- [EAN for WooCommerce](https://wordpress.org/plugins/ean-for-woocommerce/)
- [A4 Barcode Generator](https://wordpress.org/plugins/a4-barcode-generator/)

商品のバーコードを生成したら、レジでスキャンしてチェックアウトプロセスを高速化できます。

</details>