---
title: チェックアウト
sidebar_label: チェックアウト
sidebar_position: 1
---

import Image from "@theme/IdealImage";

販売を完了する準備が整ったら、**チェックアウト**ボタンをクリックしてチェックアウトモーダルを開きます。ここで支払いを処理し、注文を完了します。

{/* スクリーンショット: checkout-modal.png */}

## チェックアウトモーダルの概要

チェックアウトモーダルには以下が表示されます：

- **注文番号** - WooCommerceの注文ID
- **支払う金額** - 支払い総額
- **チェックアウト設定**ボタン - 表示の問題をトラブルシュートする
- **キャッシャー** - 注文を処理している人
- **顧客** - この注文の顧客（クリック可能なリンク）
- **クーポンコード**フィールド - 割引コードを適用
- **注文概要** - 商品、数量、および合計
- **支払い方法** - 利用可能な支払いオプション
- **キャンセル / 支払い処理**ボタン

## 支払い方法

### 無料版で利用可能

WCPOSの無料版には2つの支払いゲートウェイが含まれています：

- **現金** - 領収金とお釣り計算機付き
- **カード** - 外部カード端末用

### 追加のゲートウェイ（プロ）

:::info プロ機能
追加の支払いゲートウェイには[WCPOS Pro](/getting-started/pro-license)が必要です。
:::

プロ版では、以下を有効にできます：

- **Stripe端末** - Stripeカードリーダーとの直接統合
- **SumUp端末** - SumUpカードリーダーとの統合
- **カスタムゲートウェイ** - 自分の支払い統合を作成

ゲートウェイの設定に関する詳細は[支払い](/payment)をご覧ください。

### 支払い方法の選択

支払い方法をクリックして選択します。フォームが関連フィールドを表示するように更新されます：

**現金：**

- **支払い金額** - 顧客が渡す金額を入力します
- **お釣り** - 自動計算されたお釣り

{/* スクリーンショット: checkout-cash-payment.png */}

**カード：**

- 外部カード端末で支払いを処理します
- 支払い処理をクリックして完了します

## クーポンコード

割引を適用するには：

1. フィールドにクーポンコードを入力
2. **クーポンを適用**をクリック
3. 割引が注文概要に表示されます

クーポンはWooCommerceで設定する必要があります（`WP Admin > マーケティング > クーポン`）。

## 支払い処理

1. 支払い方法を選択します
2. 現金の場合は、支払い金額を入力します
3. **支払い処理**をクリック
4. 注文が完了し、[領収書](/pos/checkout/receipts)が表示されます

## チェックアウト設定（トラブルシューティング）

チェックアウトモーダルは、WooCommerceの注文支払いページを表示するためにiframe/webviewを使用します。これはWooCommerceの既存の支払いインフラストラクチャを利用しているため、WooCommerceで動作するどの支払いゲートウェイもPOSで動作するはずです。

ただし、テーマやプラグインのスクリプトが干渉することがあります。**チェックアウト設定**をクリックしてトラブルシュートします：

<div class="image-container">
  <Image
    alt="チェックアウトモーダル内のチェックアウト設定"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">チェックアウトモーダル内のチェックアウト設定</p>
</div>

<div class="image-container">
  <Image
    alt="すべてのスタイルとスクリプトを無効にするフォーム"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">すべてのスタイルとスクリプトを無効にするフォーム</p>
</div>

### すべてのスタイルとスクリプトを無効にする

:::warning 核オプション
これは核オプションであり、テスト用または開発者が何をしているかを知っている稀なケースでのみ使用するべきです。すべてのwp_headスクリプトを無効にすると、支払いゲートウェイの拡張/収縮に必要なWooCommerceスクリプトも削除され、支払い機能が壊れる可能性があります。
:::

- **wp_headを無効にする** - WordPressのヘッダーからすべてのスクリプト/スタイルを削除します
- **wp_footerを無効にする** - WordPressのフッターからすべてのスクリプト/スタイルを削除します

### 選択したスタイルを無効にする

表示の問題を引き起こす可能性のあるCSSを選択的に無効にします：

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- など

### 選択したスクリプトを無効にする

支払いゲートウェイに干渉する可能性のあるJavaScriptを選択的に無効にします：

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- など

:::tip
支払いゲートウェイが正しく表示されない場合：

1. まずテーマスタイルを無効にしてみてください
2. 次に、不要なWooCommerceスクリプトを無効にしてみてください
3. 支払いゲートウェイに必要なスクリプトを無効にしないように注意してください
   :::

## キャンセル

**キャンセル**をクリックして、注文を完了せずにチェックアウトモーダルを閉じます。注文はオープンカートとして残ります。

## 関連ドキュメント

- [領収書](/pos/checkout/receipts) - チェックアウト後、領収書を印刷またはメール送信
- [支払い方法](/payment) - 支払いゲートウェイを設定
- [カスタムゲートウェイ](/payment/custom-gateways) - カスタム支払い統合を作成