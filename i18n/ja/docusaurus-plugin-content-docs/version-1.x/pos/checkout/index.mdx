---
title: チェックアウト
sidebar_label: チェックアウト
sidebar_position: 1
description: WCPOSチェックアウトでの販売を完了するには、支払い処理、分割払い、注文の完了を含みます。
---

import Image from "@theme/IdealImage";
import LinkCards from '@site/src/components/LinkCards';
import LinkCard from '@site/src/components/LinkCard';

販売を完了する準備ができたら、**チェックアウト**ボタンをクリックしてチェックアウトモーダルを開きます。ここで支払いを処理し、注文を完了させます。

{/* スクリーンショット: checkout-modal.png */}

## チェックアウトモーダルの概要

チェックアウトモーダルに表示されるもの：

- **注文番号** - WooCommerceの注文ID
- **支払う金額** - 支払うべき合計金額
- **チェックアウト設定**ボタン - 表示の問題をトラブルシュート
- **レジ係** - 注文を処理している人
- **顧客** - この注文の顧客（クリック可能なリンク）
- **クーポンコード**フィールド - 割引コードを適用
- **注文の概要** - 商品、数量、合計
- **支払い方法** - 利用可能な支払いオプション
- **キャンセル/支払い処理**ボタン

## 支払い方法

### 無料版で利用可能

WCPOSの無料版には2つの支払いゲートウェイが含まれています：

- **現金** - 出金額とお釣り計算機付き
- **カード** - 外部カード端末用

### 追加ゲートウェイ (プロ)

:::info プロ機能
追加の支払いゲートウェイは、[WCPOS Pro](/getting-started/pro-license)が必要です。
:::

Pro版では以下を有効にできます：

- **Stripeターミナル** - Stripeカードリーダーとの直接統合
- **SumUpターミナル** - SumUpカードリーダーとの統合
- **カスタムゲートウェイ** - 独自の支払い統合を作成

ゲートウェイの設定については、[支払い](/payment)を参照してください。

### 支払い方法の選択

支払い方法をクリックして選択します。フォームが関連フィールドを表示するように更新されます：

**現金:**

- **受け取った金額** - 顧客から受け取った金額を入力
- **お釣り** - 自動計算されたお釣り

{/* スクリーンショット: checkout-cash-payment.png */}

**カード:**

- 外部カード端末で支払いを処理
- 支払い処理をクリックして完了

## クーポンコード

割引を適用するには：

1. フィールドにクーポンコードを入力
2. **クーポンを適用**をクリック
3. 割引が注文の概要に表示されます

クーポンはWooCommerceで設定する必要があります（`WP Admin > マーケティング > クーポン`）。

## 支払い処理

1. 支払い方法を選択
2. 現金の場合、受け取った金額を入力
3. **支払い処理**をクリック
4. 注文が完了し、[領収書](/pos/checkout/receipts)が表示されます

## チェックアウト設定 (トラブルシューティング)

チェックアウトモーダルはiframe/webviewを使用してWooCommerceの注文支払ページを表示します。これはWooCommerceの既存の支払いインフラを活用しており、WooCommerceで動作するすべての支払いゲートウェイがPOSでも動作するはずです。

ただし、テーマやプラグインのスクリプトが干渉することがあります。**チェックアウト設定**をクリックしてトラブルシュートします：

<div class="image-container">
  <Image
    alt="チェックアウトモーダルのチェックアウト設定"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">チェックアウトモーダルのチェックアウト設定</p>
</div>

<div class="image-container">
  <Image
    alt="すべてのスタイルとスクリプトを無効にするフォーム"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">すべてのスタイルとスクリプトを無効にするフォーム</p>
</div>

### すべてのスタイルとスクリプトを無効にする

:::warning 核オプション
これは核オプションであり、テスト用または開発者が何をしているかを理解している稀なケースでのみ使用されるべきです。すべてのwp_headスクリプトを無効にすると、支払いゲートウェイを展開/縮小するために必要なWooCommerceのスクリプトも削除され、支払い機能が壊れる可能性があります。
:::

- **wp_headを無効にする** - WordPressヘッダーからすべてのスクリプト/スタイルを削除
- **wp_footerを無効にする** - WordPressフッターからすべてのスクリプト/スタイルを削除

### 選択したスタイルを無効にする

表示の問題を引き起こす可能性のあるCSSを選択的に無効にします：

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- 等々。

### 選択したスクリプトを無効にする

支払いゲートウェイに干渉する可能性のあるJavaScriptを選択的に無効にします：

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- 等々。

:::tip
支払いゲートウェイが正しく表示されない場合：

1. 最初にテーマスタイルを無効にしてみてください
2. 次に、必要のないWooCommerceスクリプトを無効にしてみてください
3. 支払いゲートウェイに必要なスクリプトを無効にしないよう注意してください
   :::

## キャンセル

**キャンセル**をクリックして注文を完了せずにチェックアウトモーダルを閉じます。注文はオープンカートとして残ります。

## 関連ドキュメント

<LinkCards>
  <LinkCard to="/pos/checkout/receipts" title="領収書" description="チェックアウト後、領収書を印刷またはメール" />
  <LinkCard to="/payment" title="支払い方法" description="支払いゲートウェイの設定" />
  <LinkCard to="/payment/custom-gateways" title="カスタムゲートウェイ" description="カスタム支払い統合を作成" />
</LinkCards>