---
title: レジ締め
sidebar_label: レジ締め
sidebar_position: 1
---

import Image from "@theme/IdealImage";

販売を完了する準備ができたら、**レジ締め**ボタンをクリックしてレジ締めモーダルを開きます。ここで支払いを処理し、注文を完了します。

{/* スクリーンショット: checkout-modal.png */}

## レジ締めモーダルの概要

レジ締めモーダルには以下が表示されます：

- **注文番号** - WooCommerceの注文ID
- **支払金額** - 支払い総額
- **レジ締め設定**ボタン - 表示の問題のトラブルシューティング
- **レジ担当者** - 注文を処理している担当者
- **顧客** - この注文の顧客（クリック可能なリンク）
- **クーポンコード**フィールド - 割引コードの適用
- **注文概要** - 商品、数量、合計
- **支払い方法** - 利用可能な支払いオプション
- **キャンセル / 支払い処理**ボタン

## 支払い方法

### 無料版で利用可能

WCPOSの無料版には、2つの支払いゲートウェイが含まれています：

- **現金** - 受け取った金額と釣銭計算機能
- **カード** - 外部のカード端末用

### その他のゲートウェイ（プロ版）

:::info プロ機能
追加の支払いゲートウェイには[WCPOS Pro](/getting-started/pro-license)が必要です。
:::

プロ版では、以下を有効にできます：

- **Stripe端末** - Stripeカードリーダーとの直接連携
- **SumUp端末** - SumUpカードリーダーとの連携
- **カスタムゲートウェイ** - 独自の支払い連携の作成

詳細は[支払い](/payment)を参照してください。

### 支払い方法の選択

支払い方法をクリックして選択します。フォームが更新され、関連するフィールドが表示されます：

**現金：**
- **受取金額** - 顧客から受け取った金額を入力
- **釣銭** - 自動計算される返金額

{/* スクリーンショット: checkout-cash-payment.png */}

**カード：**
- 外部のカード端末で支払いを処理
- 支払い処理をクリックして完了

## クーポンコード

割引を適用するには：

1. クーポンコードをフィールドに入力
2. **クーポン適用**をクリック
3. 注文概要に割引が表示されます

クーポンは、WooCommerce（`WP管理画面 > マーケティング > クーポン`）で設定する必要があります。

## 支払い処理

1. 支払い方法を選択
2. 現金の場合、受取金額を入力
3. **支払い処理**をクリック
4. 注文が完了し、[レシート](/pos/checkout/receipts)が表示されます

## レジ締め設定（トラブルシューティング）

レジ締めモーダルは、WooCommerceの「注文支払い」ページをiframe/webviewで表示します。これにより、WooCommerceの既存の支払いインフラストラクチャを活用し、WooCommerceで動作する支払いゲートウェイはPOSでも動作するはずです。

ただし、テーマやプラグインのスクリプトが干渉することがあります。**レジ締め設定**をクリックしてトラブルシューティングします：

{/* スクリーンショット: checkout-settings.png */}

### すべてのスタイルとスクリプトを無効化

- **wp_headを無効化** - WordPressヘッダーからすべてのスクリプト/スタイルを削除
- **wp_footerを無効化** - WordPressフッターからすべてのスクリプト/スタイルを削除

### 選択したスタイルを無効化

表示の問題を引き起こす可能性のあるCSSを選択的に無効化：

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- など

### 選択したスクリプトを無効化

支払いゲートウェイに干渉する可能性のあるJavaScriptを選択的に無効化：

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- など

:::tip
支払いゲートウェイが正しく表示されない場合：
1. まずテーマのスタイルを無効化
2. 不要なWooCommerceスクリプトを無効化
3. 支払いゲートウェイに必要なスクリプトを無効化しないように注意
:::

## キャンセル

**キャンセル**をクリックすると、注文を完了せずにレジ締めモーダルを閉じます。注文はオープンカートのままになります。

## 関連ドキュメント

- [レシート](/pos/checkout/receipts) - レジ締め後のレシート印刷またはメール送信
- [支払い方法](/payment) - 支払いゲートウェイの設定
- [カスタムゲートウェイ](/payment/custom-gateways) - カスタム支払い連携の作成