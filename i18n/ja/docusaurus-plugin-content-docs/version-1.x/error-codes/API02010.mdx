---
title: "API02010: 認証が必要"
sidebar_label: API02010
---

# API02010: 認証が必要

## これは何を意味するか

実行しようとしている操作には認証が必要ですが、現在ログインしていません。POSはこのリソースにアクセスするには有効な認証情報が必要です。

## 一般的な原因

- **ログインしていない** — まだ認証されていない
- **セッションがクリアされた** — セッションがクリアまたは期限切れになった
- **保護されたリソースにアクセス** — リソースには認証が必要
- **アプリデータがクリアされた** — 保存された認証情報が削除された

## サーバーエラーマッピング

このエラーコードは、サーバーが以下を返す場合にトリガーされます：

| サーバーコード | ソース |
|-------------|--------|
| `rest_login_required` | WordPress REST API |
| `jwt_auth_no_auth_header` | JWTアプリケーション認証プラグイン |
| HTTP 401 | どのサーバーレスポンス（フォールバック） |

## 修正方法

### 1. ログイン

ログインしていない場合：
1. POSログイン画面を開く
2. WordPressの認証情報を入力
3. 認証プロセスを完了する

### 2. セッションステータスを確認

ログイン済みだと思っていた場合：
- セッションの期限が切れている可能性がある
- 詳細は[API02002](./API02002)（トークン期限切れ）を参照
- アクセスを復元するために再度ログイン

### 3. サーバー設定を確認

APIエンドポイントが適切に設定されていることを確認：
- WooCommerce REST APIが有効であること
- WCPOSプラグインがアクティブであること
- 認証エンドポイントにアクセスできること

### 4. ブラウザ/アプリの問題を確認

予期せずログアウトされる場合：
- ブラウザキャッシュをクリア（Webバージョンを使用している場合）
- Cookie/ローカルストレージがブロックされていないか確認
- アプリにデータを保存する権限があることを確認

## 認証が必要な操作

ほとんどのPOS操作には認証が必要：
- 商品と顧客の表示
- 注文の作成と編集
- 決済処理
- レポートへのアクセス

初期ログイン画面のみ、認証なしでアクセス可能です。

## 関連エラー

- [API02001](./API02001) — 無効な認証情報
- [API02002](./API02002) — トークン期限切れ