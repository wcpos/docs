---
title: "API03004: リクエストが大きすぎます"
sidebar_label: API03004
---

# API03004: リクエストが大きすぎます

## この意味

送信しようとしているリクエストが、サーバーのサイズ制限を超えています。通常、一度に多すぎるデータを送信しようとする際に発生します。

## 一般的な原因

- **大量バッチ操作** — 一度に多すぎるレコードを同期しようとする
- **大きな画像** — サイズの大きすぎる画像をアップロード
- **アイテム数の過多** — 非常に多くの明細行を持つ注文
- **サーバー制限** — PHPまたはウェブサーバーのアップロード制限が低い

## 解決方法

### 1. リクエストサイズの削減

データ同期の場合:
- 小さなバッチで同期を試みる
- POSが自動的に処理するはず
- 現在の同期が完了するまで待つ

### 2. 画像サイズの確認

画像アップロードの場合:
- アップロード前に画像をリサイズ
- 圧縮フォーマットを使用（BMPよりJPEG）
- ほとんどの商品画像は1MB未満で十分

### 3. 大きな注文の分割

注文のアイテム数が多い場合:
- 複数の注文に分割することを検討
- 通常のPOS使用では稀

### 4. サーバー制限の引き上げ

ホスティングプロバイダに連絡するか、PHP設定を編集:

```php
// php.iniまたは.htaccessで
upload_max_filesize = 64M
post_max_size = 64M
max_input_vars = 5000
```

### 5. ウェブサーバーの制限確認

NginxまたはApacheに独自の制限がある場合:
- Nginx用の`client_max_body_size`
- Apache用の`LimitRequestBody`

## 関連エラー

- [API03005](./API03005) — レート制限超過
- [API03007](./API03007) — リクエストキュー満杯