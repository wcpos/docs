---
title: "API04005: JSONリカバリーの試行"
sidebar_label: API04005
---

# API04005: JSONリカバリーの試行

## この意味

サーバーが無効なJSONコンテンツを含む応答を送信しましたが、POSは回復を試み、有効なデータを抽出しました。これは重大なエラーではなく、情報的な通知です。

## 何が起こったか

POSは以下を検出しました：
1. 応答にJSONの前後に追加のコンテンツが含まれていた
2. コアJSONデータが依然として識別可能だった
3. 有効なJSON部分を抽出する回復が試みられた

## 一般的な原因

- **PHPの通知が出力に混在** — JSONと混ざったPHP警告
- **デバッグ出力** — 有効になった開発デバッグ
- **プラグインの通知** — 他のプラグインが通知を出力
- **空白の問題** — JSONの周りの余分な空白

## 修正方法

### 1. PHP エラー表示を無効化

`wp-config.php`で：
```php
define('WP_DEBUG_DISPLAY', false);
ini_set('display_errors', 0);
```

### 2. 代わりにエラーログを有効化

デバッグのためにエラーをログに記録：
```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
```

### 3. プラグインのデバッグモードを確認

一部のプラグインにはデバッグモードがあります：
- プラグイン設定を確認
- デバッグ/開発モードを無効化
- 詳細ログオプションを確認

### 4. 最近の変更を確認

最近これが発生し始めた場合：
- サーバーで何か変更があったか？
- プラグインが更新されたか？
- PHP設定が変更されたか？

## これは深刻な問題？

POSはこの問題から回復しましたが、修正が必要な設定の問題を示しています。回復プロセスは：
- 常に機能するとは限らない
- 処理のオーバーヘッドを追加する
- 他の問題を隠す可能性がある

信頼性の高い動作を確保するために、根本的な原因を修正してください。

## 関連するエラー

- [API04003](./API04003) — 不正なJSONレスポンス
- [API04001](./API04001) — 無効なレスポンス形式