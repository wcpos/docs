---
title: "API04005: JSON回復を試みました"
sidebar_label: API04005
---

# API04005: JSON回復を試みました {#api04005-json-recovery-attempted}

## これは何を意味しますか？ {#what-this-means}

サーバーは無効なJSONコンテンツを含むレスポンスを送信しましたが、POSは回復を試みて有効なデータを抽出しました。これは重要なエラーではなく、情報通知です。

## 何が起こったのか {#what-happened}

POSは以下を検出しました：
1. レスポンスにJSONの前後に余分なコンテンツが含まれている
2. コアJSONデータはまだ識別可能である
3. 有効なJSON部分を抽出することで回復が試みられた

## 一般的な原因 {#common-causes}

- **出力中のPHP通知** — JSONに混在するPHP警告
- **デバッグ出力** — 開発デバッグが有効のまま
- **プラグイン通知** — 他のプラグインが通知を出力している
- **空白の問題** — JSONの周囲に余分な空白がある

## 修正方法 {#how-to-fix}

### 1. PHPエラー表示を無効にする {#1-disable-php-display-errors}

`wp-config.php`で：
```php
define('WP_DEBUG_DISPLAY', false);
ini_set('display_errors', 0);
```

### 2. 代わりにエラーロギングを有効にする {#2-enable-error-logging-instead}

デバッグ用にエラーをログに記録します：
```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
```

### 3. プラグインのデバッグモードを確認 {#3-check-for-plugin-debug-mode}

一部のプラグインには余分なコンテンツを出力するデバッグモードがあります：
- プラグイン設定を確認する
- デバッグ/開発モードを無効にする
- 詳細なロギングオプションを確認する

### 4. 最近の変更を確認 {#4-review-recent-changes}

最近始まった場合：
- サーバーで何が変更されましたか？
- プラグインは更新されましたか？
- PHP設定は変更されましたか？

## これは深刻な問題ですか？ {#is-this-serious}

POSはこの問題から回復しましたが、修正すべき構成の問題を示しています。回復プロセスは：
- 常に機能するとは限らない
- 処理オーバーヘッドを追加する
- 他の問題を隠す可能性がある

信頼できる操作を保証するために、根本的な原因を修正してください。

## 関連エラー {#related-errors}

- [API04003](./API04003) — 形式が不正なJSONレスポンス
- [API04001](./API04001) — 無効なレスポンス形式