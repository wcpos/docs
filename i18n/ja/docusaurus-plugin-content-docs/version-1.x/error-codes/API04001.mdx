---
title: "API04001: 無効なレスポンス形式"
sidebar_label: API04001
---

# API04001: 無効なレスポンス形式 {#api04001-invalid-response-format}

## 意味 {#what-this-means}

サーバーは応答しましたが、レスポンス形式がPOSが期待しているものとは異なります。サーバーはJSONデータを返す必要がありますが、他の何かが受信されました。

## 一般的な原因 {#common-causes}

- **PHPエラーが表示されている** — JSONの前にPHPエラーが出力されています
- **プラグインの競合** — 別のプラグインがコンテンツを出力しています
- **メンテナンスモード** — サイトがメンテナンスページを表示しています
- **間違ったコンテンツタイプ** — サーバーがJSONの代わりにHTMLを送信しています
- **キャッシュの問題** — キャッシュされたエラーページが配信されています

## 修正方法 {#how-to-fix}

### 1. サイトを確認する {#1-check-your-site}

ブラウザでWordPressサイトを訪問します:
- 通常通り表示されていますか？
- 目に見えるエラーはありますか？
- メンテナンスモードですか？

### 2. PHPエラーを確認する {#2-check-for-php-errors}

`wp-config.php`で、一時的にデバッグを有効にします:

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

`wp-content/debug.log`をチェックしてエラーを確認します。

### 3. REST APIを直接テストする {#3-test-the-rest-api-directly}

ブラウザで`https://yoursite.com/wp-json/`を訪問します:
- JSONデータを返すべきです
- HTMLまたはエラーが表示された場合、問題があります
- プラグイン関連の出力をチェックします

### 4. 一時的にキャッシュを無効にする {#4-disable-caching-temporarily}

キャッシュプラグインが過去の応答を提供する可能性があります:
- すべてのキャッシュをクリアします
- キャッシュプラグインを一時的に無効にします
- REST APIをキャッシュから除外します

### 5. プラグインの競合を確認する {#5-check-for-plugin-conflicts}

プラグインがすべてのページでコンテンツを出力する場合:
1. 必要のないすべてのプラグインを無効にします
2. POSをテストします
3. プラグインを1つずつ再有効化します

## 関連エラー {#related-errors}

- [API04003](./API04003) — JSONレスポンスが malformed
- [API05005](./API05005) — プラグインが見つかりません