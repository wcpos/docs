---
title: "API05004: WordPressのAPIが無効になっています"
sidebar_label: API05004
---

# API05004: WordPressのAPIが無効になっています

## 意味

WordPressのREST APIがサイトで無効になっています。最新のWordPressの機能、WooCommerceやWCPOSを含め、すべてこのAPIに依存しています。

## よくある原因

- **セキュリティプラグイン** — プラグインがREST APIへのアクセスをブロックしています
- **ホスティング制限** — ホストがREST APIを無効にしています
- **カスタムコード** — テーマやプラグインがAPIを無効にしています
- **ファイアウォールルール** — WAFがREST APIエンドポイントをブロックしています

## 修正方法

### 1. REST APIをテストする

ブラウザで `https://yoursite.com/wp-json/` にアクセス:
- 利用可能なルートを含むJSONが返されるはずです
- エラーや何も表示されない場合は、ブロックされています

### 2. セキュリティプラグインを確認する

REST APIをブロックする一般的なプラグイン:

**Wordfence:**
- ファイアウォール → すべてのファイアウォールオプション
- 「REST APIを無効にする」オプションを無効にする

**iThemes Security:**
- セキュリティ → 設定 → WordPressの調整
- REST APIを有効にする

**Disable REST API プラグイン:**
- このプラグインを完全に無効にする

### 3. カスタムコードを確認する

テーマの `functions.php` やカスタムプラグインで以下のようなコードを探します:

```php
// このコードはREST APIを無効にします - 削除してください
add_filter('rest_authentication_errors', function($result) {
    return new WP_Error('rest_disabled', 'REST API disabled');
});
```

### 4. .htaccessを確認する

`/wp-json/` をブロックするルールを削除します:

```apache
# 悪い例 - REST APIをブロックします
RewriteRule ^wp-json - [F,L]
```

### 5. ホスティングプロバイダに連絡する

一部のホストはデフォルトでREST APIをブロックしています:
- 有効にするよう依頼する
- セキュリティ制限について確認する
- ホスティングドキュメントを確認する

## REST APIが重要な理由

WordPressのREST APIは以下に不可欠です:
- モバイルアプリ
- サードパーティ連携
- WooCommerceの機能
- WCPOS の動作

無効にすると多くの機能が壊れます。

## 関連エラー

- [API05001](./API05001) — WooCommerce APIが無効
- [API03006](./API03006) — サポートされていないメソッド