---
title: "API02007: トークンリフレッシュ失敗"
sidebar_label: API02007
---

# API02007: トークンリフレッシュ失敗

## これは何を意味するか

POSが認証セッションを自動的に更新しようとしましたが、リフレッシュリクエストに失敗しました。通常、再度ログインする必要があることを意味します。

## よくある原因

- **リフレッシュトークンの期限切れ** — リフレッシュトークン自体の有効期限が切れている
- **リフレッシュトークンの無効化** — 管理者がすべてのセッションを無効にした
- **サーバーエラー** — サーバーがリフレッシュリクエストを処理できなかった
- **ネットワーク問題** — リフレッシュ試行中の接続エラー

## 解決方法

### 1. 再ログイン

最も確実な解決策:
1. POSからログアウトする
2. 資格情報を使用して再ログインする
3. これにより、新しいトークンで新しいセッションが作成される

### 2. ネットワーク接続を確認

ネットワーク問題が原因の場合:
- インターネット接続を確認
- ブラウザでWordPressサイトにアクセスしてみる
- しばらく待って再試行する

### 3. サーバーステータスを確認

サーバーに問題がある場合:
- WordPressが正常に動作していることを確認
- サーバーログでPHPエラーを確認
- 認証プラグインがアクティブであることを確認

### 4. セッションデータをクリア

問題が続く場合:
- POSアプリのキャッシュをクリア
- 保存された資格情報を削除
- 新しいログインで最初から始める

## 自動トークンリフレッシュ

WCPOSは、セッションを維持するために、トークンの期限が切れる前に自動的にトークンをリフレッシュします。このプロセスが繰り返し失敗する場合、注意が必要な設定の問題がある可能性があります。

## 関連エラー

- [API02002](./API02002) — トークン期限切れ
- [API02008](./API02008) — リフレッシュトークン無効
- [API02009](./API02009) — リフレッシュトークン期限切れ