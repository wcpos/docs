---
title: "API02007: トークンの更新に失敗しました"
sidebar_label: API02007
---

# API02007: トークンの更新に失敗しました

## これが意味すること

POSは自動的に認証セッションを更新しようとしましたが、更新リクエストが失敗しました。通常、再度ログインする必要があります。

## よくある原因

- **リフレッシュトークンが期限切れ** — リフレッシュトークン自体が期限切れ
- **リフレッシュトークンが取り消されました** — 管理者がすべてのセッションを無効にしました
- **サーバーエラー** — サーバーが更新リクエストを処理できませんでした
- **ネットワークの問題** — 更新の試行中に接続の問題が発生

## 修正方法

### 1. 再度ログインする

最も信頼できる修正方法：
1. POSからログアウトします
2. クレデンシャルを使用して再度ログインします
3. これにより、新しいトークンを持つ新しいセッションが作成されます

### 2. ネットワーク接続を確認する

ネットワークの問題でリフレッシュが失敗している場合：
- インターネット接続を確認する
- ブラウザでWordPressサイトにアクセスしてみる
- 少し待ってから再試行する

### 3. サーバーの状態を確認する

サーバーに問題がある場合：
- WordPressが正常に動作しているか確認する
- サーバーログにPHPエラーがないか確認する
- 認証プラグインがアクティブであることを確認する

### 4. セッションデータをクリアする

問題が持続する場合：
- POSアプリのキャッシュをクリアする
- 保存されているクレデンシャルを削除する
- 新しいログインで新たに開始する

## 自動トークン更新

WCPOSは、セッションを維持するためにトークンが期限切れになる前に自動的に更新します。このプロセスが繰り返し失敗する場合、注意が必要な構成の問題があるかもしれません。

## 関連するエラー

- [API02002](./API02002) — トークンが期限切れ
- [API02008](./API02008) — リフレッシュトークンが無効
- [API02009](./API02009) — リフレッシュトークンが期限切れ