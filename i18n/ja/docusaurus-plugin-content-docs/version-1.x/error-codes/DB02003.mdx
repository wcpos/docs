---
title: "DB02003: 制約違反"
sidebar_label: DB02003
---

# DB02003: 制約違反

## これが意味すること

保存しようとしているデータがデータベースのルールに違反しています。制約は、保存可能なデータに関するルールを強制することでデータの整合性を確保します。

## 一般的な原因

- **必須データの欠落** — 必須フィールドが空です
- **無効な関係** — 存在しないレコードを参照している
- **データ型の不一致** — フィールドに対して間違ったデータ型
- **範囲外の値** — 数字が許可された限度を超えています

## 修正方法

### 1. 必須フィールドを確認する

すべての必須データが提供されていることを確認してください：
- 顧客情報（必要な場合）
- 商品の詳細
- 注文のラインアイテム

### 2. 参照を確認する

エラーが関係に関するものである場合：
- 参照されている商品が存在することを確認してください
- 顧客IDが有効であることを確認する
- カテゴリの割り当てを確認する

### 3. データの値を確認する

無効な値がないか確認してください：
- 許可されていないところでの負の数量
- 限度を超える価格
- 無効なステータス値

### 4. 最新のデータを同期する

参照されているデータが同期していない可能性があります：
- サーバーからデータを更新する
- 同期が完了するまで待つ
- 操作を再試行する

### 5. クリアして再試行

データが破損している場合：
1. 問題のあるフォームをクリアする
2. データを再入力する
3. 再度送信する

## 一般的な制約の例

- **数量は正でなければならない** — 0または負のアイテムを追加できません
- **価格は数値でなければならない** — 価格フィールドにテキストは許可されていません
- **顧客は存在しなければならない** — 存在しない顧客に注文を割り当てることはできません

## 関連エラー

- [DB02001](./DB02001) — 重複レコード
- [DB03003](./DB03003) — 必須フィールドの欠落
