---
title: "DB02003: データベース制約違反"
sidebar_label: DB02003
---

# DB02003: データベース制約違反

## この意味

保存しようとしているデータがデータベースのルールに違反しています。制約は、どのようなデータを保存できるかについてのルールを強制することで、データの整合性を確保します。

## 一般的な原因

- **必須データの欠落** — 必須フィールドが空である
- **無効な関連付け** — 存在しないレコードを参照している
- **データ型の不一致** — フィールドに対して間違った種類のデータ
- **範囲外の値** — 許可された制限を超えている

## 修正方法

### 1. 必須フィールドの確認

すべての必須データが提供されていることを確認：
- 顧客情報（必要な場合）
- 商品の詳細
- 注文の明細行

### 2. 参照の確認

関係性に関するエラーがある場合：
- 参照される商品が存在することを確認
- 顧客IDが有効であることを確認
- カテゴリ割り当てを確認

### 3. データ値の確認

無効な値を確認：
- 許可されていない場所でのマイナスの数量
- 制限を超える価格
- 無効なステータス値

### 4. 最新データの同期

参照されるデータが同期されていない可能性があります：
- サーバーからデータを更新
- 同期が完了するまで待つ
- 操作を再試行

### 5. クリアして再試行

データが破損している場合：
1. 問題のあるフォームをクリア
2. データを再入力
3. 再送信

## 一般的な制約の例

- **数量は正の値でなければならない** — 0またはマイナスのアイテムは追加できない
- **価格は数値でなければならない** — 価格フィールドにテキストは許可されない
- **顧客が存在する必要がある** — 存在しない顧客に注文を割り当てられない

## 関連するエラー

- [DB02001](./DB02001) — 重複レコード
- [DB03003](./DB03003) — 必須フィールドの欠落