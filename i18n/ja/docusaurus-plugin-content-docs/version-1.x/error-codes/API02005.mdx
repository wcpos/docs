---
title: 'API02005: 権限が足りません'
sidebar_label: API02005
---

# API02005: 権限が足りません

## これが意味すること

あなたのユーザーアカウントには、この操作に必要な特定のWordPressの機能が不足しています。基本的なアクセスはありますが、あなたが試みている特定の操作には追加の権限が必要です。

## 一般的な原因

- **制限されたユーザーロール** — あなたの役割には必要なすべての機能が含まれていません
- **機能が割り当てられていない** — 特定の機能があなたの役割から欠けています
- **プラグインの制限** — セキュリティプラグインが機能を制限しています
- **カスタムロールの問題** — カスタムロールには機能が欠けている場合があります

## サーバーエラーのマッピング

このエラーコードは、サーバーが次を返すときにトリガーされます：

| サーバーコード | ソース |
|----------------|--------|
| `rest_forbidden` | WordPress REST API |
| `rest_cannot_create` | WordPress REST API |
| `rest_cannot_edit` | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403 | 任意のサーバー応答（フォールバック） |

## 修正方法

### 1. 必要な機能の確認

POS操作に必要な一般的な機能：
- `manage_woocommerce` — WooCommerceの一般管理
- `edit_shop_orders` — 注文の作成と編集
- `edit_products` — 商品情報の変更
- `edit_users` — 顧客アカウントの管理

### 2. ユーザーロールのアップグレード

管理者により高度な役割を割り当てるよう頼んでください：
- **ショップマネージャー** — 完全なWooCommerceアクセス
- **管理者** — 完全なサイトアクセス

### 3. 特定の機能を追加

カスタムロールが必要な場合は、必要な機能を追加してください：

```php
// Example: Add POS capabilities to a custom role
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. プラグインの競合を確認

いくつかのセキュリティプラグインやロール管理プラグインは機能を制限する場合があります：
- プラグイン設定を確認
- 機能フィルターをチェック
- 一時的に無効にしてテスト

## 関連エラー

- [API02004](./API02004) — ユーザーが認可されていない
- [API02010](./API02010) — 認証が必要