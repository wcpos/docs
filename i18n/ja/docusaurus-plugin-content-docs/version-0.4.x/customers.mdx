---
title: 顧客
---

:::important
この機能は [WCPOS Pro](http://wcpos.com/pro) へのアップグレードが必要です。
:::

### 権限

レジ担当者は、すべての顧客機能を使用するために、_list_users_、_create_users_、_edit_users_ の権限が必要です。

### WordPress マルチサイト

[WordPress マルチサイト](https://codex.wordpress.org/Create_A_Network) を使用する場合、[追加のチェック](https://github.com/WordPress/WordPress/blob/master/wp-includes/capabilities.php)があり、[スーパー管理者](https://codex.wordpress.org/Roles_and_Capabilities#Super_Admin)以外のユーザーが顧客を作成および編集できないようになっています。

まず、スーパー管理者以外のユーザーが新しい顧客を**作成**できるようにするには、`ネットワーク管理 > 設定` で以下のオプションを有効にしてください。

![新しいユーザーを作成するマルチサイトオプション](https://wcpos.com/wp-content/uploads/2016/09/multisite-create-new-users.png "新しいユーザーを作成するマルチサイトオプション")

さらに、レジ担当者が顧客詳細を**編集**できるようにするには、レジ担当者に `manage_network_users` 権限を追加する必要があります。

```php title="functions.php"
// CASHIER_ID を変更し、
// functions.php ファイルに追加してください

add_filter('map_meta_cap', 'wc_pos_map_meta_cap', 10, 3);

function wc_pos_map_meta_cap($caps, $cap, $user_id){
  if(is_pos() && $cap == 'edit_users' && $user_id === CASHIER_ID){
    $caps = array('edit_users');
  }
  return $caps;
}
```