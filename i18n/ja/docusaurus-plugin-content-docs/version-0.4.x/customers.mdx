---
title: 顧客
---

:::important
この機能には、[WCPOS Pro](http://wcpos.com/pro)へのアップグレードが必要です。
:::

### 機能

レジ係は、顧客機能を使用するために、_list_users_、_create_users_、および_edit_users_の権限が必要です。

### WordPress マルチサイト

[WordPress マルチサイト](https://codex.wordpress.org/Create_A_Network)を使用する際には、非[スーパ管理者](https://codex.wordpress.org/Roles_and_Capabilities#Super_Admin)が顧客を作成および編集するのを防ぐために、いくつかの[追加のチェック](https://github.com/WordPress/WordPress/blob/master/wp-includes/capabilities.php)があります。

まず、非スーパ管理者が新しい顧客を**作成**できるようにするためには、`ネットワーク管理 > 設定`にて以下のオプションを有効にしてください。

![新しいユーザーを作成するためのマルチサイトオプション](https://wcpos.com/wp-content/uploads/2016/09/multisite-create-new-users.png "新しいユーザーを作成するためのマルチサイトオプション")

さらに、非スーパ管理者が顧客の詳細を**編集**できるようにするためには、`manage_network_users`の権限をレジ係に追加する必要があります。

```php title="functions.php"
// change the CASHIER_ID, and
// add to your functions.php file

add_filter('map_meta_cap', 'wc_pos_map_meta_cap', 10, 3);

function wc_pos_map_meta_cap($caps, $cap, $user_id){
  if(is_pos() && $cap == 'edit_users' && $user_id === CASHIER_ID){
    $caps = array('edit_users');
  }
  return $caps;
}
```