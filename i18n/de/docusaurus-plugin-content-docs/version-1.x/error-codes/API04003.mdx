---
title: "API04003: Fehlerhaftes JSON-Antwort"
sidebar_label: API04003
---

# API04003: Fehlerhaftes JSON-Antwort

## Was Das Bedeutet

Der Server hat Daten zurückgegeben, die wie JSON aussehen, aber beschädigt oder ungültig sind. Das POS konnte die Antwort nicht parsen, da die JSON-Syntax fehlerhaft ist.

## Häufige Ursachen

- **PHP-Hinweise/Warnungen** — PHP-Ausgaben vor dem JSON
- **BOM (Byte Order Mark)** — Unsichtbare Zeichen am Anfang der Datei
- **Kodierungsprobleme** — Probleme mit der Zeichenkodierung
- **Abgebrochene Antwort** — Antwort mitten in der Übertragung abgeschnitten
- **Plugin-Ausgabe** — Ein Plugin hat nicht-JSON-Inhalt hinzugefügt

## So Beheben Sie Es

### 1. Prüfen Sie auf PHP-Hinweise

PHP-Hinweise/Warnungen vor dem JSON stören das Parsen:

In `wp-config.php`:
```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

Überprüfen Sie `wp-content/debug.log` und beheben Sie alle Probleme.

### 2. Auf BOM-Zeichen Prüfen

Einige Texteditoren fügen unsichtbare BOM-Zeichen hinzu:
- PHP-Dateien ohne BOM erneut speichern
- UTF-8 ohne BOM-Kodierung verwenden
- Kürzlich bearbeitete Dateien überprüfen

### 3. Vollständige Antwort Verifizieren

Wenn Antworten abgeschnitten werden:
- PHP-Ausgabepuffer-Einstellungen überprüfen
- `output_buffering` in php.ini erhöhen
- Nach Zeitüberschreitungsproblemen suchen

### 4. API Direkt Testen

In Ihrem Browser oder mit curl:
```bash
curl -v https://yoursite.com/wp-json/wcpos/v1/
```

Achten Sie auf unerwarteten Inhalt vor dem JSON.

### 5. Zeichenkodierung Überprüfen

Stellen Sie sicher, dass Datenbank und PHP UTF-8 verwenden:
- Überprüfen Sie die Charset-Einstellungen in `wp-config.php`
- Überprüfen Sie, ob die Datenbanktabellen UTF-8 sind
- Suchen Sie nach Sonderzeichen, die Probleme verursachen

## Verwandte Fehler

- [API04001](./API04001) — Ungültiges Antwortformat
- [API04005](./API04005) — JSON-Wiederherstellung Versucht