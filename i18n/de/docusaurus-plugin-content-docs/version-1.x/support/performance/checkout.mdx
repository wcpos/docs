---
title: Checkout-Leistung
sidebar_label: Checkout-Leistung
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Wenn Sie während des Zahlungsvorgangs eine langsame Leistung feststellen, hilft Ihnen dieser Leitfaden, die häufigsten Ursachen zu identifizieren und zu beheben.

## Wie WCPOS Checkout funktioniert

Der WCPOS-Checkout öffnet ein Modal mit einem iframe/webview, das eine abgespeckte Version der WooCommerce-Bestellzahlungs-Vorlage lädt. Dies ist im Wesentlichen dieselbe Seite wie die [Zahlungsseite für Kunden](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link), die Kunden beim Bezahlen von Bestellungen online sehen.

:::info Entwicklerhinweis
Sie können die Checkout-Vorlage im WCPOS-Plugin-Repository einsehen: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## Eingebaute Optimierungen

WCPOS enthält mehrere Optimierungen zur Verbesserung der Checkout-Leistung:

- **Abgespeckte Vorlage** - Entfernt unnötige Theme-Elemente und Unordnung
- **Selektives Laden von Skripten/Stilen** - Nur essenzielle Skripte und Stile werden geladen
- **Minimale DOM-Struktur** - Reduziert die Komplexität der Checkout-Seite

Einige Skripte und Stile können jedoch nicht vollständig deaktiviert werden, da Zahlungsmethoden möglicherweise auf sie angewiesen sind, um ordnungsgemäß zu funktionieren.

## Häufige Leistungsprobleme

### 1. Unnötige Skripte und Stile

**Problem:** Themes und Plugins fügen Skripte und Stile hinzu, die für den Checkout nicht benötigt werden, was die Ladezeiten der Seite verlangsamt.

**Lösung:** Verwenden Sie die [Checkout-Einstellungen](/pos/checkout#checkout-settings-troubleshooting), um unnötige Ressourcen zu deaktivieren:

1. Klicken Sie auf die Schaltfläche **Checkout-Einstellungen** im Checkout-Modal.
2. Versuchen Sie zuerst, die Theme-Stile zu deaktivieren:
   - wp-block-library
   - classic-theme-styles
   - Die benutzerdefinierten Stile Ihres Themes
3. Deaktivieren Sie nicht wesentliche WooCommerce-Skripte:
   - wc-add-to-cart
   - selectWoo (falls von Ihrem Gateway nicht benötigt)
   - html5shiv

<div class="image-container">
  <Image
    alt="Formular um alle Stile und Skripte zu deaktivieren"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formular um alle Stile und Skripte zu deaktivieren</p>
</div>

:::warning Vorsicht
Deaktivieren Sie keine Skripte, die Ihr Zahlungsmethode benötigt. Wenn eine Zahlungsmethode nach der Deaktivierung eines Skripts nicht mehr funktioniert, aktivieren Sie es erneut.
:::

### 2. Plugin-Interferenzen während der Bestellerstellung

**Problem:** Plugins, die in den Prozess der Bestellerstellung eingreifen, können erhebliche Verzögerungen verursachen. Beispielsweise können Buchhaltungs-Plugins wie Xero Bestelldaten an externe Server senden, wodurch der Checkout-Prozess blockiert wird.

**Fehlerbehebungsschritte:**

1. **Testen auf Staging** - Wenn Sie einen Staging-Server haben, deaktivieren Sie alle Plugins außer WooCommerce und WCPOS.
2. **Testen der Checkout-Geschwindigkeit** - Verarbeiten Sie eine Testbestellung und beachten Sie die Leistung.
3. **Plugins schrittweise aktivieren** - Wenn sich die Leistung erheblich verbessert, aktivieren Sie die Plugins nacheinander, um den Verursacher zu identifizieren.
4. **Kontaktieren Sie die Plugin-Entwickler** - Wenn ein bestimmtes Plugin Probleme verursacht, wenden Sie sich an den Entwickler für Optimierungsrat.

**Häufige problematische Plugin-Typen:**
- Buchhaltungs-/Buchungsintegrationen (Xero, QuickBooks)
- E-Mail-Marketing-Tools, die beim Erstellen von Bestellungen ausgelöst werden
- Bestandsverwaltungssysteme
- Komplexe Versandkostenrechner
- Drittanbieter-Analysetools

### 3. Serverressourcen-Limitierungen

**Problem:** Wenn Ihr Server ausgelastet ist oder nicht über ausreichende Ressourcen verfügt, werden alle Vorgänge, einschließlich Checkout, langsam sein.

**Überwachung und Lösungen:**

1. **Überwachen Sie die Serverleistung:**
   - CPU-Auslastung während des Checkouts
   - Speicherverbrauch
   - Datenbankabfrage-Leistung
   - Netzwerk-Latenz

2. **Optimieren Sie die Serverressourcen:**
   - Erhöhen Sie das PHP-Speicherlimit
   - Optimieren Sie Datenbankabfragen
   - Verwenden Sie Caching-Plugins (aber testen Sie die Kompatibilität)
   - Erwägen Sie ein Upgrade des Hosting-Plans

3. **Datenbankoptimierung:**
   - Alte Bestelldaten bereinigen
   - Datenbanktabellen optimieren
   - Unnötige Plugins und Themes entfernen

## Best Practices für WordPress-Entwickler

:::tip Für Entwickler
WordPress-Entwickler sollten `wp_enqueue_scripts` verwenden, um Skripte und Stile korrekt zu Seiten hinzuzufügen. Leider befolgen einige Plugin- und Theme-Entwickler keine Best Practices und fügen den Code direkt in Vorlagen ein, was es unmöglich macht, diese Ressourcen einfach zu dequeue.
:::

Wenn Sie Probleme mit Skripten oder Stilen haben, die nicht über die Checkout-Einstellungen deaktiviert werden können:

1. **Kontaktieren Sie den Entwickler** - Bitten Sie ihn, die WordPress-Codierungsstandards zu befolgen.
2. **Verwenden Sie Kind-Themes** - Überschreiben Sie problematische Vorlagen in einem Kind-Theme.
3. **Benutzerdefinierte Hooks** - Verwenden Sie WordPress-Hooks, um problematischen Code auf Checkout-Seiten zu entfernen.

## Leistungstest

Um die Verbesserungen der Checkout-Leistung zu testen:

1. **Basislinie messen** - Messen Sie, wie lange der Checkout vor Änderungen dauert.
2. **Ändern Sie jeweils eine Einstellung** - Dies hilft zu identifizieren, welche Änderungen den größten Einfluss haben.
3. **Testen Sie mit echten Zahlungsmethoden** - Testen Sie nicht nur mit Barzahlungen.
4. **Testen Sie auf verschiedenen Geräten** - Mobile Geräte können unterschiedliche Leistungsmerkmale aufweisen.

## Schnelle Gewinne

Hier sind die effektivsten Leistungsverbesserungen, die Sie vornehmen können:

1. **Deaktivieren Sie die Theme-Stile** - Bietet oft die größte Verbesserung.
2. **Entfernen Sie unnötige WooCommerce-Skripte** - Reduziert die Ausführungszeit von JavaScript.
3. **Prüfen Sie die Hooks zur Bestellerstellung** - Identifizieren Sie langsame Plugins und optimieren Sie diese.
4. **Optimieren Sie Bilder** - Stellen Sie sicher, dass alle Bilder im Checkout optimiert sind.
5. **Verwenden Sie ein Leistungsüberwachungs-Plugin** - Verfolgen Sie die Verbesserungen im Laufe der Zeit.

## Wann Sie Hilfe suchen sollten

Kontaktieren Sie den WCPOS-Support, wenn:

- Der Checkout konsequent länger als 10 Sekunden dauert.
- Sie diese Anleitung befolgt haben, aber weiterhin Probleme auftreten.
- Sie vermuten, dass ein bestimmtes Plugin Probleme verursacht, es jedoch nicht identifizieren können.
- Sie Hilfe bei der Optimierung der Serverressourcen benötigen.

## Verwandte Dokumentation

- [Checkout-Einstellungen](/pos/checkout#checkout-settings-troubleshooting) - Deaktivieren Sie problematische Skripte und Stile.
- [Zahlungsmethoden](/payment) - Konfigurieren Sie Zahlungsmethoden für optimale Leistung.
- [Fehlerbehebung](/category/troubleshooting) - Allgemeine Fehlerbehebungsleitfäden.