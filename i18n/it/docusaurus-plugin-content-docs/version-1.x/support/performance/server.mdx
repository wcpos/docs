---
title: Prestazioni del Server
sidebar_label: Prestazioni del Server
sidebar_position: 2
---

import Image from "@theme/IdealImage";

Le prestazioni del server influiscono direttamente sulla velocità e reattività della tua applicazione WCPOS. Questa guida ti aiuta a monitorare, diagnosticare e ottimizzare le prestazioni del server utilizzando le metriche incorporate e le tecniche di risoluzione dei problemi.

## Comprendere le Metriche del Server

WCPOS raccoglie automaticamente le metriche delle prestazioni del server con ogni operazione di recupero dati (prodotti, ordini, clienti, ecc.). Puoi visualizzare queste metriche nella schermata [Log](/support/logs).

### Metriche del Server Tipiche

```json
{
  "total": "24692",
  "execution_time": "76.64 ms",
  "server_load": "[15.20605469,16.16357422,16.76806641]"
}
```

**Dettagli:**
- **`total`** - Numero di record elaborati (24.692 ID prodotto)
- **`execution_time`** - Tempo impiegato per completare l'operazione (76.64 millisecondi)
- **`server_load`** - Medie di carico del server per 1, 5 e 15 minuti

## Carico del Server Spiegato

Il carico del server rappresenta il carico medio del sistema su diversi periodi di tempo:

- **Primo valore** - Media di 1 minuto (15.21)
- **Secondo valore** - Media di 5 minuti (16.16)
- **Terzo valore** - Media di 15 minuti (16.77)

### Interpretazione del Carico

I valori del carico del server possono essere ingannevoli e devono essere interpretati con cautela:

:::warning I Valori di Carico Possono Essere Illusori
Le medie del carico del server non correlano sempre direttamente con le prestazioni. Un server con valori di carico elevati (15+) può essere comunque molto reattivo se ha risorse sufficienti ed è ben ottimizzato. **Concentrati sui tempi di esecuzione piuttosto che solo sui valori di carico.**
:::

**Linee Guida Generali:**
- **Carico relativo ai core della CPU** - Un carico di 8.0 su un server a 8 core significa utilizzo completo
- **Sostenuto vs. temporaneo** - Picchi brevi sono normali, un carico alto sostenuto può indicare problemi
- **Le prestazioni sono più importanti** - Un server reattivo con un carico alto è meglio di un server lento con un carico basso

**Cosa monitorare:**
- **Tempi di esecuzione in aumento** nel tempo
- **Carico che cresce costantemente** senza spiegazione
- **Entrambi carico alto E tempi di esecuzione lenti** insieme

## Riferimenti sulle Prestazioni

### Linee Guida sui Tempi di Esecuzione

| Operazione | Buono | Accettabile | Scadente | Critico |
|------------|-------|-------------|----------|---------|
| **Recupero prodotto** | < 100ms | 100-500ms | 500ms-2s | > 2s |
| **Creazione ordine** | < 200ms | 200-800ms | 800ms-3s | > 3s |

### Considerazioni sul Conteggio dei Record

Il tempo di esecuzione dovrebbe scalare ragionevolmente con il numero di record:

```json
// Good scaling examples
{"total": "100", "execution_time": "15.2 ms"}    // 0.15ms per record
{"total": "1000", "execution_time": "89.4 ms"}   // 0.09ms per record
{"total": "10000", "execution_time": "234.1 ms"} // 0.02ms per record

// Poor scaling examples
{"total": "100", "execution_time": "500.0 ms"}   // 5.0ms per record
{"total": "1000", "execution_time": "8000.0 ms"} // 8.0ms per record
```

## Diagnosi dei Problemi di Prestazioni

### Passo 1: Monitorare i Log

1. Apri **Log** dal pannello di navigazione
2. Esegui l'operazione lenta (sincronizza prodotti, crea ordine, ecc.)
3. Cerca la voce di log corrispondente
4. Espandi il contesto per vedere le metriche

### Passo 2: Analizzare le Metriche

**Alto tempo di esecuzione + Alto carico del server = Problema di risorse del server**
```json
{
  "total": "5000",
  "execution_time": "3500.0 ms",
  "server_load": "[12.45, 11.23, 10.87]"
}
```
*Soluzione: Aumentare le risorse del server o ottimizzare la configurazione del server*

**Alto tempo di esecuzione + Carico del server normale = Problema di plugin/database**
```json
{
  "total": "1000",
  "execution_time": "2800.0 ms",
  "server_load": "[1.23, 1.45, 1.67]"
}
```
*Soluzione: Identificare plugin lenti o ottimizzare le query del database*

**Tempo di esecuzione normale + Alto carico del server = Sovraccarico generale del server**
```json
{
  "total": "2000",
  "execution_time": "150.0 ms",
  "server_load": "[8.90, 9.12, 8.45]"
}
```
*Soluzione: Ridurre il carico del server da altri processi o aggiornare le risorse*

## Problemi di Prestazioni Comuni

### 1. Risorse del Server Insufficienti

**Sintomi:**
- Carico del server costantemente alto (> 4.0 nella maggior parte dei server)
- Tempi di esecuzione lunghi in tutte le operazioni
- Timeout frequenti

**Soluzioni:**
- **Aggiorna la CPU** - Più core gestiscono meglio le richieste simultanee
- **Aumenta la RAM** - Riduce l'I/O su disco e migliora la cache
- **Usa storage SSD** - Migliora drasticamente le prestazioni del database
- **Ottimizza le impostazioni PHP** - Aumenta memory_limit, max_execution_time

### 2. Query del Database Lente

**Sintomi:**
- Tempi di esecuzione elevati con carico del server normale
- Recupero di prodotti ordini particolarmente lento
- Codici di errore relativi al database nei log

**Soluzioni:**
- **Abilita WooCommerce HPOS** - Il miglioramento delle prestazioni del database più significativo
- **Usa caching degli oggetti** - Redis o Memcached se disponibili dal tuo host
- **Mantieni WordPress aggiornato** - Gli aggiornamenti del core includono spesso ottimizzazioni del database
- **Limita le revisioni dei post** - Aggiungi `define('WP_POST_REVISIONS', 3);` a wp-config.php

### 3. Interferenza dei Plugin

**Sintomi:**
- Sudden degrading delle prestazioni dopo aggiornamenti dei plugin
- Operazioni specifiche notevolmente più lente rispetto ad altre
- Tempi di esecuzione elevati con carico del server normale

**Risoluzione dei problemi:**
1. **Testa in staging** - Disabilita tutti i plugin tranne WooCommerce e WCPOS
2. **Misura la baseline** - Registra i tempi di esecuzione con plugin minimi
3. **Riattiva gradualmente** - Aggiungi plugin uno ad uno per identificare i colpevoli
4. **Controlla i ganci dei plugin** - Cerca plugin che si agganciano alle azioni di WooCommerce

**Plugin problematici comuni:**
- Plugin SEO pesanti durante le operazioni sui prodotti
- Sistemi complessi di gestione dell'inventario
- Plugin di analisi tracciamento in tempo reale
- Plugin personalizzati mal codificati

### 4. Configurazione di WordPress/WooCommerce

**Sintomi:**
- Prestazioni inconsistenti
- Errori di memoria nei log
- Dashboard admin lenta

**Lista di controllo per l'ottimizzazione:**
- **Versione PHP** - Usa PHP 8.0+ per migliori prestazioni
- **WooCommerce HPOS** - Abilita l'archiviazione degli ordini ad alte prestazioni (vedi sotto)
- **Caching di WordPress** - Abilita il caching degli oggetti se disponibile
- **Impostazioni di WooCommerce** - Ottimizza le dimensioni delle immagini dei prodotti

### Archiviazione degli Ordini ad Alte Prestazioni di WooCommerce (HPOS)

:::tip Il Maggiore Vantaggio in Termini di Prestazioni
**HPOS è uno dei miglioramenti delle prestazioni più significativi che puoi fare per WooCommerce.** Memorizza gli ordini in tabelle di database personalizzate anziché nella tabella dei post di WordPress, migliorando drasticamente le prestazioni per i negozi con molti ordini.
:::

**Vantaggi:**
- **Query degli ordini più veloci** - Ordini memorizzati in una struttura di database ottimizzata
- **Carico del database ridotto** - Separa gli ordini dai post/pagine
- **Migliore scalabilità** - Gestisce un gran numero di ordini in modo efficiente
- **Miglioramento delle prestazioni dell'amministrazione** - Schermi di gestione degli ordini più rapidi

**Come Abilitare:**
1. Vai a `WooCommerce > Impostazioni > Avanzato > Funzionalità`
2. Abilita "Archiviazione degli ordini ad alte prestazioni"
3. Segui il processo di migrazione

**Scopri di più:**
- [Documentazione WooCommerce HPOS](https://woocommerce.com/document/high-performance-order-storage/)
- [Guida alla Migrazione HPOS](https://woocommerce.com/document/high-performance-order-storage/#section-3)

## Migliori Pratiche per il Monitoraggio del Server

### 1. Controlli Regolari delle Prestazioni

- **Revisioni settimanali** - Controlla i log per tendenze di prestazioni
- **Misurazioni di baseline** - Registra i normali tempi di esecuzione
- **Monitoraggio durante i picchi** - Monitora durante i periodi di alta affluenza

### 2. Impostare Avvisi di Prestazione

Monitora questi segnali di avvertimento:
- Tempi di esecuzione > 1000ms costantemente
- Carico del server > 5.0 per periodi prolungati
- Errori di timeout frequenti nei log

### 3. Pianificazione della Capacità

Tieni traccia delle tendenze di crescita:
- **Crescita del conteggio dei record** - Prodotti, ordini, clienti
- **Degrado delle prestazioni** - Come scala il tempo di esecuzione
- **Utilizzo delle risorse** - CPU, memoria, utilizzo del disco

## Strategie di Ottimizzazione del Server

### 1. Migliori Pratiche per WordPress/WooCommerce

**Abilita HPOS:**
- Il miglioramento delle prestazioni più impattante per WooCommerce
- Vedi la sezione HPOS sopra per i dettagli

**Configurazione PHP (consultare il proprio host):**
```ini
memory_limit = 512M
max_execution_time = 300
max_input_vars = 3000
```

**Configurazione di WordPress:**
```php
// In wp-config.php - limit post revisions
define('WP_POST_REVISIONS', 3);

// Enable WordPress debug logging if needed
define('WP_DEBUG_LOG', true);
```

### 2. Ottimizzazioni a Livello di Hosting

**Caching degli Oggetti:**
- Chiedi al tuo host la disponibilità di Redis o Memcached
- Molti host di WordPress gestiti forniscono questo automaticamente

**Versione PHP:**
- Usa PHP 8.0+ per miglioramenti significativi delle prestazioni
- La maggior parte degli host consente un facile cambio di versione PHP

**Risorse del Server:**
- Assicurati di avere RAM adeguata (minimo 1GB, preferibilmente 2GB+)
- L'archiviazione SSD offre prestazioni del database molto migliori rispetto ai tradizionali dischi

## Quando Cercare Aiuto

Contatta il tuo fornitore di hosting o uno sviluppatore di WordPress se:

- **Carico del server costantemente > 8.0** nonostante gli sforzi di ottimizzazione
- **Tempi di esecuzione > 5000ms** per operazioni semplici
- **Errori di memoria** che appaiono frequentemente nei log
- **Query del database che impiegano > 2 secondi** costantemente

Fornisci loro:
- Metriche del server dai tuoi log
- Elenco dei plugin attivi
- Specifiche del server (CPU, RAM, tipo di storage)
- Versioni di WordPress e WooCommerce

## Documentazione Correlata

- [Log](/support/logs) - Come accedere e interpretare le metriche del server
- [Prestazioni di Checkout](/support/performance/checkout) - Ottimizza il processo di pagamento
- [Codici di Errore](/error-codes) - Comprendere i codici di errore relativi alle prestazioni
- [Risoluzione dei Problemi](/category/troubleshooting) - Guide generali per la risoluzione dei problemi