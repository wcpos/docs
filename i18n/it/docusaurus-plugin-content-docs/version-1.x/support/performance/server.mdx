---
title: "Prestazioni del Server"
sidebar_label: "Prestazioni del Server"
sidebar_position: 2
---

import Image from "@theme/IdealImage";

Le prestazioni del server influenzano direttamente la velocità e la reattività della tua applicazione WCPOS. Questa guida ti aiuta a monitorare, diagnosticare e ottimizzare le prestazioni del server utilizzando le metriche integrate e le tecniche di risoluzione dei problemi.

## Comprendere le Metriche del Server

WCPOS raccoglie automaticamente le metriche delle prestazioni del server con ogni operazione di recupero dati (prodotti, ordini, clienti, ecc.). Puoi visualizzare queste metriche nella schermata [Log](/support/logs).

### Metriche Tipiche del Server

```json
{
  "total": "24692",
  "execution_time": "76.64 ms",
  "server_load": "[15.20605469,16.16357422,16.76806641]"
}
```

**Dettagli:**
- **`total`** - Numero di record elaborati (24.692 ID prodotto)
- **`execution_time`** - Tempo impiegato per completare l'operazione (76.64 millisecondi)
- **`server_load`** - Medie del carico del server per 1, 5 e 15 minuti

## Spiegazione del Carico del Server

Il carico del server rappresenta il carico medio del sistema su diversi periodi di tempo:

- **Primo valore** - media di 1 minuto (15.21)
- **Secondo valore** - media di 5 minuti (16.16)
- **Terzo valore** - media di 15 minuti (16.77)

### Interpretazione del Carico

I valori del carico del server possono essere ingannevoli e devono essere interpretati con attenzione:

:::warning I Valori di Carico Possono Essere Ingannevoli
Le medie del carico del server non sempre corrispondono direttamente alle prestazioni. Un server con valori di carico elevati (15+) può ancora essere molto reattivo se ha risorse sufficienti ed è ben ottimizzato. **Concentrati sui tempi di esecuzione piuttosto che solo sui valori di carico.**
:::

**Linee Guida Generali:**
- **Carico relativo ai core della CPU** - Un carico di 8.0 su un server a 8 core significa utilizzo massimo
- **Sostenuto vs. temporaneo** - Picchi brevi sono normali, carichi sostenuti elevati possono indicare problemi
- **Le prestazioni contano di più** - Un server reattivo con un carico elevato è migliore di un server lento con un carico basso

**Cosa tenere d'occhio:**
- **Tempi di esecuzione in aumento** nel tempo
- **Carico in crescita costante** senza spiegazione
- **Entrambi carico elevato E tempi di esecuzione lenti** insieme

## Riferimenti alle Prestazioni

### Linee Guida sui Tempi di Esecuzione

| Operazione | Buona | Accettabile | Scarsa | Critica |
|------------|-------|-------------|--------|---------|
| **Recupero prodotto** | < 100ms | 100-500ms | 500ms-2s | > 2s |
| **Creazione ordine** | < 200ms | 200-800ms | 800ms-3s | > 3s |

### Considerazioni sul Conteggio dei Record

Il tempo di esecuzione dovrebbe scalare ragionevolmente con il conteggio dei record:

```json
// Good scaling examples
{"total": "100", "execution_time": "15.2 ms"}    // 0.15ms per record
{"total": "1000", "execution_time": "89.4 ms"}   // 0.09ms per record
{"total": "10000", "execution_time": "234.1 ms"} // 0.02ms per record

// Poor scaling examples
{"total": "100", "execution_time": "500.0 ms"}   // 5.0ms per record
{"total": "1000", "execution_time": "8000.0 ms"} // 8.0ms per record
```

## Diagnosticare i Problemi di Prestazioni

### Passo 1: Monitorare i Log

1. Apri **Log** dal menu di navigazione
2. Esegui l'operazione lenta (sincronizza prodotti, crea ordine, ecc.)
3. Cerca l'entry corrispondente nel log
4. Espandi il contesto per vedere le metriche

### Passo 2: Analizzare le Metriche

**Tempo di esecuzione elevato + Carico del server elevato = Problema di risorse del server**
```json
{
  "total": "5000",
  "execution_time": "3500.0 ms",
  "server_load": "[12.45, 11.23, 10.87]"
}
```
*Soluzione: Aumenta le risorse del server o ottimizza la configurazione del server*

**Tempo di esecuzione elevato + Carico del server normale = Problema di plugin/database**
```json
{
  "total": "1000",
  "execution_time": "2800.0 ms",
  "server_load": "[1.23, 1.45, 1.67]"
}
```
*Soluzione: Identifica i plugin lenti o ottimizza le query del database*

**Tempo di esecuzione normale + Carico del server elevato = Sovraccarico generale del server**
```json
{
  "total": "2000",
  "execution_time": "150.0 ms",
  "server_load": "[8.90, 9.12, 8.45]"
}
```
*Soluzione: Riduci il carico del server da altri processi o potenzia le risorse*

## Problemi Comuni di Prestazioni

### 1. Risorse del Server Insufficienti

**Sintomi:**
- Carico del server costantemente elevato (> 4.0 sulla maggior parte dei server)
- Tempi di esecuzione lunghi su tutte le operazioni
- Timeout frequenti

**Soluzioni:**
- **Aggiorna la CPU** - Maggiori core gestiscono meglio le richieste concorrenti
- **Aumenta la RAM** - Riduce le operazioni di I/O su disco e migliora la cache
- **Utilizza storage SSD** - Migliora notevolmente le prestazioni del database
- **Ottimizza le impostazioni PHP** - Aumenta memory_limit, max_execution_time

### 2. Query di Database Lente

**Sintomi:**
- Tempi di esecuzione elevati con carico del server normale
- Recupero di prodotti/ordini particolarmente lento
- Codici di errore legati al database nei log

**Soluzioni:**
- **Abilita WooCommerce HPOS** - Il più grande miglioramento delle prestazioni del database
- **Utilizza la cache degli oggetti** - Redis o Memcached se disponibili dal tuo host
- **Tieni WordPress aggiornato** - Gli aggiornamenti del core spesso includono ottimizzazioni del database
- **Limita le revisioni dei post** - Aggiungi `define('WP_POST_REVISIONS', 3);` a wp-config.php

### 3. Interferenze dei Plugin

**Sintomi:**
- Diminuzione improvvisa delle prestazioni dopo aggiornamenti dei plugin
- Operazioni specifiche molto più lente rispetto ad altre
- Tempi di esecuzione elevati con carico del server normale

**Risoluzione dei problemi:**
1. **Testa su staging** - Disabilita tutti i plugin tranne WooCommerce e WCPOS
2. **Misura la linea di base** - Registra i tempi di esecuzione con plugin minimi
3. **Riattiva gradualmente** - Aggiungi i plugin uno alla volta per identificare i colpevoli
4. **Controlla gli hook dei plugin** - Cerca plugin che si agganciano alle azioni di WooCommerce

**Plugin problematici comuni:**
- Plugin SEO pesanti durante le operazioni di prodotto
- Sistemi di gestione dell'inventario complessi
- Plugin di analisi/tracking in tempo reale
- Plugin personalizzati mal scritti

### 4. Configurazione di WordPress/WooCommerce

**Sintomi:**
- Prestazioni inconsistenti
- Errori relativi alla memoria nei log
- Dashboard dell'amministratore lenta

**Lista di controllo per l'ottimizzazione:**
- **Versione PHP** - Usa PHP 8.0+ per migliori prestazioni
- **WooCommerce HPOS** - Abilita l'archiviazione di ordini ad alte prestazioni (vedi sotto)
- **Caching di WordPress** - Abilita la cache degli oggetti se disponibile
- **Impostazioni WooCommerce** - Ottimizza le dimensioni delle immagini dei prodotti

### WooCommerce High-Performance Order Storage (HPOS)

:::tip Il Maggiore Vantaggio in termini di Prestazioni
**HPOS è uno dei miglioramenti delle prestazioni più significativi che puoi apportare a WooCommerce.** Memorizza gli ordini in tabelle di database personalizzate anziché nella tabella dei post di WordPress, migliorando notevolmente le prestazioni per i negozi con molti ordini.
:::

**Benefici:**
- **Query sugli ordini più veloci** - Ordini memorizzati in strutture di database ottimizzate
- **Riduzione del carico del database** - Separa gli ordini da post/pagine
- **Migliore scalabilità** - Gestisce in modo efficiente un grande numero di ordini
- **Miglioramento delle prestazioni dell'amministratore** - Schermate di gestione degli ordini più veloci

**Come Abilitare:**
1. Vai su `WooCommerce > Impostazioni > Avanzato > Funzioni`
2. Abilita "Archiviazione degli ordini ad alte prestazioni"
3. Segui il processo di migrazione

**Ulteriori Informazioni:**
- [Documentazione WooCommerce HPOS](https://woocommerce.com/document/high-performance-order-storage/)
- [Guida alla Migrazione HPOS](https://woocommerce.com/document/high-performance-order-storage/#section-3)

## Migliori Pratiche per il Monitoraggio del Server

### 1. Controlli di Prestazioni Regolari

- **Revisioni settimanali** - Controlla i log per tendenze nelle prestazioni
- **Misurazioni di linea di base** - Registra i tempi di esecuzione normali
- **Monitoraggio dei picchi di traffico** - Monitora durante i periodi di alta affluenza

### 2. Imposta Avvisi di Prestazioni

Monitora questi segnali di avviso:
- Tempi di esecuzione > 1000ms costantemente
- Carico del server > 5.0 per periodi prolungati
- Errori di timeout frequenti nei log

### 3. Pianificazione della Capacità

Traccia le tendenze di crescita:
- **Crescita del conteggio dei record** - Prodotti, ordini, clienti
- **Degrado delle prestazioni** - Come scala il tempo di esecuzione
- **Utilizzazione delle risorse** - CPU, memoria, utilizzo del disco

## Strategie di Ottimizzazione del Server

### 1. Migliori Pratiche di WordPress/WooCommerce

**Abilita HPOS:**
- Il miglioramento delle prestazioni più impattante per WooCommerce
- Vedi la sezione HPOS sopra per dettagli

**Configurazione PHP (consulta il tuo host):**
```ini
memory_limit = 512M
max_execution_time = 300
max_input_vars = 3000
```

**Configurazione di WordPress:**
```php
// In wp-config.php - limit post revisions
define('WP_POST_REVISIONS', 3);

// Enable WordPress debug logging if needed
define('WP_DEBUG_LOG', true);
```

### 2. Ottimizzazioni a Livello di Hosting

**Caching degli Oggetti:**
- Chiedi al tuo host la disponibilità di Redis o Memcached
- Molti host gestiti di WordPress forniscono questo automaticamente

**Versione PHP:**
- Usa PHP 8.0+ per significativi miglioramenti delle prestazioni
- La maggior parte degli host consente un facile cambio di versione PHP

**Risorse del Server:**
- Assicurati di avere RAM adeguata (minimo 1GB, preferibilmente 2GB+)
- Lo storage SSD offre prestazioni molto migliori rispetto ai dischi tradizionali

## Quando Richiedere Aiuto

Contatta il tuo provider di hosting o uno sviluppatore di WordPress se:

- **Carico del server costantemente > 8.0** nonostante gli sforzi di ottimizzazione
- **Tempi di esecuzione > 5000ms** per operazioni semplici
- **Errori di memoria** che compaiono frequentemente nei log
- **Query di database che richiedono > 2 secondi** costantemente

Fornisci loro:
- Metriche del server dai tuoi log
- Elenco dei plugin attivi
- Specifiche del server (CPU, RAM, tipo di storage)
- Versioni di WordPress e WooCommerce

## Documentazione Correlata

- [Log](/support/logs) - Come accedere e interpretare le metriche del server
- [Prestazioni del Checkout](/support/performance/checkout) - Ottimizza il processo di pagamento
- [Codici di Errore](/error-codes) - Comprendere i codici di errore relativi alle prestazioni
- [Risoluzione dei Problemi](/category/troubleshooting) - Guide generali per la risoluzione dei problemi