---
title: "Prestazioni del Checkout"
sidebar_label: "Prestazioni del Checkout"
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Se stai riscontrando prestazioni lente durante il processo di checkout, questa guida ti aiuterà a identificare e risolvere le cause più comuni.

## Come Funziona il Checkout di WCPOS

Il checkout di WCPOS apre un modulo con un iframe/webview che carica una versione semplificata del template di pagamento degli ordini di WooCommerce. Questa è essenzialmente la stessa pagina della [Pagina di Pagamento per i Clienti](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link) che i clienti vedono quando pagano gli ordini online.

:::info Nota per gli Sviluppatori
Puoi visualizzare il template di checkout nel repository del plugin WCPOS: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## Ottimizzazioni Incorporate

WCPOS include diverse ottimizzazioni per migliorare le prestazioni del checkout:

- **Template semplificato** - Rimuove elementi e ingombri inutili del tema
- **Caricamento selettivo di script/stile** - Vengono caricati solo gli script e gli stili essenziali
- **Struttura DOM minimale** - Riduce la complessità della pagina di checkout

Tuttavia, alcuni script e stili non possono essere completamente disabilitati poiché i gateway di pagamento potrebbero richiederli per funzionare correttamente.

## Problemi Comuni di Prestazioni

### 1. Script e Stili Inutili

**Problema:** Temi e plugin aggiungono script e stili che non sono necessari per il checkout, rallentando i tempi di caricamento della pagina.

**Soluzione:** Usa le [Impostazioni di Checkout](/pos/checkout#checkout-settings-troubleshooting) per disabilitare le risorse non necessarie:

1. Clicca sul pulsante **Impostazioni di Checkout** nel modulo del checkout
2. Prova a disabilitare prima gli stili del tema:
   - wp-block-library
   - classic-theme-styles
   - Stili personalizzati del tuo tema
3. Disabilita script non essenziali di WooCommerce:
   - wc-add-to-cart
   - selectWoo (se non necessario per il tuo gateway)
   - html5shiv

<div class="image-container">
  <Image
    alt="Modulo per disabilitare tutti gli stili e script"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Modulo per disabilitare tutti gli stili e script</p>
</div>

:::warning Fai Attenzione
Non disabilitare script di cui il tuo gateway di pagamento ha bisogno. Se un metodo di pagamento smette di funzionare dopo aver disabilitato uno script, riattivalo.
:::

### 2. Interferenza dei Plugin Durante la Creazione dell'Ordine

**Problema:** I plugin che si agganciano al processo di creazione dell'ordine possono causare ritardi significativi. Ad esempio, plugin di contabilità come Xero potrebbero inviare i dati degli ordini a server esterni, bloccando il processo di checkout.

**Passaggi per la Risoluzione dei Problemi:**

1. **Test su staging** - Se hai un server di staging, disabilita tutti i plugin tranne WooCommerce e WCPOS
2. **Testa la velocità del checkout** - Elabora un ordine di prova e annota le prestazioni
3. **Riabilita i plugin gradualmente** - Se le prestazioni migliorano notevolmente, riattiva i plugin uno per uno per identificare il colpevole
4. **Contatta gli sviluppatori dei plugin** - Se un plugin specifico causa problemi, contatta lo sviluppatore per consigli sull'ottimizzazione

**Tipi di plugin problematici comuni:**
- Integrazioni di contabilità/tenuta dei registri (Xero, QuickBooks)
- Strumenti di email marketing che si attivano alla creazione dell'ordine
- Sistemi di gestione dell'inventario
- Calcolatori di spedizione complessi
- Strumenti di analisi di terze parti

### 3. Limitazioni delle Risorse del Server

**Problema:** Se il tuo server è sotto carico o manca di risorse sufficienti, tutte le operazioni, incluso il checkout, saranno lente.

**Monitoraggio e Soluzioni:**

1. **Monitora le prestazioni del server:**
   - Utilizzo della CPU durante il checkout
   - Consumo di memoria
   - Prestazioni delle query del database
   - Latenza di rete

2. **Ottimizza le risorse del server:**
   - Aumenta il limite di memoria PHP
   - Ottimizza le query del database
   - Usa plugin di caching (ma testa la compatibilità)
   - Considera l'upgrade del piano di hosting

3. **Ottimizzazione del database:**
   - Pulisci i dati degli ordini vecchi
   - Ottimizza le tabelle del database
   - Rimuovi plugin e temi non necessari

## Migliori Pratiche per Sviluppatori WordPress

:::tip Per Gli Sviluppatori
Gli sviluppatori di WordPress dovrebbero usare `wp_enqueue_scripts` per aggiungere correttamente script e stili alle pagine. Sfortunatamente, alcuni sviluppatori di plugin e temi non seguono le migliori pratiche e inseriscono codice direttamente nei template, rendendo impossibile disattivare facilmente queste risorse.
:::

Se stai riscontrando problemi con script o stili che non possono essere disabilitati tramite le Impostazioni di Checkout:

1. **Contatta lo sviluppatore** - Chiedi loro di seguire gli standard di codifica di WordPress
2. **Usa temi figlio** - Sovrascrivi i template problematici in un tema figlio
3. **Hook personalizzati** - Usa gli hook di WordPress per rimuovere codice problematico sulle pagine di checkout

## Test delle Prestazioni

Per testare i miglioramenti delle prestazioni del checkout:

1. **Misurazione di base** - Calcola quanto tempo impiega il checkout prima di apportare modifiche
2. **Apporta una modifica alla volta** - Questo aiuta a identificare quali cambiamenti hanno l'impatto maggiore
3. **Testa con gateway di pagamento reali** - Non testare solo con pagamenti in contante
4. **Testa su dispositivi diversi** - I dispositivi mobili potrebbero mostrare caratteristiche prestazionali diverse

## Risultati Veloci

Ecco i miglioramenti di prestazioni più efficaci che puoi fare:

1. **Disabilita gli stili del tema** - Spesso fornisce il miglioramento più grande
2. **Rimuovi script WooCommerce non necessari** - Riduce il tempo di esecuzione di JavaScript
3. **Audita gli hook di creazione degli ordini** - Identifica e ottimizza plugin lenti
4. **Ottimizza le immagini** - Assicurati che tutte le immagini nel checkout siano ottimizzate
5. **Usa un plugin di monitoraggio delle prestazioni** - Tieni traccia dei miglioramenti nel tempo

## Quando Chiedere Aiuto

Contatta il supporto di WCPOS se:

- Il checkout impiega oltre 10 secondi in modo costante
- Hai seguito questa guida ma continui a riscontrare problemi
- Sospetti un plugin specifico ma non riesci a identificarlo
- Hai bisogno di aiuto per ottimizzare le risorse del server

## Documentazione Correlata

- [Impostazioni di Checkout](/pos/checkout#checkout-settings-troubleshooting) - Disabilita script e stili problematici
- [Metodi di Pagamento](/payment) - Configura i gateway di pagamento per prestazioni ottimali
- [Risoluzione dei Problemi](/category/troubleshooting) - Guide generali per la risoluzione dei problemi