---
title: "Prestazioni del Checkout"
sidebar_label: "Prestazioni del Checkout"
sidebar_position: 1
description: Risolvi i tempi di checkout lenti in WCPOS analizzando i tempi di esecuzione e identificando i collo di bottiglia.
---

import Image from "@theme/IdealImage";
import LinkCards from '@site/src/components/LinkCards';
import LinkCard from '@site/src/components/LinkCard';

Se stai riscontrando prestazioni lente durante il processo di checkout, questa guida ti aiuterà a identificare e risolvere le cause più comuni.

## Come Funziona il Checkout di WCPOS

Il checkout di WCPOS apre un modale con un iframe/webview che carica una versione semplificata del modello di pagamento degli ordini di WooCommerce. Questa è essenzialmente la stessa pagina della [Pagina di Pagamento del Cliente](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link) che i clienti vedono quando pagano gli ordini online.

:::info Nota per gli Sviluppatori
Puoi visualizzare il modello di checkout nel repository del plugin WCPOS: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## Ottimizzazioni Incorporate

WCPOS include diverse ottimizzazioni per migliorare le prestazioni del checkout:

- **Modello semplificato** - Rimuove elementi e disordine inutili del tema
- **Caricamento selettivo di script/stile** - Vengono caricati solo script e stili essenziali
- **Struttura DOM minimale** - Riduce la complessità della pagina di checkout

Tuttavia, alcuni script e stili non possono essere completamente disabilitati poiché i gateway di pagamento potrebbero richiederli per funzionare correttamente.

## Problemi Comuni di Prestazioni

### 1. Script e Stili Inutili

**Problema:** Temi e plugin aggiungono script e stili non necessari per il checkout, rallentando i tempi di caricamento della pagina.

**Soluzione:** Usa le [Impostazioni di Checkout](/pos/checkout#checkout-settings-troubleshooting) per disabilitare risorse inutili:

1. Clicca il pulsante **Impostazioni di Checkout** nel modale di checkout
2. Prova prima a disabilitare gli stili del tema:
   - wp-block-library
   - classic-theme-styles
   - Gli stili personalizzati del tuo tema
3. Disabilita script di WooCommerce non essenziali:
   - wc-add-to-cart
   - selectWoo (se non necessario dal tuo gateway)
   - html5shiv

<div class="image-container">
  <Image
    alt="Modulo per disabilitare tutti gli stili e script"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Modulo per disabilitare tutti gli stili e script</p>
</div>

:::warning Fai Attenzione
Non disabilitare script richiesti dal tuo gateway di pagamento. Se un metodo di pagamento smette di funzionare dopo aver disabilitato uno script, riattivalo.
:::

### 2. Interferenza del Plugin Durante la Creazione dell'Ordine

**Problema:** I plugin che si collegano al processo di creazione dell'ordine possono causare ritardi significativi. Ad esempio, i plugin di contabilità come Xero possono inviare dati degli ordini a server esterni, bloccando il processo di checkout.

**Passi di Risoluzione dei Problemi:**

1. **Testare su staging** - Se hai un server di staging, disabilita tutti i plugin tranne WooCommerce e WCPOS
2. **Testare la velocità di checkout** - Elabora un ordine di prova e annota le prestazioni
3. **Abilitare i plugin gradualmente** - Se le prestazioni migliorano drasticamente, riattiva i plugin uno alla volta per identificare il colpevole
4. **Contattare gli sviluppatori dei plugin** - Se un plugin specifico causa problemi, contatta lo sviluppatore per consigli di ottimizzazione

**Tipi di plugin problematici comuni:**
- Integrazioni di contabilità/gestione (Xero, QuickBooks)
- Strumenti di email marketing che si attivano alla creazione dell'ordine
- Sistemi di gestione dell'inventario
- Calcolatori di spedizione complessi
- Strumenti di analisi di terze parti

### 3. Limitazioni delle Risorse del Server

**Problema:** Se il tuo server è sotto carico o privo di risorse sufficienti, tutte le operazioni inclusa la checkout saranno lente.

**Monitoraggio e Soluzioni:**

1. **Monitorare le prestazioni del server:**
   - Utilizzo della CPU durante il checkout
   - Consumo di memoria
   - Prestazioni delle query del database
   - Latenza di rete

2. **Ottimizzare le risorse del server:**
   - Aumentare il limite di memoria PHP
   - Ottimizzare le query del database
   - Utilizzare plugin di caching (ma testare la compatibilità)
   - Considerare di aggiornare il piano di hosting

3. **Ottimizzazione del database:**
   - Pulire i dati degli ordini vecchi
   - Ottimizzare le tabelle del database
   - Rimuovere plugin e temi non necessari

## Migliori Pratiche per Sviluppatori WordPress

:::tip Per gli Sviluppatori
Gli sviluppatori WordPress dovrebbero utilizzare `wp_enqueue_scripts` per aggiungere correttamente script e stili alle pagine. Sfortunatamente, alcuni sviluppatori di plugin e temi non seguono le migliori pratiche e inseriscono codice direttamente nei template, rendendo impossibile disattivare facilmente queste risorse.
:::

Se stai riscontrando problemi con script o stili che non possono essere disabilitati tramite le Impostazioni di Checkout:

1. **Contattare lo sviluppatore** - Chiedi loro di seguire gli standard di codifica di WordPress
2. **Utilizzare temi child** - Sostituire template problematici in un tema child
3. **Hook personalizzati** - Utilizzare gli hook di WordPress per rimuovere codice problematico sulle pagine di checkout

## Test delle Prestazioni

Per testare i miglioramenti delle prestazioni del checkout:

1. **Misurazione di base** - Misura quanto tempo impiega il checkout prima di apportare modifiche
2. **Effettua una modifica alla volta** - Questo aiuta a identificare quali modifiche hanno il maggiore impatto
3. **Test con gateway di pagamento reali** - Non testare solo con pagamenti in contante
4. **Test su dispositivi diversi** - I dispositivi mobili potrebbero mostrare caratteristiche di prestazione diverse

## Risultati Rapidi

Ecco le miglioramenti alle prestazioni più efficaci che puoi apportare:

1. **Disabilitare gli stili del tema** - Spesso fornisce il miglioramento più grande
2. **Rimuovere script WooCommerce non necessari** - Riduce il tempo di esecuzione di JavaScript
3. **Audit degli hook di creazione dell'ordine** - Identificare e ottimizzare plugin lenti
4. **Ottimizzare le immagini** - Assicurati che le immagini nel checkout siano ottimizzate
5. **Utilizzare un plugin di monitoraggio delle prestazioni** - Tracciare i miglioramenti nel tempo

## Quando Chiedere Aiuto

Contatta il supporto WCPOS se:

- Il checkout impiega costantemente più di 10 secondi
- Hai seguito questa guida ma riscontri ancora problemi
- Sospetti un plugin specifico ma non riesci a identificarlo
- Hai bisogno di aiuto per ottimizzare le risorse del server

## Documentazione Correlata

<LinkCards>
  <LinkCard to="/pos/checkout#checkout-settings-troubleshooting" title="Impostazioni di Checkout" description="Disabilita script e stili problematici" />
  <LinkCard to="/payment" title="Metodi di Pagamento" description="Configura i gateway di pagamento per prestazioni ottimali" />
  <LinkCard to="/category/troubleshooting" title="Risoluzione dei Problemi" description="Guide generali per la risoluzione dei problemi" />
</LinkCards>