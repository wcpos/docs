---
title: Finalizar Compra
sidebar_label: Finalizar Compra
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Cuando estés listo para completar una venta, haz clic en el botón **Finalizar Compra** para abrir el modal de checkout. Aquí es donde procesas el pago y completas el pedido.

{/* Screenshot: checkout-modal.png */}

## Resumen del Modal de Finalización de Compra

El modal de checkout muestra:

- **Número de Pedido** - La ID de pedido de WooCommerce
- **Amount to Pay** - Total adeudado
- Botón **Checkout Settings** - Solucionar problemas de visualización
- **Cajero** - Quién está procesando el pedido
- **Customer** - El cliente para este pedido (enlace clickeable)
- **Campo de código de cupón** - Aplicar códigos de descuento
- **Resumen del Pedido** - Productos, cantidades y totales
- **Métodos de Pago** - Opciones de pago disponibles
- Botones de **Cancel / Process Payment**

## Métodos de Pago

### Disponibles en la Versión Gratuita

La versión gratuita de WCPOS incluye dos pasarelas de pago:

- **Cash** - Con Amount Tendered y calculadora de cambio
- **Card** - Para terminales de tarjeta externos

### Pasarelas Adicionales (Pro)

:::info Función Pro
Las pasarelas de pago adicionales requieren [WCPOS Pro](/getting-started/pro-license).
:::

Con Pro, puedes habilitar:

- **Stripe Terminal** - Integración directa con lectores de tarjetas Stripe
- **SumUp Terminal** - Integración con lectores de tarjetas SumUp
- **Custom Gateways** - Crea tus propias integraciones de pago

Consulta [Payment](/payment) para detalles sobre la configuración de pasarelas.

### Seleccionando un Método de Pago

Haz clic en un método de pago para seleccionarlo. El formulario se actualiza para mostrar los campos relevantes:

**Cash:**

- **Amount Tendered** - Ingresa el monto que el cliente te entrega
- **Change** - Cambio calculado automáticamente a devolver

{/* Screenshot: checkout-cash-payment.png */}

**Card:**

- Procesa el pago en tu terminal de tarjeta externo
- Haz clic en Process Payment para completar

## Códigos de Cupón

Para aplicar un descuento:

1. Ingresa el código del cupón en el campo
2. Haz clic en **Apply coupon**
3. El descuento aparece en el resumen del pedido

Los cupones deben estar configurados en WooCommerce (`WP Admin > Marketing > Coupons`).

## Procesando el Pago

1. Selecciona un método de pago
2. Para efectivo, ingresa el Amount Tendered
3. Haz clic en **Process Payment**
4. El pedido se completa y se muestra el [receipt](/pos/checkout/receipts)

## Configuraciones de Finalización de Compra (Solución de Problemas)

El modal de checkout utiliza un iframe/webview para mostrar la página de WooCommerce Order Pay. Esto aprovecha la infraestructura de pago existente de WooCommerce, lo que significa que cualquier pasarela de pago que funcione con WooCommerce debería funcionar en el POS.

Sin embargo, los scripts de temas y plugins a veces pueden interferir. Haz clic en **Checkout Settings** para solucionar problemas:

<div class="image-container">
  <Image
    alt="Checkout Settings en el Modal de Checkout"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Checkout Settings en el Modal de Checkout</p>
</div>

<div class="image-container">
  <Image
    alt="Formulario para deshabilitar todos los estilos y scripts"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formulario para deshabilitar todos los estilos y scripts</p>
</div>

### Deshabilitar Todos los Estilos y Scripts

:::warning Opción Nuclear
Esta es la opción nuclear y solo debe ser utilizada para pruebas o en raras ocasiones donde el desarrollador sabe lo que está haciendo. Deshabilitar todos los scripts wp_head eliminará incluso los scripts de WooCommerce necesarios para expandir/contraer las pasarelas de pago, pudiendo romper la funcionalidad de pago.
:::

- **Disable wp_head** - Elimina todos los scripts/styles del encabezado de WordPress
- **Disable wp_footer** - Elimina todos los scripts/styles del pie de página de WordPress

### Deshabilitar Estilos Seleccionados

Deshabilitar selectivamente CSS que puede causar problemas de visualización:

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- etc.

### Deshabilitar Scripts Seleccionados

Deshabilitar selectivamente JavaScript que puede interferir con las pasarelas de pago:

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- etc.

:::tip
Si una pasarela de pago no se muestra correctamente:

1. Intenta deshabilitar los estilos del tema primero
2. Luego intenta deshabilitar los scripts de WooCommerce que no son necesarios
3. Ten cuidado de no deshabilitar scripts requeridos por tu pasarela de pago
:::

## Cancelar

Haz clic en **Cancel** para cerrar el modal de checkout sin completar el pedido. El pedido permanece como un carrito abierto.

## Documentación Relacionada

- [Receipts](/pos/checkout/receipts) - Después de checkout, imprime o envía por correo los recibos
- [Payment Methods](/payment) - Configura las pasarelas de pago
- [Custom Gateways](/payment/custom-gateways) - Crea integraciones de pago personalizadas

---