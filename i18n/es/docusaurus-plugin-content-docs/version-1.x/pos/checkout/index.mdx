---
title: "Finalizar compra"
sidebar_label: "Finalizar compra"
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Cuando estés listo para completar una venta, haz clic en el botón **Finalizar compra** para abrir el modal de finalizar compra. Aquí es donde procesas el pago y completas el pedido.

{/* Screenshot: checkout-modal.png */}

## Visión General del Modal de Finalizar Compra

El modal de finalizar compra muestra:

- **Número de pedido** - La ID de pedido de WooCommerce
- **Monto a Pagar** - Total a pagar
- **Botón de Configuración de Finalizar Compra** - Solucionar problemas de visualización
- **Cajero** - Quién está procesando el pedido
- **Cliente** - El cliente de este pedido (enlace clickable)
- **Campo de código de cupón** - Aplicar códigos de descuento
- **Resumen del pedido** - Productos, cantidades y totales
- **Métodos de pago** - Opciones de pago disponibles
- **Cancelar / Procesar Pago** botones

## Métodos de Pago

### Disponibles en la Versión Gratuita

La versión gratuita de WCPOS incluye dos pasarelas de pago:

- **Efectivo** - Con monto entregado y calculadora de cambio
- **Tarjeta** - Para terminales de tarjeta externos

### Pasarelas Adicionales (Pro)

:::info Característica Pro
Las pasarelas de pago adicionales requieren [WCPOS Pro](/getting-started/pro-license).
:::

Con Pro, puedes habilitar:

- **Terminal de Stripe** - Integración directa con lectores de tarjetas Stripe
- **Terminal de SumUp** - Integración con lectores de tarjetas SumUp
- **Pasarelas Personalizadas** - Crea tus propias integraciones de pago

Consulta [Pago](/payment) para detalles sobre cómo configurar pasarelas.

### Seleccionar un Método de Pago

Haz clic en un método de pago para seleccionarlo. El formulario se actualiza para mostrar los campos relevantes:

**Efectivo:**
- **Monto Entregado** - Ingresa el monto que el cliente te da
- **Cambio** - Cambio automáticamente calculado a devolver

{/* Screenshot: checkout-cash-payment.png */}

**Tarjeta:**
- Procesa el pago en tu terminal de tarjeta externa
- Haz clic en Procesar Pago para completar

## Códigos de Cupón

Para aplicar un descuento:

1. Ingresa el código de cupón en el campo
2. Haz clic en **Aplicar cupón**
3. El descuento aparecerá en el resumen del pedido

Los cupones deben configurarse en WooCommerce (`WP Admin > Marketing > Cupones`).

## Procesando el Pago

1. Selecciona un método de pago
2. Para efectivo, ingresa el monto entregado
3. Haz clic en **Procesar Pago**
4. El pedido se completa y se muestra el [resguardo](/pos/checkout/receipts)

## Configuración de Finalizar Compra (Solución de Problemas)

El modal de finalizar compra utiliza un iframe/webview para mostrar la página de pago de pedido de WooCommerce. Esto aprovecha la infraestructura de pago existente de WooCommerce, lo que significa que cualquier pasarela de pago que funcione con WooCommerce debería funcionar en el POS.

Sin embargo, los scripts del tema y de los plugins a veces pueden interferir. Haz clic en **Configuración de Finalizar Compra** para solucionar problemas:

{/* Screenshot: checkout-settings.png */}

### Desactivar Todos los Estilos y Scripts

- **Desactivar wp_head** - Elimina todos los scripts/estilos del encabezado de WordPress
- **Desactivar wp_footer** - Elimina todos los scripts/estilos del pie de página de WordPress

### Desactivar Estilos Seleccionados

Desactiva selectivamente el CSS que puede causar problemas de visualización:

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- etc.

### Desactivar Scripts Seleccionados

Desactiva selectivamente el JavaScript que puede interferir con las pasarelas de pago:

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- etc.

:::tip
Si una pasarela de pago no se muestra correctamente:
1. Intenta desactivar primero los estilos del tema
2. Luego intenta desactivar los scripts de WooCommerce que no sean necesarios
3. Ten cuidado de no desactivar scripts requeridos por tu pasarela de pago
:::

## Cancelar

Haz clic en **Cancelar** para cerrar el modal de finalizar compra sin completar el pedido. El pedido permanece como un carrito abierto.

## Documentación Relacionada

- [Resguardos](/pos/checkout/receipts) - Después de finalizar la compra, imprime o envía por correo los resguardos
- [Métodos de Pago](/payment) - Configura las pasarelas de pago
- [Pasarelas Personalizadas](/payment/custom-gateways) - Crea integraciones de pago personalizadas