---
title: Órdenes Abiertas
sidebar_label: Órdenes Abiertas
sidebar_position: 3
---

WCPOS te permite trabajar con múltiples órdenes simultáneamente. Esto es útil para manejar retenciones de clientes, cambiar entre transacciones y recuperarte de interrupciones.

## Carrusel de Órdenes Abiertas

En la parte inferior del Panel de Carrito, un carrusel horizontal muestra todas las órdenes abiertas:

{/* Screenshot: open-orders-carousel.png */}

- Cada carrito muestra su **monto total**
- La **orden actual** está resaltada
- Haz clic en cualquier carrito para cambiar a él
- Desplázate hacia la izquierda/derecha para ver más carritos

## Creando una Nueva Orden

Siempre hay disponible un carrito vacío. Simplemente haz clic en un carrito vacío en el carrusel o comienza a agregar productos cuando el carrito actual esté vacío.

## Cambio entre Órdenes

Haz clic en cualquier orden en el carrusel para cambiar a ella. El Panel de Carrito se actualiza para mostrar los contenidos de la orden seleccionada.

**Casos de uso:**

- El cliente se aleja para conseguir otro artículo
- Necesitas ayudar a un cliente rápido mientras se procesa una gran orden
- Comparando precios o artículos entre órdenes

## Guardado de Órdenes en Servidor

Las órdenes existen en dos estados:

### Solo Local

Por defecto, las nuevas órdenes se almacenan solo en la base de datos local del navegador/aplicación. Persistirán a través de las actualizaciones de página, pero:

- No son visibles en el admin de WooCommerce
- Se perderán si la base de datos local se borra
- No son accesibles desde otros dispositivos

### Guardadas en el Servidor

Haz clic en **Guardar en el Servidor** para crear una orden de WooCommerce con el estado `pos-open`. Esto:

- Crea una orden real en WooCommerce
- Persiste incluso si la base de datos local se borra
- Puede ser accedida desde otros dispositivos
- Aparece en WP Admin > WooCommerce > Órdenes

:::tip Cuándo Guardar
Guarda las órdenes en el servidor cuando:
- Un cliente quiere retener una orden para recoger más tarde
- Estás terminando tu turno y otro cajero continuará
- Quieres una copia de seguridad en caso de problemas con la aplicación/navegador
:::

## Recuperación de Órdenes Guardadas

Si has guardado órdenes en el servidor, puedes acceder a ellas nuevamente al:

1. Abrir la pantalla de **Órdenes** (función Pro)
2. Filtrar por estado `pos-open`
3. Reabrir la orden

## Persistencia de Órdenes

### Almacenamiento Local

WCPOS utiliza IndexedDB para almacenar órdenes localmente. Esto proporciona:

- Persistencia a través de sesiones de navegador
- Acceso rápido sin solicitudes de red
- Capacidad fuera de línea

### Sincronización con el Servidor

Cuando guardas en el servidor o realizas el pago:

- La orden se envía a WooCommerce
- Se recibe una confirmación
- Se sincronizan los datos locales y del servidor

## Anulación de Órdenes

Para eliminar una orden abierta:

1. Cambia a la orden que deseas eliminar
2. Haz clic en el botón **Anular**

**Qué sucede:**

- **Órdenes no guardadas:** Eliminadas permanentemente de la base de datos local
- **Órdenes guardadas:** Movidas a la papelera en WooCommerce y eliminadas localmente

Para recuperar una orden guardada anulada:
1. Ve a `WP Admin > WooCommerce > Órdenes > Papelera`
2. Restaura la orden

## Consejos

### Mantén las Órdenes Organizadas

Con múltiples órdenes abiertas, ayuda a:

- Agregar nombres de clientes a las órdenes para una fácil identificación
- Agregar notas a las órdenes describiendo la razón de la retención
- Guardar órdenes importantes en el servidor

### Cambio de Turno

Al terminar un turno con órdenes abiertas:

1. Guarda todas las órdenes importantes en el servidor
2. Agrega notas a las órdenes explicando el estado
3. El siguiente cajero puede acceder a ellas desde la pantalla de Órdenes

### Consideraciones Fuera de Línea

Si pierdes conectividad:

- Las órdenes locales permanecen accesibles y puedes continuar agregando artículos
- No puedes completar/realizar el pago de las órdenes hasta que se restablezca la conectividad
- No puedes guardar órdenes en el servidor hasta que te reconectes
- No puedes crear nuevos clientes hasta que te reconectes

---