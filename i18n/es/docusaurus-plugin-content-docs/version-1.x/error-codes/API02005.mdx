---
title: "API02005: Permisos Insuficientes"
sidebar_label: API02005
---

# API02005: Permisos Insuficientes

## Qué Significa

Su cuenta de usuario carece de las capacidades específicas de WordPress necesarias para esta acción. Aunque tiene acceso básico, la operación específica que está intentando requiere permisos adicionales.

## Causas Comunes

- **Rol de usuario limitado** — Su rol no incluye todas las capacidades necesarias
- **Capacidad no asignada** — Falta una capacidad específica en su rol
- **Restricciones de plugins** — Un plugin de seguridad está limitando capacidades
- **Problemas con roles personalizados** — Los roles personalizados pueden carecer de capacidades

## Mapeo de Errores del Servidor

Este código de error se activa cuando el servidor devuelve:

| Código del Servidor | Fuente |
|-------------|--------|
| `rest_forbidden` | API REST de WordPress |
| `rest_cannot_create` | API REST de WordPress |
| `rest_cannot_edit` | API REST de WordPress |
| `rest_cannot_delete` | API REST de WordPress |
| `woocommerce_rest_cannot_create` | API REST de WooCommerce |
| `woocommerce_rest_cannot_edit` | API REST de WooCommerce |
| `woocommerce_rest_cannot_delete` | API REST de WooCommerce |
| HTTP 403 | Cualquier respuesta del servidor (alternativa) |

## Cómo Solucionarlo

### 1. Revisar Capacidades Requeridas

Capacidades comunes necesarias para operaciones de POS:
- `manage_woocommerce` — Gestión general de WooCommerce
- `edit_shop_orders` — Crear y editar pedidos
- `edit_products` — Modificar información de productos
- `edit_users` — Gestionar cuentas de clientes

### 2. Actualizar Rol de Usuario

Pida a un administrador que asigne un rol con más capacidades:
- **Gerente de Tienda** — Acceso completo a WooCommerce
- **Administrador** — Acceso completo al sitio

### 3. Agregar Capacidades Específicas

Si necesita un rol personalizado, agregue las capacidades requeridas:

```php
// Ejemplo: Agregar capacidades de POS a un rol personalizado
$role = get_role('su_rol_personalizado');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. Verificar Conflictos de Plugins

Algunos plugins de seguridad o gestión de roles pueden restringir capacidades:
- Revisar configuraciones de plugins
- Verificar filtros de capacidades
- Deshabilitar temporalmente para probar

## Errores Relacionados

- [API02004](./API02004) — Usuario No Autorizado
- [API02010](./API02010) — Autenticación Requerida