---
title: "API02005: Permisos Insuficientes"
sidebar_label: API02005
---

# API02005: Permisos Insuficientes {#api02005-insufficient-permissions}

## Lo Que Esto Significa {#what-this-means}

Tu cuenta de usuario carece de las capacidades específicas de WordPress requeridas para esta acción. Aunque tienes acceso básico, la operación particular que estás intentando necesita permisos adicionales.

## Causas Comunes {#common-causes}

- **Rol de usuario limitado** — Tu rol no incluye todas las capacidades necesarias
- **Capacidad no asignada** — Falta una capacidad específica en tu rol
- **Restricciones de plugins** — Un plugin de seguridad está limitando capacidades
- **Problemas de roles personalizados** — Los roles personalizados pueden carecer de capacidades

## Mapeo de Errores del Servidor {#server-error-mapping}

Este código de error se activa cuando el servidor devuelve:

| Código del Servidor | Fuente |
|---------------------|--------|
| `rest_forbidden`    | WordPress REST API |
| `rest_cannot_create`| WordPress REST API |
| `rest_cannot_edit`  | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403            | Cualquier respuesta del servidor (fallback) |

## Cómo Solucionar {#how-to-fix}

### 1. Revisa las Capacidades Requeridas {#1-review-required-capabilities}

Capacidades comunes necesarias para operaciones POS:
- `manage_woocommerce` — Gestión general de WooCommerce
- `edit_shop_orders` — Crear y editar pedidos
- `edit_products` — Modificar información de productos
- `edit_users` — Gestionar cuentas de clientes

### 2. Mejorar el Rol del Usuario {#2-upgrade-user-role}

Pide a un administrador que asigne un rol más capaz:
- **Shop Manager** — Acceso completo a WooCommerce
- **Administrador** — Acceso completo al sitio

### 3. Añadir Capacidades Específicas {#3-add-specific-capabilities}

Si necesitas un rol personalizado, añade las capacidades requeridas:

```php
// Ejemplo: Añadir capacidades POS a un rol personalizado
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. Verifica Conflictos de Plugins {#4-check-plugin-conflicts}

Algunos plugins de seguridad o gestión de roles pueden restringir capacidades:
- Revisa la configuración de los plugins
- Verifica filtros de capacidades
- Desactiva temporalmente para probar

## Errores Relacionados {#related-errors}

- [API02004](./API02004) — Usuario No Autorizado
- [API02010](./API02010) — Autenticación Requerida

---