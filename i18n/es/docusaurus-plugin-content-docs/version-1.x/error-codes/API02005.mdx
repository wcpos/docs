---
title: "API02005: Permisos Insuficientes"
sidebar_label: API02005
---

# API02005: Permisos Insuficientes

## Lo Que Esto Significa

Tu cuenta de usuario carece de las capacidades específicas de WordPress requeridas para esta acción. Aunque tienes acceso básico, la operación particular que intentas realizar necesita permisos adicionales.

## Causas Comunes

- **Rol de usuario limitado** — Tu rol no incluye todas las capacidades necesarias
- **Capacidad no asignada** — Falta una capacidad específica en tu rol
- **Restricciones de plugins** — Un plugin de seguridad está limitando capacidades
- **Problemas de roles personalizados** — Los roles personalizados pueden carecer de capacidades

## Mapeo de Errores del Servidor

Este código de error se activa cuando el servidor devuelve:

| Código del Servidor | Fuente |
|---------------------|--------|
| `rest_forbidden`    | WordPress REST API |
| `rest_cannot_create`| WordPress REST API |
| `rest_cannot_edit`  | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403            | Cualquier respuesta del servidor (fallback) |

## Cómo Resolver

### 1. Revisa las Capacidades Requeridas

Capacidades comunes necesarias para operaciones POS:
- `manage_woocommerce` — Gestión general de WooCommerce
- `edit_shop_orders` — Crear y editar pedidos
- `edit_products` — Modificar información de productos
- `edit_users` — Gestionar cuentas de clientes

### 2. Actualiza el Rol del Usuario

Pide a un administrador que asigne un rol más capaz:
- **Gerente de Tienda** — Acceso completo a WooCommerce
- **Administrador** — Acceso completo al sitio

### 3. Añadir Capacidades Específicas

Si necesitas un rol personalizado, añade las capacidades requeridas:

```php
// Example: Add POS capabilities to a custom role
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. Verifica Conflictos de Plugins

Algunos plugins de seguridad o gestión de roles pueden restringir capacidades:
- Revisa la configuración de los plugins
- Verifica filtros de capacidades
- Desactiva temporalmente para probar

## Errores Relacionados

- [API02004](./API02004) — Usuario No Autorizado
- [API02010](./API02010) — Autenticación Requerida