---
title: "API04001: Formato de Respuesta Inválido"
sidebar_label: API04001
---

# API04001: Formato de Respuesta Inválido {#api04001-invalid-response-format}

## Qué Significa Esto {#what-this-means}

El servidor respondió, pero el formato de la respuesta no es el que el POS esperaba. El servidor debería devolver datos JSON, pero se recibió otra cosa.

## Causas Comunes {#common-causes}

- **Error de PHP mostrado** — Se está mostrando un error de PHP antes de JSON
- **Conflicto de plugins** — Otro plugin está mostrando contenido
- **Modo de mantenimiento** — El sitio está mostrando una página de mantenimiento
- **Tipo de contenido incorrecto** — El servidor está enviando HTML en lugar de JSON
- **Problema de caché** — Se está sirviendo una página de error en caché

## Cómo Solucionarlo {#how-to-fix}

### 1. Verifica Tu Sitio {#1-check-your-site}

Visita tu sitio de WordPress en un navegador:
- ¿Se está mostrando normalmente?
- ¿Hay errores visibles?
- ¿Está en modo de mantenimiento?

### 2. Busca Errores de PHP {#2-check-for-php-errors}

En `wp-config.php`, habilita temporalmente la depuración:

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('WP_DEBUG_DISPLAY', false);
```

Verifica `wp-content/debug.log` en busca de errores.

### 3. Prueba la API REST Directamente {#3-test-the-rest-api-directly}

Visita `https://tusitio.com/wp-json/` en tu navegador:
- Debería devolver datos JSON
- Si ves HTML o errores, hay un problema
- Verifica la salida relacionada con los plugins

### 4. Desactivar Caché Temporalmente {#4-disable-caching-temporarily}

Los plugins de caché pueden servir respuestas obsoletas:
- Limpia todas las cachés
- Desactiva temporalmente los plugins de caché
- Excluye la API REST de la caché

### 5. Verifica Conflictos de Plugins {#5-check-for-plugin-conflicts}

Si un plugin muestra contenido en cada página:
1. Desactiva todos los plugins no esenciales
2. Prueba el POS
3. Vuelve a habilitar los plugins uno por uno

## Errores Relacionados {#related-errors}

- [API04003](./API04003) — Respuesta JSON Malformada
- [API05005](./API05005) — Plugin No Encontrado

---