---
title: Plantillas de Recibo
sidebar_label: Plantillas de Recibo
sidebar_position: 1
---

El editor de plantillas de recibo te permite personalizar la apariencia y el contenido de los recibos impresos desde tu sistema POS. Puedes acceder al editor de plantillas navegando a: `WP Admin > POS > Plantillas`

## Visión General

El sistema de plantillas proporciona dos tipos de plantillas:

- **Plantillas Predeterminadas**: Detectadas automáticamente de los archivos de tu plugin y tema. Estas no se pueden eliminar, pero se pueden copiar para crear versiones personalizadas.
- **Plantillas Personalizadas**: Plantillas creadas por el usuario que puedes personalizar, editar y gestionar completamente.

## Accediendo al Editor de Plantillas

1. Navega a tu panel de administración de WordPress
2. Ve a **POS > Plantillas**
3. Verás una lista de plantillas disponibles organizadas en dos secciones:
   - **Plantillas Predeterminadas** (de archivos de plugin/tema)
   - **Plantillas Personalizadas** (tus creaciones personalizadas)

## Plantillas Predeterminadas

El sistema detecta automáticamente las plantillas de recibo de tres fuentes:

### Fuentes de Plantillas

| Fuente         | Descripción                                         | Estado                               |
| -------------- | --------------------------------------------------- | ------------------------------------ |
| **Plugin**     | Plantilla de recibo principal incluida con WooCommerce POS | Siempre disponible                     |
| **Plugin Pro** | Plantilla mejorada de WooCommerce POS Pro          | Disponible con licencia activa       |
| **Tema**      | Plantilla personalizada de tu tema activo              | Disponible si el tema incluye plantilla |

### Acciones de Plantilla

Para cada plantilla predeterminada, puedes:

- **Vista Previa**: Ver cómo se ve la plantilla con datos de muestra
- **Copiar**: Crear una copia personalizada que puedes editar
- **Activar**: Establecerla como la plantilla activa para tu POS

## Creando Plantillas Personalizadas

### Método 1: Copiar de una Plantilla Predeterminada

1. En la sección de **Plantillas Predeterminadas**, encuentra la plantilla que deseas personalizar
2. Haz clic en el botón **Copiar**
3. Ingresa un nombre para tu plantilla personalizada
4. Haz clic en **Copiar Plantilla**
5. Edita la plantilla personalizada recién creada

### Método 2: Crear desde Cero

1. Haz clic en **Agregar Nueva Plantilla** en la parte superior de la página
2. Ingresa un nombre de plantilla
3. Selecciona **Recibo** como el tipo de plantilla
4. Comienza a codificar tu plantilla en el editor

## Características del Editor de Plantillas

El editor de plantillas proporciona:

### Editor de Código

- **Resaltado de Sintaxis**: Resaltado de sintaxis de PHP para una mejor legibilidad del código
- **Números de Línea**: Navegación y depuración fáciles
- **Edición a Pantalla Completa**: Entorno de edición sin distracciones

### Panel de Configuración de Plantillas

- **Idioma**: Establecer en PHP para un resaltado de sintaxis adecuado
- **Tipo de Plantilla**: Elegir entre plantillas de Recibo o Informe
- **Estado**: Gestión del estado Publicar/Borrador
- **Visibilidad**: Controlar la visibilidad de la plantilla

### Acciones de Plantilla

- **Vista Previa**: Ver cómo se renderiza tu plantilla con datos de muestra
- **Establecer como Activa**: Hacer que esta plantilla sea la predeterminada para tu POS
- **Actualizar**: Guardar tus cambios
- **Mover a la Papelera**: Eliminar plantillas personalizadas

## Estructura de la Plantilla

Las plantillas de recibo son archivos PHP que generan salida HTML. Aquí está la estructura básica:

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Tus estilos CSS personalizados */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Agrega más estilos según sea necesario */
    </style>
</head>
<body>
    <!-- Tu contenido de recibo -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Detalles del pedido, artículos, totales, etc. -->

</body>
</html>
```

## Variables de Plantilla Disponibles

Al crear plantillas personalizadas, tienes acceso a varias funciones y datos de WordPress y WooCommerce:

### Información de la Tienda

- `get_bloginfo( 'name' )` - Nombre de la tienda
- `get_bloginfo( 'description' )` - Lema de la tienda
- `get_bloginfo( 'url' )` - URL de la tienda

### Datos del Pedido

Los datos del pedido actual están disponibles a través de las funciones estándar de pedido de WooCommerce cuando se renderiza la plantilla.

### Funciones de WCPOS

Puedes utilizar funciones específicas de WCPOS (prefijadas con `wcpos_`) para acceder a datos y funcionalidad relacionada con el POS.

## Mejores Prácticas

### Desarrollo de Plantillas

1. **Comienza con una Copia**: Siempre comienza copiando una plantilla predeterminada en lugar de crear desde cero
2. **Prueba Exhaustivamente**: Usa la función de vista previa para probar tu plantilla antes de activarla
3. **Mantén Copias de Seguridad**: Exporta tus plantillas personalizadas o guarda copias de tu código
4. **Compatible con Móviles**: Asegúrate de que tus plantillas funcionen bien en diferentes tamaños de pantalla

### Calidad del Código

1. **Valida HTML**: Asegúrate de que tu HTML esté bien formado
2. **Escapa la Salida**: Usa funciones de escape de WordPress para mayor seguridad
3. **Manejo de Errores**: Incluye una verificación de errores adecuada en tu código PHP
4. **Comentarios**: Documenta tus personalizaciones para futuras referencias

### Rendimiento

1. **Optimiza CSS**: Mantén los estilos mínimos y eficientes
2. **Minimiza PHP**: Evita la lógica compleja en las plantillas
3. **Prueba de Impresión**: Verifica que las plantillas funcionen bien con tus impresoras de recibos

## Solución de Problemas

### Problemas Comunes

**La Plantilla No Muestra Cambios**

- Asegúrate de haber hecho clic en "Actualizar" para guardar tus cambios
- Verifica que la plantilla esté configurada como "Activa"
- Limpia cualquier plugin de caché

**Errores de Sintaxis**

- Usa el resaltado de sintaxis para identificar problemas
- Verifica que no falten puntos y comas, corchetes o comillas
- Valida tu sintaxis PHP

**Problemas de Estilo**

- Prueba tu CSS en modo de vista previa
- Asegúrate de que los estilos sean compatibles con las impresoras de recibos
- Mantén en mente los principios de diseño apto para impresión

**Plantilla No Disponible**

- Verifica que el tipo de plantilla esté configurado como "Recibo"
- Asegúrate de que el estado de la plantilla sea "Publicado"
- Verifica que tengas los permisos adecuados

### Obtener Ayuda

Si encuentras problemas con la personalización de plantillas:

1. Revisa la vista previa de la plantilla en busca de mensajes de error
2. Consulta el registro de depuración de WordPress para errores PHP
3. Prueba con una copia de la plantilla predeterminada primero
4. **Asistencia de IA**: Herramientas modernas de IA como [Gemini](https://gemini.google.com), ChatGPT y Claude son excelentes para ayudar con plantillas simples de WordPress como estas. Puedes pegar tu código de plantilla y describir lo que deseas lograr.
5. Consulta la documentación de WooCommerce POS para personalizaciones avanzadas

## Personalización Avanzada

Para usuarios avanzados que necesitan más control sobre las plantillas de recibo:

### Integración de Tema

Puedes anular la plantilla predeterminada colocando un archivo `receipt.php` personalizado en tu tema:

```
your-theme/woocommerce-pos/receipt.php
```

### Hooks y Filtros

WooCommerce POS proporciona varios hooks y filtros para la personalización de plantillas. Consulta la documentación del desarrollador para las opciones disponibles.

### Campos Personalizados

Puedes incluir campos de pedido personalizados, atributos de producto y otros metadatos en tus plantillas de recibo utilizando las funciones adecuadas de WordPress y WooCommerce.

---