---
title: "Plantillas de Recibos"
sidebar_label: "Plantillas de Recibos"
sidebar_position: 1
---

El editor de Plantillas de Recibos te permite personalizar la apariencia y contenido de los recibos impresos desde tu sistema POS. Puedes acceder al editor de plantillas navegando a: `WP Admin > POS > Plantillas`

## Descripción General

El sistema de plantillas proporciona dos tipos de plantillas:

- **Plantillas Predeterminadas**: Detectadas automáticamente desde los archivos de tu plugin y tema. Estas no se pueden eliminar, pero se pueden copiar para crear versiones personalizadas.
- **Plantillas Personalizadas**: Plantillas creadas por el usuario que puedes personalizar, editar y gestionar completamente.

## Accediendo al Editor de Plantillas

1. Navega a tu panel de administración de WordPress
2. Ve a **POS > Plantillas**
3. Verás una lista de plantillas disponibles organizadas en dos secciones:
   - **Plantillas Predeterminadas** (de archivos de plugin/tema)
   - **Plantillas Personalizadas** (tus creaciones personalizadas)

## Plantillas Predeterminadas

El sistema detecta automáticamente las plantillas de recibos de tres fuentes:

### Fuentes de Plantillas

| Fuente         | Descripción                                         | Estado                               |
| -------------- | --------------------------------------------------- | ------------------------------------ |
| **Plugin**     | Plantilla de recibo incluida con WooCommerce POS     | Siempre disponible                   |
| **Plugin Pro** | Plantilla mejorada de WooCommerce POS Pro            | Disponible con licencia activa       |
| **Tema**       | Plantilla personalizada de tu tema activo           | Disponible si el tema incluye plantilla |

### Acciones de Plantilla

Para cada plantilla predeterminada, puedes:

- **Previsualizar**: Ver cómo se ve la plantilla con datos de muestra
- **Copiar**: Crear una copia personalizada que puedas editar
- **Activar**: Establecer como la plantilla activa para tu POS

## Creando Plantillas Personalizadas

### Método 1: Copiar de una Plantilla Predeterminada

1. En la sección **Plantillas Predeterminadas**, encuentra la plantilla que deseas personalizar
2. Haz clic en el botón **Copiar**
3. Ingresa un nombre para tu plantilla personalizada
4. Haz clic en **Copiar Plantilla**
5. Edita la plantilla personalizada recién creada

### Método 2: Crear desde Cero

1. Haz clic en **Agregar Nueva Plantilla** en la parte superior de la página
2. Ingresa un nombre para la plantilla
3. Selecciona **Recibo** como tipo de plantilla
4. Comienza a codificar tu plantilla en el editor

## Características del Editor de Plantillas

El editor de plantillas proporciona:

### Editor de Código

- **Resaltado de Sintaxis**: Resaltado de sintaxis PHP para una mejor legibilidad del código
- **Números de Línea**: Navegación y depuración fáciles
- **Edición a Pantalla Completa**: Entorno de edición sin distracciones

### Panel de Configuración de Plantillas

- **Idioma**: Establecido en PHP para un correcto resaltado de sintaxis
- **Tipo de Plantilla**: Elige entre plantillas de Recibo o Informe
- **Estado**: Gestión del estado de Publicado/Borrador
- **Visibilidad**: Control de la visibilidad de la plantilla

### Acciones de Plantilla

- **Previsualizar**: Ver cómo se renderiza tu plantilla con datos de muestra
- **Establecer como Activa**: Hacer que esta plantilla sea la predeterminada para tu POS
- **Actualizar**: Guardar tus cambios
- **Mover a la Papelera**: Eliminar plantillas personalizadas

## Estructura de la Plantilla

Las plantillas de recibo son archivos PHP que generan salida HTML. Aquí está la estructura básica:

```php
<?php
/**
 * Custom Receipt Template
 */

if ( ! defined( 'ABSPATH' ) ) {
    exit; // Exit if accessed directly
}
?>
<!DOCTYPE html>
<html <?php language_attributes(); ?>>
<head>
    <meta charset="<?php bloginfo( 'charset' ); ?>">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        /* Your custom CSS styles */
        body { font-family: sans-serif; font-size: 14px; }
        .receipt-header { text-align: center; margin-bottom: 20px; }
        /* Add more styles as needed */
    </style>
</head>
<body>
    <!-- Your receipt content -->
    <div class="receipt-header">
        <h1><?php echo get_bloginfo( 'name' ); ?></h1>
        <p><?php echo get_bloginfo( 'description' ); ?></p>
    </div>

    <!-- Order details, items, totals, etc. -->

</body>
</html>
```

## Variables de Plantilla Disponibles

Al crear plantillas personalizadas, tienes acceso a varias funciones y datos de WordPress y WooCommerce:

### Información de la Tienda

- `get_bloginfo( 'name' )` - Nombre de la tienda
- `get_bloginfo( 'description' )` - Lema de la tienda
- `get_bloginfo( 'url' )` - URL de la tienda

### Datos del Pedido

Los datos del pedido actual están disponibles a través de las funciones estándar de pedidos de WooCommerce cuando la plantilla se renderiza.

### Funciones de WCPOS

Puedes usar funciones específicas de WCPOS (prefijadas con `wcpos_`) para acceder a datos y funcionalidades relacionadas con el POS.

## Mejores Prácticas

### Desarrollo de Plantillas

1. **Comienza con una Copia**: Siempre comienza copiando una plantilla predeterminada en lugar de crear desde cero
2. **Prueba Exhaustivamente**: Usa la función de previsualización para probar tu plantilla antes de activarla
3. **Mantén Copias de Seguridad**: Exporta tus plantillas personalizadas o guarda copias de tu código
4. **Compatibilidad Móvil**: Asegúrate de que tus plantillas funcionen bien en diferentes tamaños de pantalla

### Calidad del Código

1. **Valida HTML**: Asegúrate de que tu HTML esté bien formado
2. **Escapa Salidas**: Usa funciones de escape de WordPress por seguridad
3. **Manejo de Errores**: Incluye comprobaciones de errores adecuadas en tu código PHP
4. **Comentarios**: Documenta tus personalizaciones para referencia futura

### Rendimiento

1. **Optimiza CSS**: Mantén los estilos mínimos y eficientes
2. **Minimiza PHP**: Evita lógica compleja en las plantillas
3. **Prueba de Impresión**: Verifica que las plantillas funcionen bien con tus impresoras de recibos

## Solución de Problemas

### Problemas Comunes

**La Plantilla No Muestra Cambios**

- Asegúrate de haber hecho clic en "Actualizar" para guardar tus cambios
- Verifica que la plantilla esté configurada como "Activa"
- Limpia cualquier plugin de caché

**Errores de Sintaxis**

- Usa el resaltado de sintaxis para identificar problemas
- Revisa si faltan puntos y comas, corchetes o comillas
- Valida tu sintaxis PHP

**Problemas de Estilo**

- Prueba tu CSS en el modo de previsualización
- Asegúrate de que los estilos son compatibles con las impresoras de recibos
- Mantén principios de diseño amigables para impresión en mente

**Plantilla No Disponible**

- Verifica que el tipo de plantilla esté establecido en "Recibo"
- Verifica que el estado de la plantilla sea "Publicado"
- Asegúrate de tener permisos adecuados

### Obtener Ayuda

Si encuentras problemas con la personalización de plantillas:

1. Revisa la previsualización de la plantilla en busca de mensajes de error
2. Revisa el registro de depuración de WordPress en busca de errores PHP
3. Prueba primero con una copia de la plantilla predeterminada
4. **Asistencia IA**: Herramientas modernas de IA como [Gemini](https://gemini.google.com), ChatGPT y Claude son excelentes para ayudar con plantillas de WordPress simples como estas. Puedes pegar tu código de plantilla y describir lo que quieres lograr.
5. Consulta la documentación de WooCommerce POS para personalizaciones avanzadas

## Personalización Avanzada

Para usuarios avanzados que necesitan más control sobre las plantillas de recibo:

### Integración de Tema

Puedes sobrescribir la plantilla predeterminada colocando un archivo `receipt.php` personalizado en tu tema:

```
your-theme/woocommerce-pos/receipt.php
```

### Hooks y Filtros

WooCommerce POS proporciona varios hooks y filtros para la personalización de plantillas. Consulta la documentación para desarrolladores para ver las opciones disponibles.

### Campos Personalizados

Puedes incluir campos de pedido personalizados, atributos de producto y otros metadatos en tus plantillas de recibo utilizando las funciones adecuadas de WordPress y WooCommerce.