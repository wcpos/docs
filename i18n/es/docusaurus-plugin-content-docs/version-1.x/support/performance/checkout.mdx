---
title: "Rendimiento del Proceso de Pago"
sidebar_label: Rendimiento del Proceso de Pago
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Si experimentas un rendimiento lento durante el proceso de pago, esta guía te ayudará a identificar y resolver las causas más comunes.

## Cómo Funciona el Proceso de Pago de WCPOS

El proceso de pago de WCPOS abre un modal con un iframe/webview que carga una versión simplificada de la plantilla de Pago de Pedido de WooCommerce. Esta es esencialmente la misma página que los clientes ven en la [Página de Pago del Cliente](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link) cuando pagan por pedidos en línea.

:::info Nota para Desarrolladores
Puedes ver la plantilla de pago en el repositorio del plugin de WCPOS: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## Optimización Integrada

WCPOS incluye varias optimizaciones para mejorar el rendimiento del proceso de pago:

- **Plantilla simplificada** - Elimina elementos y desorden innecesarios del tema
- **Carga selectiva de scripts/estilos** - Solo se cargan scripts y estilos esenciales
- **Estructura mínima del DOM** - Reduce la complejidad de la página de pago

Sin embargo, algunos scripts y estilos no se pueden desactivar completamente porque las pasarelas de pago pueden requerirlos para funcionar correctamente.

## Problemas Comunes de Rendimiento

### 1. Scripts y Estilos Innecesarios

**Problema:** Los temas y plugins añaden scripts y estilos que no son necesarios para el proceso de pago, lo que ralentiza los tiempos de carga de la página.

**Solución:** Utiliza la [Configuración del Proceso de Pago](/pos/checkout#checkout-settings-troubleshooting) para desactivar recursos innecesarios:

1. Haz clic en el botón **Configuración de Pago** en el modal de pago
2. Intenta desactivar primero los estilos del tema:
   - wp-block-library
   - classic-theme-styles
   - Estilos personalizados de tu tema
3. Desactiva scripts de WooCommerce no esenciales:
   - wc-add-to-cart
   - selectWoo (si no es necesario para tu pasarela)
   - html5shiv

<div class="image-container">
  <Image
    alt="Formulario para desactivar todos los estilos y scripts"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formulario para desactivar todos los estilos y scripts</p>
</div>

:::warning Ten Cuidado
No desactives scripts que tu pasarela de pago requiere. Si un método de pago deja de funcionar después de desactivar un script, vuelve a habilitarlo.
:::

### 2. Interferencia de Plugins Durante la Creación de Pedidos

**Problema:** Los plugins que se enganchan en el proceso de creación de pedidos pueden causar retrasos significativos. Por ejemplo, plugins contables como Xero pueden enviar datos de pedidos a servidores externos, bloqueando el proceso de pago.

**Pasos de Solución:**

1. **Prueba en staging** - Si tienes un servidor de staging, desactiva todos los plugins excepto WooCommerce y WCPOS
2. **Prueba la velocidad de pago** - Procesa un pedido de prueba y anota el rendimiento
3. **Habilita los plugins gradualmente** - Si el rendimiento mejora drásticamente, vuelve a habilitar los plugins uno por uno para identificar al culpable
4. **Contacta a los desarrolladores de plugins** - Si un plugin específico está causando problemas, contacta al desarrollador para obtener consejos sobre optimización

**Tipos de plugins problemáticos comunes:**
- Integraciones contables/financieras (Xero, QuickBooks)
- Herramientas de marketing por correo electrónico que se activan al crear un pedido
- Sistemas de gestión de inventario
- Calculadoras de envío complejas
- Herramientas de análisis de terceros

### 3. Limitaciones de Recursos del Servidor

**Problema:** Si tu servidor está bajo carga o carece de recursos suficientes, todas las operaciones, incluido el proceso de pago, serán lentas.

**Monitoreo y Soluciones:**

1. **Monitorea el rendimiento del servidor:**
   - Uso de CPU durante el proceso de pago
   - Consumo de memoria
   - Rendimiento de las consultas de base de datos
   - Latencia de la red

2. **Optimiza los recursos del servidor:**
   - Aumenta el límite de memoria PHP
   - Optimiza las consultas de la base de datos
   - Utiliza plugins de caché (pero prueba la compatibilidad)
   - Considera actualizar tu plan de hosting

3. **Optimización de la base de datos:**
   - Limpia datos de pedidos antiguos
   - Optimiza las tablas de la base de datos
   - Elimina plugins y temas innecesarios

## Mejores Prácticas para Desarrolladores de WordPress

:::tip Para Desarrolladores
Los desarrolladores de WordPress deben usar `wp_enqueue_scripts` para agregar correctamente scripts y estilos a las páginas. Desafortunadamente, algunos desarrolladores de plugins y temas no siguen las mejores prácticas e insertan código directamente en las plantillas, haciendo imposible eliminar fácilmente estos recursos.
:::

Si estás experimentando problemas con scripts o estilos que no se pueden desactivar a través de la Configuración de Pago:

1. **Contacta al desarrollador** - Pídeles que sigan los estándares de codificación de WordPress
2. **Utiliza temas hijos** - Sobrescribe plantillas problemáticas en un tema hijo
3. **Ganchos personalizados** - Usa ganchos de WordPress para eliminar código problemático en las páginas de pago

## Pruebas de Rendimiento

Para probar las mejoras en el rendimiento del proceso de pago:

1. **Medición base** - Mide cuánto tiempo tarda el proceso de pago antes de realizar cambios
2. **Realiza un cambio a la vez** - Esto ayuda a identificar qué cambios tienen mayor impacto
3. **Prueba con pasarelas de pago reales** - No solo pruebes con pagos en efectivo
4. **Prueba en diferentes dispositivos** - Los dispositivos móviles pueden mostrar características de rendimiento diferentes

## Ganancias Rápidas

Aquí están las mejoras de rendimiento más efectivas que puedes hacer:

1. **Desactiva estilos del tema** - A menudo proporciona la mayor mejora
2. **Elimina scripts innecesarios de WooCommerce** - Reduce el tiempo de ejecución de JavaScript
3. **Audita los ganchos de creación de pedidos** - Identifica y optimiza plugins lentos
4. **Optimiza imágenes** - Asegúrate de que cualquier imagen en el pago esté optimizada
5. **Usa un plugin de monitoreo de rendimiento** - Sigue las mejoras a lo largo del tiempo

## Cuándo Buscar Ayuda

Contacta al soporte de WCPOS si:

- El proceso de pago tarda más de 10 segundos de manera constante
- Has seguido esta guía pero aún experimentas problemas
- Sospechas de un plugin específico pero no puedes identificarlo
- Necesitas ayuda para optimizar los recursos del servidor

## Documentación Relacionada

- [Configuración del Proceso de Pago](/pos/checkout#checkout-settings-troubleshooting) - Desactivar scripts y estilos problemáticos
- [Métodos de Pago](/payment) - Configurar pasarelas de pago para un rendimiento óptimo
- [Resolución de Problemas](/category/troubleshooting) - Guías generales de resolución de problemas