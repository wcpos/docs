---
title: "Rendimiento del Checkout"
sidebar_label: "Rendimiento del Checkout"
sidebar_position: 1
description: "Solucionar tiempos de checkout lentos en WCPOS analizando tiempos de ejecución e identificando cuellos de botella."
---

import Image from "@theme/IdealImage";
import LinkCards from '@site/src/components/LinkCards';
import LinkCard from '@site/src/components/LinkCard';

Si estás experimentando un rendimiento lento durante el proceso de checkout, esta guía te ayudará a identificar y resolver las causas más comunes.

## Cómo Funciona el Checkout de WCPOS {#how-wcpos-checkout-works}

El checkout de WCPOS abre un modal con un iframe/webview que carga una versión reducida de la plantilla de Pago de Pedidos de WooCommerce. Esta es esencialmente la misma página que los [clientes ven en la página de pago](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link) cuando pagan pedidos en línea.

:::info Nota para Desarrolladores
Puedes ver la plantilla de checkout en el repositorio del plugin WCPOS: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## Optimización Incorporada {#built-in-optimizations}

WCPOS incluye varias optimizaciones para mejorar el rendimiento del checkout:

- **Plantilla reducida** - Remueve elementos del tema y desorden innecesarios
- **Carga selectiva de scripts/estilos** - Solo se cargan scripts y estilos esenciales
- **Estructura DOM mínima** - Reduce la complejidad de la página del checkout

Sin embargo, algunos scripts y estilos no se pueden deshabilitar completamente porque las pasarelas de pago pueden requerirlos para funcionar correctamente.

## Problemas Comunes de Rendimiento {#common-performance-issues}

### 1. Scripts y Estilos Innecesarios {#1-unnecessary-scripts-and-styles}

**Problema:** Los temas y plugins añaden scripts y estilos que no son necesarios para el checkout, ralentizando los tiempos de carga de la página.

**Solución:** Usa los [Ajustes de Checkout](/pos/checkout#checkout-settings-troubleshooting) para deshabilitar recursos innecesarios:

1. Haz clic en el botón **Ajustes de Checkout** en el modal de checkout
2. Intenta deshabilitar primero los estilos del tema:
   - wp-block-library
   - classic-theme-styles
   - Estilos personalizados de tu tema
3. Deshabilita scripts de WooCommerce no esenciales:
   - wc-add-to-cart
   - selectWoo (si no es necesario por tu pasarela)
   - html5shiv

<div class="image-container">
  <Image
    alt="Formulario para desactivar todos los estilos y scripts"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formulario para desactivar todos los estilos y scripts</p>
</div>

:::warning Ten Cuidado
No desactives scripts que tu pasarela de pago requiere. Si un método de pago deja de funcionar después de deshabilitar un script, vuelve a habilitarlo.
:::

### 2. Interferencia de Plugins Durante la Creación de Pedidos {#2-plugin-interference-during-order-creation}

**Problema:** Los plugins que se enganchan al proceso de creación de pedidos pueden causar retrasos significativos. Por ejemplo, plugins de contabilidad como Xero pueden enviar datos de pedidos a servidores externos, bloqueando el proceso de checkout.

**Solución:**

1. **Prueba en un entorno de staging** - Si tienes un servidor de staging, desactiva todos los plugins excepto WooCommerce y WCPOS
2. **Prueba la velocidad del checkout** - Procesa un pedido de prueba y anota el rendimiento
3. **Activa los plugins gradualmente** - Si el rendimiento mejora drásticamente, vuelve a habilitar los plugins uno por uno para identificar el culpable
4. **Contacta a los desarrolladores de plugins** - Si un plugin específico está causando problemas, contacta al desarrollador para obtener consejos de optimización

**Tipos de plugins problemáticos comunes:**
- Integraciones contables/libros (Xero, QuickBooks)
- Herramientas de marketing por correo electrónico que se activan en la creación de pedidos
- Sistemas de gestión de inventario
- Calculadoras de envío complejas
- Herramientas de análisis de terceros

### 3. Limitaciones de Recursos del Servidor {#3-server-resource-limitations}

**Problema:** Si tu servidor está bajo carga o carece de recursos suficientes, todas las operaciones, incluido el checkout, serán lentas.

**Monitoreo y Soluciones:**

1. **Monitorea el rendimiento del servidor:**
   - Uso de CPU durante el checkout
   - Consumo de memoria
   - Rendimiento de las consultas a la base de datos
   - Latencia de red

2. **Optimiza los recursos del servidor:**
   - Aumenta el límite de memoria PHP
   - Optimiza las consultas a la base de datos
   - Usa plugins de caché (pero prueba la compatibilidad)
   - Considera actualizar el plan de hosting

3. **Optimización de la base de datos:**
   - Limpia datos de pedidos antiguos
   - Optimiza las tablas de la base de datos
   - Elimina plugins y temas innecesarios

## Mejores Prácticas para Desarrolladores de WordPress {#wordpress-developer-best-practices}

:::tip Para Desarrolladores
Los desarrolladores de WordPress deben usar `wp_enqueue_scripts` para agregar correctamente scripts y estilos a las páginas. Lamentablemente, algunos desarrolladores de plugins y temas no siguen las mejores prácticas e insertan código directamente en las plantillas, lo que dificulta eliminar estos recursos fácilmente.
:::

Si estás experimentando problemas con scripts o estilos que no se pueden deshabilitar a través de los Ajustes de Checkout:

1. **Contacta al desarrollador** - Pídeles que sigan los estándares de codificación de WordPress
2. **Usa temas hijos** - Reemplaza plantillas problemáticas en un tema hijo
3. **Hooks personalizados** - Usa hooks de WordPress para eliminar código problemático en las páginas de checkout

## Pruebas de Rendimiento {#performance-testing}

Para probar mejoras en el rendimiento del checkout:

1. **Medición de base** - Mide cuánto tiempo toma el checkout antes de realizar cambios
2. **Haz un cambio a la vez** - Esto ayuda a identificar qué cambios tienen más impacto
3. **Prueba con pasarelas de pago reales** - No solo pruebes con pagos en efectivo
4. **Prueba en diferentes dispositivos** - Los dispositivos móviles pueden mostrar diferentes características de rendimiento

## Ganancias Rápidas {#quick-wins}

Aquí están las mejoras de rendimiento más efectivas que puedes realizar:

1. **Desactivar estilos del tema** - A menudo proporciona la mayor mejora
2. **Eliminar scripts innecesarios de WooCommerce** - Reduce el tiempo de ejecución de JavaScript
3. **Auditar hooks de creación de pedidos** - Identificar y optimizar plugins lentos
4. **Optimizar imágenes** - Asegúrate de que las imágenes en el checkout estén optimizadas
5. **Usar un plugin de monitoreo de rendimiento** - Rastrear mejoras a lo largo del tiempo

## Cuándo Buscar Ayuda {#when-to-seek-help}

Contacta al soporte de WCPOS si:

- El checkout tarda más de 10 segundos de manera constante
- Has seguido esta guía pero aún experimentas problemas
- Sospechas de un plugin específico pero no puedes identificarlo
- Necesitas ayuda para optimizar recursos del servidor

## Documentación Relacionada {#related-documentation}

<LinkCards>
  <LinkCard to="/pos/checkout#checkout-settings-troubleshooting" title="Ajustes de Checkout" description="Desactivar scripts y estilos problemáticos" />
  <LinkCard to="/payment" title="Métodos de Pago" description="Configurar pasarelas de pago para un rendimiento óptimo" />
  <LinkCard to="/category/troubleshooting" title="Solución de Problemas" description="Guías generales de solución de problemas" />
</LinkCards>