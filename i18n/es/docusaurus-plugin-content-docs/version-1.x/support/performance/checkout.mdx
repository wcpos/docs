---
title: Rendimiento del Checkout
sidebar_label: Rendimiento del Checkout
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Si está experimentando un rendimiento lento durante el proceso de pago, esta guía lo ayudará a identificar y resolver las causas más comunes.

## Cómo Funciona el Checkout de WCPOS

El checkout de WCPOS abre un modal con un iframe/webview que carga una versión reducida de la plantilla de WooCommerce Order Pay. Esta es esencialmente la misma página que los clientes ven cuando pagan por pedidos en línea, la [página de Pago del Cliente](https://woocommerce.com/document/managing-orders/paying-for-orders/#customer-payment-page-link).

:::info Nota del Desarrollador
Puede ver la plantilla de checkout en el repositorio del plugin WCPOS: [templates/payment.php](https://github.com/wcpos/woocommerce-pos/blob/main/templates/payment.php)
:::

## Optimización Incorporada

WCPOS incluye varias optimizaciones para mejorar el rendimiento del checkout:

- **Plantilla reducida** - Elimina elementos de tema innecesarios y desorden
- **Carga selectiva de scripts/estilos** - Solo se cargan los scripts y estilos esenciales
- **Estructura DOM mínima** - Reduce la complejidad de la página de checkout

Sin embargo, algunos scripts y estilos no se pueden desactivar por completo porque las pasarelas de pago pueden requerirlos para funcionar correctamente.

## Problemas Comunes de Rendimiento

### 1. Scripts y Estilos Innecesarios

**Problema:** Los temas y plugins agregan scripts y estilos que no son necesarios para el checkout, lo que ralentiza los tiempos de carga de la página.

**Solución:** Use la [Configuración de Checkout](/pos/checkout#checkout-settings-troubleshooting) para desactivar recursos innecesarios:

1. Haga clic en el botón **Configuración de Checkout** en el modal de checkout
2. Intente desactivar primero los estilos del tema:
   - wp-block-library
   - classic-theme-styles
   - Estilos personalizados de su tema
3. Desactive scripts de WooCommerce no esenciales:
   - wc-add-to-cart
   - selectWoo (si no es necesario para su pasarela)
   - html5shiv

<div class="image-container">
  <Image
    alt="Formulario para desactivar todos los estilos y scripts"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formulario para desactivar todos los estilos y scripts</p>
</div>

:::warning Tenga Cuidado
No desactive scripts que su pasarela de pago requiera. Si un método de pago deja de funcionar después de desactivar un script, vuelva a habilitarlo.
:::

### 2. Interferencia de Plugins Durante el Proceso de Creación de Pedidos

**Problema:** Los plugins que se enganchan al proceso de creación de pedidos pueden causar retrasos significativos. Por ejemplo, plugins de contabilidad como Xero pueden enviar datos de pedido a servidores externos, bloqueando el proceso de checkout.

**Pasos para Solucionar Problemas:**

1. **Pruebe en staging** - Si tiene un servidor de staging, desactive todos los plugins excepto WooCommerce y WCPOS
2. **Pruebe la velocidad del checkout** - Procese un pedido de prueba y anote el rendimiento
3. **Habilite plugins gradualmente** - Si el rendimiento mejora drásticamente, vuelva a habilitar los plugins uno por uno para identificar al culpable
4. **Contacte a los desarrolladores de plugins** - Si un plugin específico está causando problemas, contacte al desarrollador para obtener consejos de optimización

**Tipos de plugins problemáticos comunes:**
- Integraciones de contabilidad/teneduría (Xero, QuickBooks)
- Herramientas de marketing por correo electrónico que se activan en el proceso de creación de pedidos
- Sistemas de gestión de inventarios
- Calculadoras de envío complejas
- Herramientas de análisis de terceros

### 3. Limitaciones de Recursos del Servidor

**Problema:** Si su servidor está bajo carga o carece de recursos suficientes, todas las operaciones, incluido el checkout, serán lentas.

**Monitoreo y Soluciones:**

1. **Monitoree el rendimiento del servidor:**
   - Uso de CPU durante el checkout
   - Consumo de memoria
   - Rendimiento de consultas a la base de datos
   - Latencia de la red

2. **Optimice los recursos del servidor:**
   - Aumente el límite de memoria de PHP
   - Optimice las consultas a la base de datos
   - Use plugins de almacenamiento en caché (pero pruebe la compatibilidad)
   - Considere actualizar su plan de hosting

3. **Optimización de la base de datos:**
   - Limpie datos de pedidos antiguos
   - Optimice las tablas de la base de datos
   - Elimine plugins y temas innecesarios

## Mejores Prácticas para Desarrolladores de WordPress

:::tip Para Desarrolladores
Los desarrolladores de WordPress deben usar `wp_enqueue_scripts` para agregar scripts y estilos adecuadamente a las páginas. Desafortunadamente, algunos desarrolladores de plugins y temas no siguen las mejores prácticas e insertan código directamente en las plantillas, lo que hace imposible desapilar estos recursos fácilmente.
:::

Si está experimentando problemas con scripts o estilos que no se pueden desactivar a través de la Configuración de Checkout:

1. **Contacte al desarrollador** - Pídales que sigan los estándares de codificación de WordPress
2. **Use temas secundarios** - Sobrescriba plantillas problemáticas en un tema secundario
3. **Hooks personalizados** - Use hooks de WordPress para eliminar código problemático en las páginas de checkout

## Pruebas de Rendimiento

Para probar las mejoras en el rendimiento del checkout:

1. **Medición base** - Cronometre cuánto tiempo tarda el checkout antes de hacer cambios
2. **Haga un cambio a la vez** - Esto ayuda a identificar qué cambios tienen más impacto
3. **Pruebe con pasarelas de pago reales** - No solo pruebe con pagos en efectivo
4. **Pruebe en diferentes dispositivos** - Los dispositivos móviles pueden mostrar diferentes características de rendimiento

## Ganancias Rápidas

Aquí están las mejoras de rendimiento más efectivas que puede hacer:

1. **Desactivar estilos de tema** - A menudo proporciona la mayor mejora
2. **Eliminar scripts innecesarios de WooCommerce** - Reduce el tiempo de ejecución de JavaScript
3. **Identificar ganchos de creación de pedidos** - Identificar y optimizar plugins lentos
4. **Optimizar imágenes** - Asegúrese de que cualquier imagen en el checkout esté optimizada
5. **Usar un plugin de monitoreo de rendimiento** - Rastrear mejoras a lo largo del tiempo

## Cuándo Buscar Ayuda

Contacte al soporte de WCPOS si:

- El checkout tarda más de 10 segundos consistentemente
- Ha seguido esta guía pero aún experimenta problemas
- Sospecha de un plugin específico pero no puede identificarlo
- Necesita ayuda para optimizar recursos del servidor

## Documentación Relacionada

- [Configuración de Checkout](/pos/checkout#checkout-settings-troubleshooting) - Desactivar scripts y estilos problemáticos
- [Métodos de Pago](/payment) - Configurar pasarelas de pago para un rendimiento óptimo
- [Solución de Problemas](/category/troubleshooting) - Guías generales de solución de problemas

---