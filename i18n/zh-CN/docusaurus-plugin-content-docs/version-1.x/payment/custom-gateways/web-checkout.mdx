---
title: Web结账网关
description: 通过WooCommerce POS的网页商店结账完成支付
---

# Web结账网关

Web结账网关允许客户使用您的网络商店的结账系统完成POS交易。这个网关在您的店内POS和在线支付方式之间架起了一座无缝的桥梁，非常适合客户希望使用自己的设备支付或需要访问仅限网页的支付方式的情况。

## 功能

- **无缝集成**：从POS直接链接到网页结账
- **所有支付方式**：访问您网络商店已启用的所有支付网关
- **客户控制**：客户可以使用自己的设备和首选方式支付
- **订单同步**：POS和网络商店之间的自动订单更新
- **灵活工作流**：在保持POS工作流的同时在线完成交易

## 安装

### 步骤1：下载和安装

1. 访问[Web结账网关发布页面](https://github.com/wcpos/web-checkout-gateway/releases)
2. 下载最新的 **woocommerce-pos-web-checkout-gateway.zip** 文件
3. 在WordPress管理后台，转到 `插件 > 添加新插件 > 上传插件`
4. 上传zip文件并激活插件

### 步骤2：在WooCommerce POS中启用

1. 转到 `WP管理后台 > WooCommerce POS > 设置 > 结账`
2. 在列表中找到 **WooCommerce POS Web结账网关**
3. 启用POS中的网关
4. 保存您的设置

:::note
此网关利用您现有的WooCommerce支付方式，因此请确保至少配置了一个网页支付网关（Stripe、PayPal等）。
:::

## 使用方法

### 发起Web结账

1. **添加商品**：在POS中将商品添加到购物车
2. **选择网关**：选择"Web结账"作为支付方式
3. **生成链接**：系统为订单创建唯一的结账链接
4. **客户访问**：客户点击链接以访问网页结账
5. **在线支付**：客户使用网络商店支付方式完成支付

### 支付流程

Web结账网关遵循以下工作流：

1. **创建订单**：POS在WooCommerce中创建待处理订单
2. **结账链接**：系统生成安全的唯一支付链接
3. **客户重定向**：客户被引导到网页结账页面
4. **支付选择**：客户从可用的网页支付方式中选择
5. **支付处理**：标准的WooCommerce结账流程处理支付
6. **订单完成**：成功支付后订单状态自动更新

### POS工作流

发起Web结账后：

1. **监控状态**：保持POS订单屏幕开启以监控支付状态
2. **客户支付**：客户在其设备或您的平板电脑上完成支付
3. **自动更新**：收到支付时订单状态实时更新
4. **处理支付**：在POS中点击"处理支付"按钮继续到收据
5. **生成收据**：正常生成并打印收据

## 使用场景

### 完美适用于

- **客户偏好**：偏好使用自己的支付应用或卡片的客户
- **复杂支付**：需要POS中不可用的支付方式的交易
- **分割支付**：希望使用多种支付方式的客户
- **忠诚度计划**：访问基于网页的积分兑换
- **礼品卡**：使用数字礼品卡或店铺信用的客户
- **国际卡片**：通过网关更好使用的支付方式

### 工作流示例

**零售店**
1. 客户在店内购物并带到收银台
2. 客户更喜欢使用手机钱包应用支付
3. 员工选择Web结账网关
4. 客户扫描二维码或在手机上点击链接
5. 客户使用首选方式完成支付
6. 员工处理收据并完成交易

**服务业**
1. 完成服务并将费用添加到POS
2. 客户希望使用公司信用卡支付
3. 生成Web结账链接
4. 客户在安全的网页表单上输入支付详情
5. 通过您的网关处理支付
6. 订单完成并生成收据

## 技术细节

### 订单管理

- **待处理订单**：订单创建为"待付款"状态
- **状态更新**：收到支付时自动更改状态
- **订单备注**：支付详情记录在订单备注中
- **库存**：结账过程中保留库存

### 安全性

- **唯一链接**：每个结账会话都有唯一的、限时的URL
- **需要SSL**：所有支付处理都在安全的HTTPS连接上进行
- **PCI合规**：利用您现有的PCI合规网页支付网关
- **会话管理**：安全的会话处理防止未经授权的访问

### 支付方式

网关提供所有已配置的WooCommerce支付方式：

- **信用卡/借记卡**：Stripe、Square、Authorize.net等
- **数字钱包**：PayPal、Apple Pay、Google Pay
- **银行转账**：直接银行支付方式
- **先买后付**：Klarna、Afterpay、Sezzle
- **加密货币**：比特币和其他加密货币支付网关
- **本地方式**：区域特定的支付方式

## 要求

- **WooCommerce POS**：已安装并激活免费或专业版
- **网页支付网关**：在WooCommerce中配置至少一种在线支付方式
- **SSL证书**：需要HTTPS以进行安全支付处理
- **现代浏览器**：客户设备必须支持现代网络标准

## 故障排除

### 常见问题

**结账链接不工作**
- 验证SSL证书是否正确安装
- 检查WooCommerce固定链接是否正确配置
- 确保网页支付网关处于活动状态并已配置
- 使用不同的浏览器或设备测试

**支付未处理**
- 确认网页支付网关已正确配置
- 检查支付网关日志中的错误消息
- 验证客户的支付方式是否受支持
- 独立测试网页结账过程

**POS中订单未更新**
- 检查互联网连接稳定性
- 验证WordPress定时任务是否正常运行
- 刷新POS订单屏幕
- 在WooCommerce管理后台检查订单状态

**客户无法访问结账**
- 确保结账链接尚未过期
- 验证客户设备是否有互联网连接
- 检查订单是否已取消或完成
- 在不同设备上测试链接

### 性能优化

为获得最佳性能：

- **缓存**：配置缓存插件以排除结账页面
- **CDN**：确保CDN设置不干扰结账过程
- **数据库**：优化数据库以加快订单处理
- **主机**：使用可靠的具有良好正常运行时间的主机

### 获取帮助

技术支持：
- 访问[GitHub仓库](https://github.com/wcpos/web-checkout-gateway)报告问题
- 查看WooCommerce支付网关文档
- 定期测试您的网页结账流程
- 监控支付网关日志中的问题

## 屏幕截图

屏幕截图将在未来更新中添加，以展示：
- POS中的Web结账网关选择和链接生成
- 网络商店结账的客户支付过程
- 订单完成和收据处理工作流