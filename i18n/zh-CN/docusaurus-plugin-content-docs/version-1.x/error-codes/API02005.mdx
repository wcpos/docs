---
title: "API02005：权限不足"
sidebar_label: API02005
---

# API02005：权限不足

## 这意味着什么

您的用户账户缺少执行此操作所需的特定 WordPress 权限。虽然您有基本访问权，但您尝试的特定操作需要额外的权限。

## 常见原因

- **用户角色限制** — 您的角色未包含所有必需权限
- **未分配权能** — 您的角色缺少特定权能
- **插件限制** — 安全插件限制了权能
- **自定义角色问题** — 自定义角色可能缺少权能

## 服务器错误映射

当服务器返回以下内容时触发此错误代码：

| 服务器代码 | 来源 |
|-------------|--------|
| `rest_forbidden` | WordPress REST API |
| `rest_cannot_create` | WordPress REST API |
| `rest_cannot_edit` | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403 | 任何服务器响应（备用） |

## 如何修复

### 1. 检查所需权能

POS 操作所需的常见权能：
- `manage_woocommerce` — 常规 WooCommerce 管理
- `edit_shop_orders` — 创建和编辑订单
- `edit_products` — 修改产品信息
- `edit_users` — 管理客户账户

### 2. 升级用户角色

请管理员分配更高权限的角色：
- **店铺管理员** — 完全 WooCommerce 访问权
- **管理员** — 完全网站访问权

### 3. 添加特定权能

如果需要自定义角色，添加所需权能：

```php
// 示例：为自定义角色添加 POS 权能
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. 检查插件冲突

某些安全或角色管理插件可能限制权能：
- 检查插件设置
- 检查权能过滤器
- 暂时禁用以测试

## 相关错误

- [API02004](./API02004) — 用户未授权
- [API02010](./API02010) — 需要认证