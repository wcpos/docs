---
title: "API05004: WordPress API 禁用"
sidebar_label: API05004
---

# API05004: WordPress API 禁用 {#api05004-wordpress-api-disabled}

## 这意味着什么 {#what-this-means}

您的网站上禁用了 WordPress REST API。所有现代 WordPress 功能，包括 WooCommerce 和 WCPOS，都依赖于此 API。

## 常见原因 {#common-causes}

- **安全插件** — 插件正在阻止 REST API 访问
- **托管限制** — 您的主机禁用了 REST API
- **自定义代码** — 主题或插件禁用了 API
- **防火墙规则** — WAF 正在阻止 REST API 端点

## 如何修复 {#how-to-fix}

### 1. 测试 REST API {#1-test-the-rest-api}

在浏览器中访问 `https://yoursite.com/wp-json/`：
- 应返回包含可用路由的 JSON
- 如果出现错误或没有任何内容，则表示它已被阻止

### 2. 检查安全插件 {#2-check-security-plugins}

常见的阻止 REST API 的插件：

**Wordfence:**
- 防火墙 → 所有防火墙选项
- 禁用“禁用 REST API”选项

**iThemes Security:**
- 安全 → 设置 → WordPress 调整
- 启用 REST API

**Disable REST API 插件：**
- 完全停用此插件

### 3. 检查自定义代码 {#3-check-for-custom-code}

查看您主题的 `functions.php` 或自定义插件中是否有：

```php
// This code disables REST API - remove it
add_filter('rest_authentication_errors', function($result) {
    return new WP_Error('rest_disabled', 'REST API disabled');
});
```

### 4. 检查 .htaccess {#4-check-htaccess}

移除任何阻止 `/wp-json/` 的规则：

```apache
# Bad - blocks REST API
RewriteRule ^wp-json - [F,L]
```

### 5. 联系托管提供商 {#5-contact-hosting-provider}

某些主机默认阻止 REST API：
- 请求他们启用它
- 询问任何安全限制
- 检查托管文档

## 为什么 REST API 很重要 {#why-rest-api-matters}

WordPress REST API 对以下内容至关重要：
- 移动应用
- 第三方集成
- WooCommerce 功能
- WCPOS 操作

禁用它会破坏许多功能。

## 相关错误 {#related-errors}

- [API05001](./API05001) — WooCommerce API 禁用
- [API03006](./API03006) — 不支持的方法

---