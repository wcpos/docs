---
title: "API03004: 请求过大"
sidebar_label: API03004
---

# API03004: 请求过大

## 这意味着什么

您发送的请求超出了服务器的大小限制。这通常发生在尝试一次发送过多数据时。

## 常见原因

- **大批量操作** — 尝试一次同步过多记录
- **大图像** — 上传超大图像
- **项目过多** — 订单中包含极多行项目
- **服务器限制** — PHP或Web服务器的上传限制较低

## 如何修复

### 1. 减少请求大小

如果同步数据：
- 尝试以小批量同步
- 应由POS自动处理此操作
- 等待当前同步完成后再开始另一个

### 2. 检查图像大小

如果上传图像：
- 上传前调整图像大小
- 使用压缩格式（JPEG vs BMP）
- 大多数产品图像最好保持在1MB以下

### 3. 拆分大订单

如果一个订单包含许多项目：
- 考虑拆分为多个订单
- 这种情况在正常POS使用中很少见

### 4. 增加服务器限制

联系您的托管服务提供商或编辑PHP设置：

```php
// In php.ini or .htaccess
upload_max_filesize = 64M
post_max_size = 64M
max_input_vars = 5000
```

### 5. 检查Web服务器限制

Nginx或Apache可能有自己的限制：
- Nginx的`client_max_body_size`
- Apache的`LimitRequestBody`

## 相关错误

- [API03005](./API03005) — 速率限制已超出
- [API03007](./API03007) — 请求队列已满

---