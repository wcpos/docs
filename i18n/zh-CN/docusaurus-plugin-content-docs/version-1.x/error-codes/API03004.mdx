---
title: "API03004：请求过大"
sidebar_label: API03004
---

# API03004：请求过大

## 什么意思

你发送的请求超过了服务器的大小限制。这通常发生在一次性尝试发送过多数据时。

## 常见原因

- **大批量操作** — 尝试一次同步太多记录
- **大图片** — 上传过大的图片
- **项目过多** — 订单中有极其多的行项目
- **服务器限制** — PHP 或 Web 服务器上传限制较低

## 如何修复

### 1. 减少请求大小

如果在同步数据：
- 尝试分批同步
- POS 应该自动处理这个问题
- 等待当前同步完成后再开始另一个

### 2. 检查图片大小

如果上传图片：
- 在上传前调整图片大小
- 使用压缩格式（JPEG 而非 BMP）
- 大多数产品图片在 1MB 以下效果很好

### 3. 拆分大订单

如果订单项目很多：
- 考虑拆分成多个订单
- 在正常 POS 使用中这种情况很少见

### 4. 增加服务器限制

联系你的主机提供商或编辑 PHP 设置：

```php
// 在 php.ini 或 .htaccess 中
upload_max_filesize = 64M
post_max_size = 64M
max_input_vars = 5000
```

### 5. 检查 Web 服务器限制

Nginx 或 Apache 可能有自己的限制：
- Nginx 的 `client_max_body_size`
- Apache 的 `LimitRequestBody`

## 相关错误

- [API03005](./API03005) — 超过速率限制
- [API03007](./API03007) — 请求队列已满