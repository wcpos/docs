---
title: 日志
sidebar_label: 日志
sidebar_position: 2
description: 访问和理解 WCPOS 日志以进行故障排除，包括应用日志和错误消息。
---

import Image from "@theme/IdealImage";
import LinkCards from '@site/src/components/LinkCards';
import LinkCard from '@site/src/components/LinkCard';

日志屏幕记录了 POS 中的系统活动。它是调试问题和理解后台发生情况的重要工具。

{/* Screenshot: logs-screen.png */}

## 访问日志

从左侧导航抽屉（心跳图标）打开日志屏幕。

## 界面概述

### 搜索和过滤

- **搜索日志** - 通过消息内容查找特定日志条目
- **日志级别过滤器** - 按日志级别过滤（信息、警告、错误）
- **显示设置** - 配置可见列

### 日志表

每个日志条目显示：

| 列 | 描述 |
|----|------|
| **时间** | 事件发生的时间 |
| **级别** | 严重性：信息（灰色）、警告（橙色）、错误（红色） |
| **消息** | 人类可读的事件描述 |
| **上下文** | 可扩展的 JSON 详细信息 |
| **代码** | 错误代码（链接到文档） |

## 日志级别

### 信息（灰色）

正常操作和成功事件：
- “获取了所有产品的 ID”
- “同步了新客户”
- “获取了所有税收的 ID”

### 警告（橙色）

非关键问题，可能需要注意：
- “无法刷新会话”
- “同步重试尝试”

### 错误（红色）

需要解决的问题：
- “对不起，您无法列出资源”（权限问题）
- “API 请求失败”
- “数据库同步错误”

## 上下文数据

点击任何日志条目的展开箭头以查看详细的 JSON 上下文：

```json
{
  "total": "6",
  "execution_time": "54.79 ms",
  "server_load": "[10.51, 10.42, 9.98]"
}
```

这些数据包括：
- **项目计数** - 受影响的记录数量
- **执行时间** - 操作耗时
- **服务器负载** - 服务器性能指标
- **请求/响应详细信息** - 供 API 问题调试使用

## 错误代码

许多日志条目包含 **错误代码**（例如，`API02004`，`DB01001`）。这些代码直接链接到 [错误代码](/error-codes) 文档，该文档提供：

- 错误的详细解释
- 常见原因
- 故障排除步骤

## 常见日志条目

### 同步操作

```
[info] Fetched all IDs for products    {...} 3 items
[info] Synced new customers            {...} 1 item
[info] Fetched all IDs for taxes       {...} 3 items
```

这些指示正常的同步活动。上下文显示同步了多少项目。

### 权限错误

```
[error] Sorry, you cannot list resources    {...} API02004
```

这通常意味着用户没有权限访问资源。检查 `WP Admin > POS > 设置 > 访问` 中的用户角色。

### 会话问题

```
[warn] Unable to refresh session    {...} API02007
```

POS 无法刷新身份验证会话。这可能需要注销并重新登录。

## 使用日志进行支持

请求支持时：

1. **重现问题** - 执行导致问题的操作
2. **检查日志** - 查找错误（红色）或警告（橙色）
3. **展开上下文** - 获取完整的 JSON 详细信息
4. **记录错误代码** - 在支持请求中包含此项
5. **复制相关条目** - 与上下文共享日志消息

## 性能监控

日志包括执行时间和服务器负载指标。如果您注意到：

- **高执行时间** - 服务器可能过载或缓慢
- **高服务器负载值** - 考虑服务器优化
- **频繁超时** - 检查网络连接

## 相关文档

<LinkCards>
  <LinkCard to="/error-codes" title="错误代码" description="详细的错误解释" />
  <LinkCard to="/category/troubleshooting" title="故障排除" description="常见问题和解决方案" />
  <LinkCard to="/support" title="支持" description="获得帮助" />
</LinkCards>