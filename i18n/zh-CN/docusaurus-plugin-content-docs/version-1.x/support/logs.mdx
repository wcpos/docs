---
title: 日志
sidebar_label: 日志
sidebar_position: 2
---

import Image from "@theme/IdealImage";

日志界面记录 POS 系统内的活动。这是一个用于调试问题和了解幕后情况的重要工具。

{/* Screenshot: logs-screen.png */}

## 访问日志

从左侧导航抽屉（心跳图标）打开日志界面。

## 界面概览

### 搜索和过滤

- **搜索日志** - 通过消息内容查找特定日志条目
- **日志级别过滤** - 按日志级别过滤（信息、警告、错误）
- **显示设置** - 配置可见列

### 日志表格

每个日志条目显示：

| 列 | 描述 |
|--------|-------------|
| **时间** | 事件发生时间 |
| **级别** | 严重性：信息（灰色）、警告（橙色）、错误（红色） |
| **消息** | 事件的可读描述 |
| **上下文** | 可展开的 JSON，包含额外详情 |
| **代码** | 错误代码（链接到文档） |

## 日志级别

### 信息（灰色）

正常操作和成功事件：
- "获取所有产品 ID"
- "同步新客户"
- "获取所有税费 ID"

### 警告（橙色）

可能需要关注的非关键问题：
- "无法刷新会话"
- "同步重试尝试"

### 错误（红色）

需要处理的问题：
- "抱歉，您无法列出资源"（权限问题）
- "API 请求失败"
- "数据库同步错误"

## 上下文数据

点击任何日志条目的展开箭头，查看详细的 JSON 上下文：

```json
{
  "total": "6",
  "execution_time": "54.79 ms",
  "server_load": "[10.51, 10.42, 9.98]"
}
```

这些数据包括：
- **项目数量** - 受影响的记录数
- **执行时间** - 操作耗时
- **服务器负载** - 服务器性能指标
- **请求/响应详情** - 用于调试 API 问题

## 错误代码

许多日志条目包含**错误代码**（例如 `API02004`、`DB01001`）。这些代码直接链接到[错误代码](/error-codes)文档，提供：

- 错误的详细解释
- 常见原因
- 故障排除步骤

## 常见日志条目

### 同步操作

```
[info] 获取所有产品 ID    {...} 3 项
[info] 同步新客户            {...} 1 项
[info] 获取所有税费 ID       {...} 3 项
```

这些表示正常的同步活动。上下文显示同步的项目数量。

### 权限错误

```
[error] 抱歉，您无法列出资源    {...} API02004
```

这通常意味着用户没有访问资源的权限。检查 `WP Admin > POS > 设置 > 访问` 中的用户角色。

### 会话问题

```
[warn] 无法刷新会话    {...} API02007
```

POS 无法刷新身份验证会话。可能需要重新登录。

## 使用日志获取支持

请求支持时：

1. **重现问题** - 执行导致问题的操作
2. **检查日志** - 查找错误（红色）或警告（橙色）
3. **展开上下文** - 获取完整的 JSON 详情
4. **记下错误代码** - 在支持请求中包含此代码
5. **复制相关条目** - 分享带有上下文的日志消息

## 性能监控

日志包括执行时间和服务器负载指标。如果注意到：

- **高执行时间** - 服务器可能过载或缓慢
- **高服务器负载值** - 考虑服务器优化
- **频繁超时** - 检查网络连接

## 相关文档

- [错误代码](/error-codes) - 详细的错误解释
- [故障排除](/support/troubleshooting/critical-error) - 常见问题和解决方案
- [支持](/support) - 获取帮助