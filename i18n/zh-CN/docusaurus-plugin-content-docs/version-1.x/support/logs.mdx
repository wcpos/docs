---
title: 日志
sidebar_label: 日志
sidebar_position: 2
---

import Image from "@theme/IdealImage";

日志屏幕记录了POS系统内的活动。它是排除故障和了解幕后发生情况的基本工具。

{/* 截图: logs-screen.png */}

## 访问日志

从左侧导航抽屉中打开日志屏幕（心跳图标）。

## 界面概览

### 搜索与过滤

- **搜索日志** - 通过消息内容查找特定日志条目
- **日志级别过滤** - 按日志级别过滤（信息、警告、错误）
- **显示设置** - 配置可见列

### 日志表格

每个日志条目显示：

| 列      | 描述                      |
|---------|---------------------------|
| **时间** | 事件发生的时间            |
| **级别** | 严重性：信息（灰色）、警告（橙色）、错误（红色） |
| **消息** | 事件的可读性描述          |
| **上下文** | 可展开的JSON，提供详细信息 |
| **代码** | 错误代码（链接到文档）     |

## 日志级别

### 信息（灰色）

正常操作和成功事件：
- "已获取所有产品的ID"
- "已同步新客户"
- "已获取所有税务的ID"

### 警告（橙色）

非关键性问题，可能需要关注：
- "无法刷新会话"
- "同步重试"

### 错误（红色）

需要解决的问题：
- "抱歉，您不能列出资源"（权限问题）
- "API请求失败"
- "数据库同步错误"

## 上下文数据

单击任何日志条目的展开箭头以查看详细的JSON上下文：

```json
{
  "total": "6",
  "execution_time": "54.79 ms",
  "server_load": "[10.51, 10.42, 9.98]"
}
```

此数据包括：
- **项目计数** - 受影响的记录数量
- **执行时间** - 操作所花费的时间
- **服务器负载** - 服务器性能指标
- **请求/响应详细信息** - 用于调试API问题

## 错误代码

许多日志条目包括**错误代码**（例如，`API02004`，`DB01001`）。这些代码直接链接到[错误代码](/error-codes)文档，提供：

- 错误的详细说明
- 常见原因
- 排除故障的步骤

## 常见日志条目

### 同步操作

```
[info] Fetched all IDs for products    {...} 3 items
[info] Synced new customers            {...} 1 item
[info] Fetched all IDs for taxes       {...} 3 items
```

这些表示正常的同步活动。上下文显示同步了多少项。

### 权限错误

```
[error] Sorry, you cannot list resources    {...} API02004
```

这通常意味着用户没有权限访问某个资源。请检查 `WP Admin > POS > 设置 > 访问` 的用户角色。

### 会话问题

```
[warn] Unable to refresh session    {...} API02007
```

POS无法刷新认证会话。这可能需要注销后再登录。

## 使用日志进行支持

请求支持时：

1. **重现问题** - 执行导致问题的操作
2. **检查日志** - 查找错误（红色）或警告（橙色）
3. **展开上下文** - 获取完整的JSON详细信息
4. **记下错误代码** - 在您的支持请求中包括此内容
5. **复制相关条目** - 与上下文共享日志消息

## 性能监控

日志包括执行时间和服务器负载指标。如果您注意到：

- **高执行时间** - 服务器可能过载或速度较慢
- **高服务器负载值** - 考虑进行服务器优化
- **频繁超时** - 检查网络连接

## 相关文档

- [错误代码](/error-codes) - 错误详细说明
- [故障排除](/support/troubleshooting/critical-error) - 常见问题及解决方案
- [支持](/support) - 获取帮助