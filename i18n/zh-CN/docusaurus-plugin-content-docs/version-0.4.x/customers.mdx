---
title: 客户
---

:::important
此功能需要升级到 [WCPOS Pro](http://wcpos.com/pro)。
:::

### 能力 {#capabilities}

收银员将需要具有 _list_users_，_create_users_ 和 _edit_users_ 能力才能使用所有客户功能。

### WordPress 多站点 {#wordpress-multisite}

使用 [WordPress 多站点](https://codex.wordpress.org/Create_A_Network) 时，有一些 [额外检查](https://github.com/WordPress/WordPress/blob/master/wp-includes/capabilities.php) 以防止非 [超级管理员](https://codex.wordpress.org/Roles_and_Capabilities#Super_Admin) 创建和编辑客户。

首先，为了让非超级管理员 **创建** 新客户，请在 `网络管理 > 设置` 中启用以下选项。

![多站点创建新用户选项](https://wcpos.com/wp-content/uploads/2016/09/multisite-create-new-users.png "多站点创建新用户选项")

此外，为了让非超级管理员 **编辑** 客户详细信息，您需要将 `manage_network_users` 能力添加到收银员。

```php title="functions.php"
// 改变 CASHIER_ID，并
// 添加到您的 functions.php 文件

add_filter('map_meta_cap', 'wc_pos_map_meta_cap', 10, 3);

function wc_pos_map_meta_cap($caps, $cap, $user_id){
  if(is_pos() && $cap == 'edit_users' && $user_id === CASHIER_ID){
    $caps = array('edit_users');
  }
  return $caps;
}
```