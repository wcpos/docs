---
title: Clientes
---

:::important
Este recurso requer uma atualização para o [WCPOS Pro](http://wcpos.com/pro).
:::

### Capacidades

Os caixas precisarão das permissões _list_users_, _create_users_ e _edit_users_ para usar todos os recursos de Cliente.

### WordPress Multisite

Ao usar o [WordPress multisite](https://codex.wordpress.org/Create_A_Network), existem algumas [verificações adicionais](https://github.com/WordPress/WordPress/blob/master/wp-includes/capabilities.php) para impedir que não [Super Administradores](https://codex.wordpress.org/Roles_and_Capabilities#Super_Admin) criem e editem clientes.

Primeiro, para que não Super Administradores possam **criar** novos clientes, ative a seguinte opção em `Administração da Rede > Configurações`.

![Opção do Multisite para criar novos usuários](https://wcpos.com/wp-content/uploads/2016/09/multisite-create-new-users.png "Opção do Multisite para criar novos usuários")

Adicionalmente, para que não Super Administradores possam **editar** detalhes do cliente, você precisará adicionar a permissão `manage_network_users` ao caixa.

```php title="functions.php"
// altere o ID_DO_CAIXA, e
// adicione ao seu arquivo functions.php

add_filter('map_meta_cap', 'wc_pos_map_meta_cap', 10, 3);

function wc_pos_map_meta_cap($caps, $cap, $user_id){
  if(is_pos() && $cap == 'edit_users' && $user_id === ID_DO_CAIXA){
    $caps = array('edit_users');
  }
  return $caps;
}
```