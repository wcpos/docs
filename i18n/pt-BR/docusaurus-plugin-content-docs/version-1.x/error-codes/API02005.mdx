---
title: "API02005: Permissões Insuficientes"
sidebar_label: API02005
---

# API02005: Permissões Insuficientes {#api02005-insufficient-permissions}

## O Que Isso Significa {#what-this-means}

Sua conta de usuário não possui as capacidades específicas do WordPress necessárias para esta ação. Embora você tenha acesso básico, a operação específica que você está tentando realizar precisa de permissões adicionais.

## Causas Comuns {#common-causes}

- **Função de usuário limitada** — Sua função não inclui todas as capacidades necessárias
- **Capacidade não atribuída** — Uma capacidade específica está faltando em sua função
- **Restrições de plugin** — Um plugin de segurança está limitando capacidades
- **Problemas com funções personalizadas** — Funções personalizadas podem estar faltando capacidades

## Mapeamento de Erros do Servidor {#server-error-mapping}

Este código de erro é acionado quando o servidor retorna:

| Código do Servidor | Fonte |
|-------------------|-------|
| `rest_forbidden` | WordPress REST API |
| `rest_cannot_create` | WordPress REST API |
| `rest_cannot_edit` | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403 | Qualquer resposta do servidor (fallback) |

## Como Corrigir {#how-to-fix}

### 1. Revise as Capacidades Necessárias {#1-review-required-capabilities}

Capacidades comuns necessárias para operações do POS:
- `manage_woocommerce` — Gerenciamento geral do WooCommerce
- `edit_shop_orders` — Criar e editar pedidos
- `edit_products` — Modificar informações do produto
- `edit_users` — Gerenciar contas de clientes

### 2. Atualize a Função do Usuário {#2-upgrade-user-role}

Peça a um administrador para atribuir uma função mais capaz:
- **Gerente da Loja** — Acesso total ao WooCommerce
- **Administrador** — Acesso total ao site

### 3. Adicione Capacidades Específicas {#3-add-specific-capabilities}

Se você precisar de uma função personalizada, adicione as capacidades necessárias:

```php
// Example: Add POS capabilities to a custom role
$role = get_role('your_custom_role');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. Verifique Conflitos de Plugins {#4-check-plugin-conflicts}

Alguns plugins de segurança ou gerenciamento de funções podem restringir capacidades:
- Revise as configurações do plugin
- Verifique se há filtros de capacidade
- Desative temporariamente para testar

## Erros Relacionados {#related-errors}

- [API02004](./API02004) — Usuário Não Autorizado
- [API02010](./API02010) — Autenticação Requerida