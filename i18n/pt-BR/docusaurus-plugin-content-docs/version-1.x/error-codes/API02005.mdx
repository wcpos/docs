---
title: "API02005: Permissões Insuficientes"
sidebar_label: API02005
description: Erro de permissão no WCPOS que ocorre quando o usuário não tem capacidades suficientes para realizar uma ação.
---

# API02005: Permissões Insuficientes

## O Que Isso Significa

Sua conta de usuário não possui as capacidades específicas do WordPress necessárias para esta ação. Embora você tenha acesso básico, a operação que está tentando realizar precisa de permissões adicionais.

## Causas Comuns

- **Função de usuário limitada** — Sua função não inclui todas as capacidades necessárias
- **Capacidade não atribuída** — Uma capacidade específica está faltando na sua função
- **Restrições de plugin** — Um plugin de segurança está limitando capacidades
- **Problemas com função personalizada** — Funções personalizadas podem estar sem capacidades

## Mapeamento de Erro do Servidor

Este código de erro é disparado quando o servidor retorna:

| Código do Servidor | Fonte |
|-------------|--------|
| `rest_forbidden` | WordPress REST API |
| `rest_cannot_create` | WordPress REST API |
| `rest_cannot_edit` | WordPress REST API |
| `rest_cannot_delete` | WordPress REST API |
| `woocommerce_rest_cannot_create` | WooCommerce REST API |
| `woocommerce_rest_cannot_edit` | WooCommerce REST API |
| `woocommerce_rest_cannot_delete` | WooCommerce REST API |
| HTTP 403 | Qualquer resposta do servidor (fallback) |

## Como Corrigir

### 1. Revisar Capacidades Necessárias

Capacidades comuns necessárias para operações de PDV:
- `manage_woocommerce` — Gerenciamento geral do WooCommerce
- `edit_shop_orders` — Criar e editar pedidos
- `edit_products` — Modificar informações de produtos
- `edit_users` — Gerenciar contas de clientes

### 2. Atualizar Função de Usuário

Peça a um administrador para atribuir uma função mais capaz:
- **Gerente de Loja** — Acesso completo ao WooCommerce
- **Administrador** — Acesso completo ao site

### 3. Adicionar Capacidades Específicas

Se você precisar de uma função personalizada, adicione as capacidades necessárias:

```php
// Exemplo: Adicionar capacidades de PDV a uma função personalizada
$role = get_role('sua_funcao_personalizada');
$role->add_cap('manage_woocommerce');
$role->add_cap('edit_shop_orders');
```

### 4. Verificar Conflitos de Plugins

Alguns plugins de segurança ou gerenciamento de funções podem restringir capacidades:
- Revise as configurações do plugin
- Verifique filtros de capacidade
- Desative temporariamente para testar

## Erros Relacionados

- [API02004](./API02004) — Usuário Não Autorizado
- [API02010](./API02010) — Autenticação Necessária