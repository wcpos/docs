---
title: Finalização de Compra
sidebar_label: Finalização de Compra
sidebar_position: 1
---

import Image from "@theme/IdealImage";

Quando você estiver pronto para completar uma venda, clique no botão **Finalização de Compra** para abrir o modal de finalização de compra. É aqui que você processa o pagamento e finaliza o pedido.

{/* Screenshot: checkout-modal.png */}

## Visão Geral do Modal de Finalização de Compra

O modal de finalização de compra exibe:

- **Número do Pedido** - O ID do pedido do WooCommerce
- **Valor a Pagar** - Valor total devido
- **Botão de Configurações de Finalização de Compra** - Solucionar problemas de exibição
- **Caixa** - Quem está processando o pedido
- **Cliente** - O cliente para este pedido (link clicável)
- **Campo de Código de Cupom** - Aplicar códigos de desconto
- **Resumo do Pedido** - Produtos, quantidades e totais
- **Métodos de Pagamento** - Opções de pagamento disponíveis
- **Cancelar / Processar Pagamento** - Botões

## Métodos de Pagamento

### Disponível na Versão Gratuita

A versão gratuita do WCPOS inclui dois gateways de pagamento:

- **Dinheiro** - Com cálculo de quantia recebida e troco
- **Cartão** - Para terminais de cartão externos

### Gateways Adicionais (Pro)

:::info Recurso Pro
Gateways de pagamento adicionais requerem [WCPOS Pro](/getting-started/pro-license).
:::

Com o Pro, você pode habilitar:

- **Stripe Terminal** - Integração direta com leitores de cartão Stripe
- **SumUp Terminal** - Integração com leitores de cartão SumUp
- **Gateways Personalizados** - Crie suas próprias integrações de pagamento

Veja [Pagamento](/payment) para detalhes sobre a configuração de gateways.

### Selecionando um Método de Pagamento

Clique em um método de pagamento para selecioná-lo. O formulário é atualizado para mostrar os campos relevantes:

**Dinheiro:**

- **Quantia Recebida** - Insira o valor que o cliente lhe entrega
- **Troco** - Cálculo automático do troco a ser devolvido

{/* Screenshot: checkout-cash-payment.png */}

**Cartão:**

- Processe o pagamento em seu terminal de cartão externo
- Clique em Processar Pagamento para completar

## Códigos de Cupom

Para aplicar um desconto:

1. Insira o código do cupom no campo
2. Clique em **Aplicar cupom**
3. O desconto aparece no resumo do pedido

Os cupons devem ser configurados no WooCommerce (`WP Admin > Marketing > Coupons`).

## Processando o Pagamento

1. Selecione um método de pagamento
2. Para dinheiro, insira a quantia recebida
3. Clique em **Processar Pagamento**
4. O pedido é concluído e o [recibo](/pos/checkout/receipts) é exibido

## Configurações de Finalização de Compra (Solução de Problemas)

O modal de finalização de compra usa um iframe/webview para exibir a página WooCommerce Order Pay. Isso aproveita a infraestrutura de pagamento existente do WooCommerce, o que significa que qualquer gateway de pagamento que funcione com o WooCommerce deve funcionar no POS.

No entanto, scripts de tema e plugin podem às vezes interferir. Clique em **Configurações de Finalização de Compra** para solucionar problemas:

<div class="image-container">
  <Image
    alt="Configurações de Finalização de Compra no Modal de Checkout"
    img="/img/checkout-settings.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Configurações de Finalização de Compra no Modal de Checkout</p>
</div>

<div class="image-container">
  <Image
    alt="Formulário para desativar todos os estilos e scripts"
    img="/img/disable-styles-and-scripts.png"
    style={{ maxHeight: 600 }}
  />
  <p class="image-caption">Formulário para desativar todos os estilos e scripts</p>
</div>

### Desativar Todos os Estilos e Scripts

:::warning Opção Nuclear
Esta é a opção nuclear e deve ser usada apenas para testes ou em raras ocasiões em que o desenvolvedor sabe o que está fazendo. Desativar todos os scripts wp_head removerá até mesmo os scripts do WooCommerce necessários para expandir/contrair os gateways de pagamento, potencialmente quebrando a funcionalidade de pagamento.
:::

- **Desativar wp_head** - Remove todos os scripts/estilos do cabeçalho do WordPress
- **Desativar wp_footer** - Remove todos os scripts/estilos do rodapé do WordPress

### Desativar Estilos Selecionados

Desative seletivamente CSS que pode causar problemas de exibição:

- wp-emoji-styles
- wp-block-library
- classic-theme-styles
- woocommerce-layout
- woocommerce-smallscreen
- woocommerce-general
- etc.

### Desativar Scripts Selecionados

Desative seletivamente JavaScript que pode interferir com os gateways de pagamento:

- wc-add-to-cart
- selectWoo
- wc-checkout
- woocommerce
- html5shiv
- etc.

:::tip
Se um gateway de pagamento não for exibido corretamente:

1. Tente desativar os estilos do tema primeiro
2. Em seguida, tente desativar os scripts do WooCommerce que não são necessários
3. Tenha cuidado para não desativar scripts necessários pelo seu gateway de pagamento
   :::

## Cancelar

Clique em **Cancelar** para fechar o modal de finalização de compra sem concluir o pedido. O pedido permanece como um carrinho aberto.

## Documentação Relacionada

- [Recibos](/pos/checkout/receipts) - Após o checkout, imprimir ou enviar recibos por e-mail
- [Métodos de Pagamento](/payment) - Configure gateways de pagamento
- [Gateways Personalizados](/payment/custom-gateways) - Crie integrações de pagamento personalizadas

---